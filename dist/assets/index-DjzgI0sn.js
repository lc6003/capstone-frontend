var gH=Object.defineProperty;var FN=t=>{throw TypeError(t)};var vH=(t,e,n)=>e in t?gH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>vH(t,typeof e!="symbol"?e+"":e,n),_A=(t,e,n)=>e.has(t)||FN("Cannot "+n);var u=(t,e,n)=>(_A(t,e,"read from private field"),n?n.call(t):e.get(t)),C=(t,e,n)=>e.has(t)?FN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),A=(t,e,n,r)=>(_A(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),P=(t,e,n)=>(_A(t,e,"access private method"),n);var vn=(t,e,n,r)=>({set _(i){A(t,e,i,n)},get _(){return u(t,e,r)}});function yH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var bH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qR={exports:{}},J1={},YR={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=Symbol.for("react.element"),wH=Symbol.for("react.portal"),xH=Symbol.for("react.fragment"),SH=Symbol.for("react.strict_mode"),AH=Symbol.for("react.profiler"),EH=Symbol.for("react.provider"),_H=Symbol.for("react.context"),CH=Symbol.for("react.forward_ref"),kH=Symbol.for("react.suspense"),PH=Symbol.for("react.memo"),TH=Symbol.for("react.lazy"),BN=Symbol.iterator;function NH(t){return t===null||typeof t!="object"?null:(t=BN&&t[BN]||t["@@iterator"],typeof t=="function"?t:null)}var XR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QR=Object.assign,JR={};function um(t,e,n){this.props=t,this.context=e,this.refs=JR,this.updater=n||XR}um.prototype.isReactComponent={};um.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};um.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZR(){}ZR.prototype=um.prototype;function iP(t,e,n){this.props=t,this.context=e,this.refs=JR,this.updater=n||XR}var sP=iP.prototype=new ZR;sP.constructor=iP;QR(sP,um.prototype);sP.isPureReactComponent=!0;var $N=Array.isArray,ej=Object.prototype.hasOwnProperty,aP={current:null},tj={key:!0,ref:!0,__self:!0,__source:!0};function nj(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)ej.call(e,r)&&!tj.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:w0,type:t,key:s,ref:a,props:i,_owner:aP.current}}function OH(t,e){return{$$typeof:w0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oP(t){return typeof t=="object"&&t!==null&&t.$$typeof===w0}function IH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var UN=/\/+/g;function CA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IH(""+t.key):e.toString(36)}function Zb(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case w0:case wH:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+CA(a,0):r,$N(i)?(n="",t!=null&&(n=t.replace(UN,"$&/")+"/"),Zb(i,e,n,"",function(c){return c})):i!=null&&(oP(i)&&(i=OH(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(UN,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",$N(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+CA(s,o);a+=Zb(s,e,n,l,i)}else if(l=NH(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+CA(s,o++),a+=Zb(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function lb(t,e,n){if(t==null)return t;var r=[],i=0;return Zb(t,r,"","",function(s){return e.call(n,s,i++)}),r}function DH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},ew={transition:null},MH={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:ew,ReactCurrentOwner:aP};function rj(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:lb,forEach:function(t,e,n){lb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lb(t,function(){e++}),e},toArray:function(t){return lb(t,function(e){return e})||[]},only:function(t){if(!oP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=um;Be.Fragment=xH;Be.Profiler=AH;Be.PureComponent=iP;Be.StrictMode=SH;Be.Suspense=kH;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MH;Be.act=rj;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QR({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=aP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ej.call(e,l)&&!tj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:w0,type:t.type,key:i,ref:s,props:r,_owner:a}};Be.createContext=function(t){return t={$$typeof:_H,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EH,_context:t},t.Consumer=t};Be.createElement=nj;Be.createFactory=function(t){var e=nj.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:CH,render:t}};Be.isValidElement=oP;Be.lazy=function(t){return{$$typeof:TH,_payload:{_status:-1,_result:t},_init:DH}};Be.memo=function(t,e){return{$$typeof:PH,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=ew.transition;ew.transition={};try{t()}finally{ew.transition=e}};Be.unstable_act=rj;Be.useCallback=function(t,e){return Lr.current.useCallback(t,e)};Be.useContext=function(t){return Lr.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Lr.current.useEffect(t,e)};Be.useId=function(){return Lr.current.useId()};Be.useImperativeHandle=function(t,e,n){return Lr.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Lr.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Lr.current.useReducer(t,e,n)};Be.useRef=function(t){return Lr.current.useRef(t)};Be.useState=function(t){return Lr.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Lr.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Lr.current.useTransition()};Be.version="18.3.1";YR.exports=Be;var S=YR.exports;const Jo=Xa(S),RH=yH({__proto__:null,default:Jo},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jH=S,LH=Symbol.for("react.element"),FH=Symbol.for("react.fragment"),BH=Object.prototype.hasOwnProperty,$H=jH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UH={key:!0,ref:!0,__self:!0,__source:!0};function ij(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)BH.call(e,r)&&!UH.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LH,type:t,key:s,ref:a,props:i,_owner:$H.current}}J1.Fragment=FH;J1.jsx=ij;J1.jsxs=ij;qR.exports=J1;var m=qR.exports,sj={exports:{}},Vi={},aj={exports:{}},oj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var ne=z.length;z.push(W);e:for(;0<ne;){var re=ne-1>>>1,X=z[re];if(0<i(X,W))z[re]=W,z[ne]=X,ne=re;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],ne=z.pop();if(ne!==W){z[0]=ne;e:for(var re=0,X=z.length,J=X>>>1;re<J;){var ue=2*(re+1)-1,Z=z[ue],le=ue+1,ge=z[le];if(0>i(Z,ne))le<X&&0>i(ge,Z)?(z[re]=ge,z[le]=ne,re=le):(z[re]=Z,z[ue]=ne,re=ue);else if(le<X&&0>i(ge,ne))z[re]=ge,z[le]=ne,re=le;else break e}}return W}function i(z,W){var ne=z.sortIndex-W.sortIndex;return ne!==0?ne:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=z)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function _(z){if(v=!1,w(z),!g)if(n(l)!==null)g=!0,Y(E);else{var W=n(c);W!==null&&U(_,W.startTime-z)}}function E(z,W){g=!1,v&&(v=!1,y(T),T=-1),p=!0;var ne=f;try{for(w(W),h=n(l);h!==null&&(!(h.expirationTime>W)||z&&!D());){var re=h.callback;if(typeof re=="function"){h.callback=null,f=h.priorityLevel;var X=re(h.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),w(W)}else r(l);h=n(l)}if(h!==null)var J=!0;else{var ue=n(c);ue!==null&&U(_,ue.startTime-W),J=!1}return J}finally{h=null,f=ne,p=!1}}var k=!1,O=null,T=-1,N=5,I=-1;function D(){return!(t.unstable_now()-I<N)}function M(){if(O!==null){var z=t.unstable_now();I=z;var W=!0;try{W=O(!0,z)}finally{W?F():(k=!1,O=null)}}else k=!1}var F;if(typeof x=="function")F=function(){x(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=M,F=function(){Q.postMessage(null)}}else F=function(){b(M,0)};function Y(z){O=z,k||(k=!0,F())}function U(z,W){T=b(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Y(E))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var ne=f;f=W;try{return z()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=f;f=z;try{return W()}finally{f=ne}},t.unstable_scheduleCallback=function(z,W,ne){var re=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?re+ne:re):ne=re,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ne+X,z={id:d++,callback:W,priorityLevel:z,startTime:ne,expirationTime:X,sortIndex:-1},ne>re?(z.sortIndex=ne,e(c,z),n(l)===null&&z===n(c)&&(v?(y(T),T=-1):v=!0,U(_,ne-re))):(z.sortIndex=X,e(l,z),g||p||(g=!0,Y(E))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var W=f;return function(){var ne=f;f=W;try{return z.apply(this,arguments)}finally{f=ne}}}})(oj);aj.exports=oj;var zH=aj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HH=S,Ui=zH;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lj=new Set,Gg={};function vh(t,e){zp(t,e),zp(t+"Capture",e)}function zp(t,e){for(Gg[t]=e,t=0;t<e.length;t++)lj.add(e[t])}var ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$E=Object.prototype.hasOwnProperty,WH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zN={},HN={};function VH(t){return $E.call(HN,t)?!0:$E.call(zN,t)?!1:WH.test(t)?HN[t]=!0:(zN[t]=!0,!1)}function GH(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KH(t,e,n,r){if(e===null||typeof e>"u"||GH(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var lP=/[\-:]([a-z])/g;function cP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lP,cP);ir[e]=new Fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lP,cP);ir[e]=new Fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lP,cP);ir[e]=new Fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Fr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function uP(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KH(e,n,i,r)&&(n=null),r||i===null?VH(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Al=HH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cb=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),dP=Symbol.for("react.strict_mode"),UE=Symbol.for("react.profiler"),cj=Symbol.for("react.provider"),uj=Symbol.for("react.context"),hP=Symbol.for("react.forward_ref"),zE=Symbol.for("react.suspense"),HE=Symbol.for("react.suspense_list"),fP=Symbol.for("react.memo"),Rl=Symbol.for("react.lazy"),dj=Symbol.for("react.offscreen"),WN=Symbol.iterator;function Im(t){return t===null||typeof t!="object"?null:(t=WN&&t[WN]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,kA;function tg(t){if(kA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kA=e&&e[1]||""}return`
`+kA+t}var PA=!1;function TA(t,e){if(!t||PA)return"";PA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{PA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tg(t):""}function qH(t){switch(t.tag){case 5:return tg(t.type);case 16:return tg("Lazy");case 13:return tg("Suspense");case 19:return tg("SuspenseList");case 0:case 2:case 15:return t=TA(t.type,!1),t;case 11:return t=TA(t.type.render,!1),t;case 1:return t=TA(t.type,!0),t;default:return""}}function WE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bh:return"Fragment";case Fh:return"Portal";case UE:return"Profiler";case dP:return"StrictMode";case zE:return"Suspense";case HE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uj:return(t.displayName||"Context")+".Consumer";case cj:return(t._context.displayName||"Context")+".Provider";case hP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fP:return e=t.displayName||null,e!==null?e:WE(t.type)||"Memo";case Rl:e=t._payload,t=t._init;try{return WE(t(e))}catch{}}return null}function YH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WE(e);case 8:return e===dP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XH(t){var e=hj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ub(t){t._valueTracker||(t._valueTracker=XH(t))}function fj(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VE(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pj(t,e){e=e.checked,e!=null&&uP(t,"checked",e,!1)}function GE(t,e){pj(t,e);var n=Xc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?KE(t,e.type,n):e.hasOwnProperty("defaultValue")&&KE(t,e.type,Xc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function GN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function KE(t,e,n){(e!=="number"||Zw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ng=Array.isArray;function rf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(ng(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xc(n)}}function mj(t,e){var n=Xc(e.value),r=Xc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function YE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var db,vj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(db=db||document.createElement("div"),db.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=db.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QH=["Webkit","ms","Moz","O"];Object.keys(Tg).forEach(function(t){QH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tg[e]=Tg[t]})});function yj(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tg.hasOwnProperty(t)&&Tg[t]?(""+e).trim():e+"px"}function bj(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yj(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JH=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XE(t,e){if(e){if(JH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function QE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JE=null;function pP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ZE=null,sf=null,af=null;function YN(t){if(t=A0(t)){if(typeof ZE!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=rS(e),ZE(t.stateNode,t.type,e))}}function wj(t){sf?af?af.push(t):af=[t]:sf=t}function xj(){if(sf){var t=sf,e=af;if(af=sf=null,YN(t),e)for(t=0;t<e.length;t++)YN(e[t])}}function Sj(t,e){return t(e)}function Aj(){}var NA=!1;function Ej(t,e,n){if(NA)return t(e,n);NA=!0;try{return Sj(t,e,n)}finally{NA=!1,(sf!==null||af!==null)&&(Aj(),xj())}}function qg(t,e){var n=t.stateNode;if(n===null)return null;var r=rS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var e_=!1;if(ol)try{var Dm={};Object.defineProperty(Dm,"passive",{get:function(){e_=!0}}),window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{e_=!1}function ZH(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ng=!1,ex=null,tx=!1,t_=null,e8={onError:function(t){Ng=!0,ex=t}};function t8(t,e,n,r,i,s,a,o,l){Ng=!1,ex=null,ZH.apply(e8,arguments)}function n8(t,e,n,r,i,s,a,o,l){if(t8.apply(this,arguments),Ng){if(Ng){var c=ex;Ng=!1,ex=null}else throw Error(ie(198));tx||(tx=!0,t_=c)}}function yh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _j(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XN(t){if(yh(t)!==t)throw Error(ie(188))}function r8(t){var e=t.alternate;if(!e){if(e=yh(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return XN(i),t;if(s===r)return XN(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function Cj(t){return t=r8(t),t!==null?kj(t):null}function kj(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kj(t);if(e!==null)return e;t=t.sibling}return null}var Pj=Ui.unstable_scheduleCallback,QN=Ui.unstable_cancelCallback,i8=Ui.unstable_shouldYield,s8=Ui.unstable_requestPaint,on=Ui.unstable_now,a8=Ui.unstable_getCurrentPriorityLevel,mP=Ui.unstable_ImmediatePriority,Tj=Ui.unstable_UserBlockingPriority,nx=Ui.unstable_NormalPriority,o8=Ui.unstable_LowPriority,Nj=Ui.unstable_IdlePriority,Z1=null,Ua=null;function l8(t){if(Ua&&typeof Ua.onCommitFiberRoot=="function")try{Ua.onCommitFiberRoot(Z1,t,void 0,(t.current.flags&128)===128)}catch{}}var Zs=Math.clz32?Math.clz32:d8,c8=Math.log,u8=Math.LN2;function d8(t){return t>>>=0,t===0?32:31-(c8(t)/u8|0)|0}var hb=64,fb=4194304;function rg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=rg(o):(s&=a,s!==0&&(r=rg(s)))}else a=n&~i,a!==0?r=rg(a):s!==0&&(r=rg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zs(e),i=1<<n,r|=t[n],e&=~i;return r}function h8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Zs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=h8(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function n_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Oj(){var t=hb;return hb<<=1,!(hb&4194240)&&(hb=64),t}function OA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function x0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zs(e),t[e]=n}function p8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rt=0;function Ij(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dj,vP,Mj,Rj,jj,r_=!1,pb=[],Fc=null,Bc=null,$c=null,Yg=new Map,Xg=new Map,Bl=[],m8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JN(t,e){switch(t){case"focusin":case"focusout":Fc=null;break;case"dragenter":case"dragleave":Bc=null;break;case"mouseover":case"mouseout":$c=null;break;case"pointerover":case"pointerout":Yg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(e.pointerId)}}function Mm(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=A0(e),e!==null&&vP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g8(t,e,n,r,i){switch(e){case"focusin":return Fc=Mm(Fc,t,e,n,r,i),!0;case"dragenter":return Bc=Mm(Bc,t,e,n,r,i),!0;case"mouseover":return $c=Mm($c,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yg.set(s,Mm(Yg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xg.set(s,Mm(Xg.get(s)||null,t,e,n,r,i)),!0}return!1}function Lj(t){var e=ku(t.target);if(e!==null){var n=yh(e);if(n!==null){if(e=n.tag,e===13){if(e=_j(n),e!==null){t.blockedOn=e,jj(t.priority,function(){Mj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);JE=r,n.target.dispatchEvent(r),JE=null}else return e=A0(n),e!==null&&vP(e),t.blockedOn=n,!1;e.shift()}return!0}function ZN(t,e,n){tw(t)&&n.delete(e)}function v8(){r_=!1,Fc!==null&&tw(Fc)&&(Fc=null),Bc!==null&&tw(Bc)&&(Bc=null),$c!==null&&tw($c)&&($c=null),Yg.forEach(ZN),Xg.forEach(ZN)}function Rm(t,e){t.blockedOn===e&&(t.blockedOn=null,r_||(r_=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,v8)))}function Qg(t){function e(i){return Rm(i,t)}if(0<pb.length){Rm(pb[0],t);for(var n=1;n<pb.length;n++){var r=pb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fc!==null&&Rm(Fc,t),Bc!==null&&Rm(Bc,t),$c!==null&&Rm($c,t),Yg.forEach(e),Xg.forEach(e),n=0;n<Bl.length;n++)r=Bl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bl.length&&(n=Bl[0],n.blockedOn===null);)Lj(n),n.blockedOn===null&&Bl.shift()}var of=Al.ReactCurrentBatchConfig,ix=!0;function y8(t,e,n,r){var i=rt,s=of.transition;of.transition=null;try{rt=1,yP(t,e,n,r)}finally{rt=i,of.transition=s}}function b8(t,e,n,r){var i=rt,s=of.transition;of.transition=null;try{rt=4,yP(t,e,n,r)}finally{rt=i,of.transition=s}}function yP(t,e,n,r){if(ix){var i=i_(t,e,n,r);if(i===null)UA(t,e,r,sx,n),JN(t,r);else if(g8(i,t,e,n,r))r.stopPropagation();else if(JN(t,r),e&4&&-1<m8.indexOf(t)){for(;i!==null;){var s=A0(i);if(s!==null&&Dj(s),s=i_(t,e,n,r),s===null&&UA(t,e,r,sx,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else UA(t,e,r,null,n)}}var sx=null;function i_(t,e,n,r){if(sx=null,t=pP(r),t=ku(t),t!==null)if(e=yh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_j(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sx=t,null}function Fj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a8()){case mP:return 1;case Tj:return 4;case nx:case o8:return 16;case Nj:return 536870912;default:return 16}default:return 16}}var jc=null,bP=null,nw=null;function Bj(){if(nw)return nw;var t,e=bP,n=e.length,r,i="value"in jc?jc.value:jc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return nw=i.slice(t,1<r?1-r:void 0)}function rw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mb(){return!0}function eO(){return!1}function Gi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mb:eO,this.isPropagationStopped=eO,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mb)},persist:function(){},isPersistent:mb}),e}var dm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wP=Gi(dm),S0=Kt({},dm,{view:0,detail:0}),w8=Gi(S0),IA,DA,jm,eS=Kt({},S0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jm&&(jm&&t.type==="mousemove"?(IA=t.screenX-jm.screenX,DA=t.screenY-jm.screenY):DA=IA=0,jm=t),IA)},movementY:function(t){return"movementY"in t?t.movementY:DA}}),tO=Gi(eS),x8=Kt({},eS,{dataTransfer:0}),S8=Gi(x8),A8=Kt({},S0,{relatedTarget:0}),MA=Gi(A8),E8=Kt({},dm,{animationName:0,elapsedTime:0,pseudoElement:0}),_8=Gi(E8),C8=Kt({},dm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k8=Gi(C8),P8=Kt({},dm,{data:0}),nO=Gi(P8),T8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O8[t])?!!e[t]:!1}function xP(){return I8}var D8=Kt({},S0,{key:function(t){if(t.key){var e=T8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xP,charCode:function(t){return t.type==="keypress"?rw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M8=Gi(D8),R8=Kt({},eS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rO=Gi(R8),j8=Kt({},S0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xP}),L8=Gi(j8),F8=Kt({},dm,{propertyName:0,elapsedTime:0,pseudoElement:0}),B8=Gi(F8),$8=Kt({},eS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U8=Gi($8),z8=[9,13,27,32],SP=ol&&"CompositionEvent"in window,Og=null;ol&&"documentMode"in document&&(Og=document.documentMode);var H8=ol&&"TextEvent"in window&&!Og,$j=ol&&(!SP||Og&&8<Og&&11>=Og),iO=" ",sO=!1;function Uj(t,e){switch(t){case"keyup":return z8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $h=!1;function W8(t,e){switch(t){case"compositionend":return zj(e);case"keypress":return e.which!==32?null:(sO=!0,iO);case"textInput":return t=e.data,t===iO&&sO?null:t;default:return null}}function V8(t,e){if($h)return t==="compositionend"||!SP&&Uj(t,e)?(t=Bj(),nw=bP=jc=null,$h=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $j&&e.locale!=="ko"?null:e.data;default:return null}}var G8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G8[t.type]:e==="textarea"}function Hj(t,e,n,r){wj(r),e=ax(e,"onChange"),0<e.length&&(n=new wP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ig=null,Jg=null;function K8(t){eL(t,0)}function tS(t){var e=Hh(t);if(fj(e))return t}function q8(t,e){if(t==="change")return e}var Wj=!1;if(ol){var RA;if(ol){var jA="oninput"in document;if(!jA){var oO=document.createElement("div");oO.setAttribute("oninput","return;"),jA=typeof oO.oninput=="function"}RA=jA}else RA=!1;Wj=RA&&(!document.documentMode||9<document.documentMode)}function lO(){Ig&&(Ig.detachEvent("onpropertychange",Vj),Jg=Ig=null)}function Vj(t){if(t.propertyName==="value"&&tS(Jg)){var e=[];Hj(e,Jg,t,pP(t)),Ej(K8,e)}}function Y8(t,e,n){t==="focusin"?(lO(),Ig=e,Jg=n,Ig.attachEvent("onpropertychange",Vj)):t==="focusout"&&lO()}function X8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tS(Jg)}function Q8(t,e){if(t==="click")return tS(e)}function J8(t,e){if(t==="input"||t==="change")return tS(e)}function Z8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var na=typeof Object.is=="function"?Object.is:Z8;function Zg(t,e){if(na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$E.call(e,i)||!na(t[i],e[i]))return!1}return!0}function cO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uO(t,e){var n=cO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cO(n)}}function Gj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kj(){for(var t=window,e=Zw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zw(t.document)}return e}function AP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eW(t){var e=Kj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gj(n.ownerDocument.documentElement,n)){if(r!==null&&AP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=uO(n,s);var a=uO(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tW=ol&&"documentMode"in document&&11>=document.documentMode,Uh=null,s_=null,Dg=null,a_=!1;function dO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a_||Uh==null||Uh!==Zw(r)||(r=Uh,"selectionStart"in r&&AP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dg&&Zg(Dg,r)||(Dg=r,r=ax(s_,"onSelect"),0<r.length&&(e=new wP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Uh)))}function gb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zh={animationend:gb("Animation","AnimationEnd"),animationiteration:gb("Animation","AnimationIteration"),animationstart:gb("Animation","AnimationStart"),transitionend:gb("Transition","TransitionEnd")},LA={},qj={};ol&&(qj=document.createElement("div").style,"AnimationEvent"in window||(delete zh.animationend.animation,delete zh.animationiteration.animation,delete zh.animationstart.animation),"TransitionEvent"in window||delete zh.transitionend.transition);function nS(t){if(LA[t])return LA[t];if(!zh[t])return t;var e=zh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qj)return LA[t]=e[n];return t}var Yj=nS("animationend"),Xj=nS("animationiteration"),Qj=nS("animationstart"),Jj=nS("transitionend"),Zj=new Map,hO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nu(t,e){Zj.set(t,e),vh(e,[t])}for(var FA=0;FA<hO.length;FA++){var BA=hO[FA],nW=BA.toLowerCase(),rW=BA[0].toUpperCase()+BA.slice(1);nu(nW,"on"+rW)}nu(Yj,"onAnimationEnd");nu(Xj,"onAnimationIteration");nu(Qj,"onAnimationStart");nu("dblclick","onDoubleClick");nu("focusin","onFocus");nu("focusout","onBlur");nu(Jj,"onTransitionEnd");zp("onMouseEnter",["mouseout","mouseover"]);zp("onMouseLeave",["mouseout","mouseover"]);zp("onPointerEnter",["pointerout","pointerover"]);zp("onPointerLeave",["pointerout","pointerover"]);vh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vh("onBeforeInput",["compositionend","keypress","textInput","paste"]);vh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ig="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iW=new Set("cancel close invalid load scroll toggle".split(" ").concat(ig));function fO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n8(r,e,void 0,t),t.currentTarget=null}function eL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;fO(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;fO(i,o,c),s=l}}}if(tx)throw t=t_,tx=!1,t_=null,t}function Ct(t,e){var n=e[d_];n===void 0&&(n=e[d_]=new Set);var r=t+"__bubble";n.has(r)||(tL(e,t,2,!1),n.add(r))}function $A(t,e,n){var r=0;e&&(r|=4),tL(n,t,r,e)}var vb="_reactListening"+Math.random().toString(36).slice(2);function ev(t){if(!t[vb]){t[vb]=!0,lj.forEach(function(n){n!=="selectionchange"&&(iW.has(n)||$A(n,!1,t),$A(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vb]||(e[vb]=!0,$A("selectionchange",!1,e))}}function tL(t,e,n,r){switch(Fj(e)){case 1:var i=y8;break;case 4:i=b8;break;default:i=yP}n=i.bind(null,e,n,t),i=void 0,!e_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function UA(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ku(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Ej(function(){var c=s,d=pP(n),h=[];e:{var f=Zj.get(t);if(f!==void 0){var p=wP,g=t;switch(t){case"keypress":if(rw(n)===0)break e;case"keydown":case"keyup":p=M8;break;case"focusin":g="focus",p=MA;break;case"focusout":g="blur",p=MA;break;case"beforeblur":case"afterblur":p=MA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=S8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L8;break;case Yj:case Xj:case Qj:p=_8;break;case Jj:p=B8;break;case"scroll":p=w8;break;case"wheel":p=U8;break;case"copy":case"cut":case"paste":p=k8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rO}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=qg(x,y),_!=null&&v.push(tv(x,_,w)))),b)break;x=x.return}0<v.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==JE&&(g=n.relatedTarget||n.fromElement)&&(ku(g)||g[ll]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?ku(g):null,g!==null&&(b=yh(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=tO,_="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=rO,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?f:Hh(p),w=g==null?f:Hh(g),f=new v(_,x+"leave",p,n,d),f.target=b,f.relatedTarget=w,_=null,ku(d)===c&&(v=new v(y,x+"enter",g,n,d),v.target=w,v.relatedTarget=b,_=v),b=_,p&&g)t:{for(v=p,y=g,x=0,w=v;w;w=Ch(w))x++;for(w=0,_=y;_;_=Ch(_))w++;for(;0<x-w;)v=Ch(v),x--;for(;0<w-x;)y=Ch(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ch(v),y=Ch(y)}v=null}else v=null;p!==null&&pO(h,f,p,v,!1),g!==null&&b!==null&&pO(h,b,g,v,!0)}}e:{if(f=c?Hh(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=q8;else if(aO(f))if(Wj)E=J8;else{E=X8;var k=Y8}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Q8);if(E&&(E=E(t,c))){Hj(h,E,n,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&KE(f,"number",f.value)}switch(k=c?Hh(c):window,t){case"focusin":(aO(k)||k.contentEditable==="true")&&(Uh=k,s_=c,Dg=null);break;case"focusout":Dg=s_=Uh=null;break;case"mousedown":a_=!0;break;case"contextmenu":case"mouseup":case"dragend":a_=!1,dO(h,n,d);break;case"selectionchange":if(tW)break;case"keydown":case"keyup":dO(h,n,d)}var O;if(SP)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $h?Uj(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($j&&n.locale!=="ko"&&($h||T!=="onCompositionStart"?T==="onCompositionEnd"&&$h&&(O=Bj()):(jc=d,bP="value"in jc?jc.value:jc.textContent,$h=!0)),k=ax(c,T),0<k.length&&(T=new nO(T,t,null,n,d),h.push({event:T,listeners:k}),O?T.data=O:(O=zj(n),O!==null&&(T.data=O)))),(O=H8?W8(t,n):V8(t,n))&&(c=ax(c,"onBeforeInput"),0<c.length&&(d=new nO("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=O))}eL(h,e)})}function tv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ax(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qg(t,n),s!=null&&r.unshift(tv(t,s,i)),s=qg(t,e),s!=null&&r.push(tv(t,s,i))),t=t.return}return r}function Ch(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pO(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=qg(n,s),l!=null&&a.unshift(tv(n,l,o))):i||(l=qg(n,s),l!=null&&a.push(tv(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sW=/\r\n?/g,aW=/\u0000|\uFFFD/g;function mO(t){return(typeof t=="string"?t:""+t).replace(sW,`
`).replace(aW,"")}function yb(t,e,n){if(e=mO(e),mO(t)!==e&&n)throw Error(ie(425))}function ox(){}var o_=null,l_=null;function c_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var u_=typeof setTimeout=="function"?setTimeout:void 0,oW=typeof clearTimeout=="function"?clearTimeout:void 0,gO=typeof Promise=="function"?Promise:void 0,lW=typeof queueMicrotask=="function"?queueMicrotask:typeof gO<"u"?function(t){return gO.resolve(null).then(t).catch(cW)}:u_;function cW(t){setTimeout(function(){throw t})}function zA(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qg(e)}function Uc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hm=Math.random().toString(36).slice(2),Fa="__reactFiber$"+hm,nv="__reactProps$"+hm,ll="__reactContainer$"+hm,d_="__reactEvents$"+hm,uW="__reactListeners$"+hm,dW="__reactHandles$"+hm;function ku(t){var e=t[Fa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ll]||n[Fa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vO(t);t!==null;){if(n=t[Fa])return n;t=vO(t)}return e}t=n,n=t.parentNode}return null}function A0(t){return t=t[Fa]||t[ll],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function rS(t){return t[nv]||null}var h_=[],Wh=-1;function ru(t){return{current:t}}function Tt(t){0>Wh||(t.current=h_[Wh],h_[Wh]=null,Wh--)}function St(t,e){Wh++,h_[Wh]=t.current,t.current=e}var Qc={},wr=ru(Qc),ri=ru(!1),nh=Qc;function Hp(t,e){var n=t.type.contextTypes;if(!n)return Qc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ii(t){return t=t.childContextTypes,t!=null}function lx(){Tt(ri),Tt(wr)}function yO(t,e,n){if(wr.current!==Qc)throw Error(ie(168));St(wr,e),St(ri,n)}function nL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,YH(t)||"Unknown",i));return Kt({},n,r)}function cx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qc,nh=wr.current,St(wr,t),St(ri,ri.current),!0}function bO(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=nL(t,e,nh),r.__reactInternalMemoizedMergedChildContext=t,Tt(ri),Tt(wr),St(wr,t)):Tt(ri),St(ri,n)}var so=null,iS=!1,HA=!1;function rL(t){so===null?so=[t]:so.push(t)}function hW(t){iS=!0,rL(t)}function iu(){if(!HA&&so!==null){HA=!0;var t=0,e=rt;try{var n=so;for(rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}so=null,iS=!1}catch(i){throw so!==null&&(so=so.slice(t+1)),Pj(mP,iu),i}finally{rt=e,HA=!1}}return null}var Vh=[],Gh=0,ux=null,dx=0,fs=[],ps=0,rh=null,Vo=1,Go="";function mu(t,e){Vh[Gh++]=dx,Vh[Gh++]=ux,ux=t,dx=e}function iL(t,e,n){fs[ps++]=Vo,fs[ps++]=Go,fs[ps++]=rh,rh=t;var r=Vo;t=Go;var i=32-Zs(r)-1;r&=~(1<<i),n+=1;var s=32-Zs(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vo=1<<32-Zs(e)+i|n<<i|r,Go=s+t}else Vo=1<<s|n<<i|r,Go=t}function EP(t){t.return!==null&&(mu(t,1),iL(t,1,0))}function _P(t){for(;t===ux;)ux=Vh[--Gh],Vh[Gh]=null,dx=Vh[--Gh],Vh[Gh]=null;for(;t===rh;)rh=fs[--ps],fs[ps]=null,Go=fs[--ps],fs[ps]=null,Vo=fs[--ps],fs[ps]=null}var Li=null,ji=null,jt=!1,Ks=null;function sL(t,e){var n=vs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Li=t,ji=Uc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Li=t,ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rh!==null?{id:Vo,overflow:Go}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Li=t,ji=null,!0):!1;default:return!1}}function f_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p_(t){if(jt){var e=ji;if(e){var n=e;if(!wO(t,e)){if(f_(t))throw Error(ie(418));e=Uc(n.nextSibling);var r=Li;e&&wO(t,e)?sL(r,n):(t.flags=t.flags&-4097|2,jt=!1,Li=t)}}else{if(f_(t))throw Error(ie(418));t.flags=t.flags&-4097|2,jt=!1,Li=t}}}function xO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Li=t}function bb(t){if(t!==Li)return!1;if(!jt)return xO(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c_(t.type,t.memoizedProps)),e&&(e=ji)){if(f_(t))throw aL(),Error(ie(418));for(;e;)sL(t,e),e=Uc(e.nextSibling)}if(xO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ji=Uc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ji=null}}else ji=Li?Uc(t.stateNode.nextSibling):null;return!0}function aL(){for(var t=ji;t;)t=Uc(t.nextSibling)}function Wp(){ji=Li=null,jt=!1}function CP(t){Ks===null?Ks=[t]:Ks.push(t)}var fW=Al.ReactCurrentBatchConfig;function Lm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function wb(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SO(t){var e=t._init;return e(t._payload)}function oL(t){function e(y,x){if(t){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Vc(y,x),y.index=0,y.sibling=null,y}function s(y,x,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,w,_){return x===null||x.tag!==6?(x=XA(w,y.mode,_),x.return=y,x):(x=i(x,w),x.return=y,x)}function l(y,x,w,_){var E=w.type;return E===Bh?d(y,x,w.props.children,_,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&SO(E)===x.type)?(_=i(x,w.props),_.ref=Lm(y,x,w),_.return=y,_):(_=uw(w.type,w.key,w.props,null,y.mode,_),_.ref=Lm(y,x,w),_.return=y,_)}function c(y,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=QA(w,y.mode,_),x.return=y,x):(x=i(x,w.children||[]),x.return=y,x)}function d(y,x,w,_,E){return x===null||x.tag!==7?(x=Xd(w,y.mode,_,E),x.return=y,x):(x=i(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=XA(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cb:return w=uw(x.type,x.key,x.props,null,y.mode,w),w.ref=Lm(y,null,x),w.return=y,w;case Fh:return x=QA(x,y.mode,w),x.return=y,x;case Rl:var _=x._init;return h(y,_(x._payload),w)}if(ng(x)||Im(x))return x=Xd(x,y.mode,w,null),x.return=y,x;wb(y,x)}return null}function f(y,x,w,_){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:o(y,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cb:return w.key===E?l(y,x,w,_):null;case Fh:return w.key===E?c(y,x,w,_):null;case Rl:return E=w._init,f(y,x,E(w._payload),_)}if(ng(w)||Im(w))return E!==null?null:d(y,x,w,_,null);wb(y,w)}return null}function p(y,x,w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,o(x,y,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cb:return y=y.get(_.key===null?w:_.key)||null,l(x,y,_,E);case Fh:return y=y.get(_.key===null?w:_.key)||null,c(x,y,_,E);case Rl:var k=_._init;return p(y,x,w,k(_._payload),E)}if(ng(_)||Im(_))return y=y.get(w)||null,d(x,y,_,E,null);wb(x,_)}return null}function g(y,x,w,_){for(var E=null,k=null,O=x,T=x=0,N=null;O!==null&&T<w.length;T++){O.index>T?(N=O,O=null):N=O.sibling;var I=f(y,O,w[T],_);if(I===null){O===null&&(O=N);break}t&&O&&I.alternate===null&&e(y,O),x=s(I,x,T),k===null?E=I:k.sibling=I,k=I,O=N}if(T===w.length)return n(y,O),jt&&mu(y,T),E;if(O===null){for(;T<w.length;T++)O=h(y,w[T],_),O!==null&&(x=s(O,x,T),k===null?E=O:k.sibling=O,k=O);return jt&&mu(y,T),E}for(O=r(y,O);T<w.length;T++)N=p(O,y,T,w[T],_),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?T:N.key),x=s(N,x,T),k===null?E=N:k.sibling=N,k=N);return t&&O.forEach(function(D){return e(y,D)}),jt&&mu(y,T),E}function v(y,x,w,_){var E=Im(w);if(typeof E!="function")throw Error(ie(150));if(w=E.call(w),w==null)throw Error(ie(151));for(var k=E=null,O=x,T=x=0,N=null,I=w.next();O!==null&&!I.done;T++,I=w.next()){O.index>T?(N=O,O=null):N=O.sibling;var D=f(y,O,I.value,_);if(D===null){O===null&&(O=N);break}t&&O&&D.alternate===null&&e(y,O),x=s(D,x,T),k===null?E=D:k.sibling=D,k=D,O=N}if(I.done)return n(y,O),jt&&mu(y,T),E;if(O===null){for(;!I.done;T++,I=w.next())I=h(y,I.value,_),I!==null&&(x=s(I,x,T),k===null?E=I:k.sibling=I,k=I);return jt&&mu(y,T),E}for(O=r(y,O);!I.done;T++,I=w.next())I=p(O,y,T,I.value,_),I!==null&&(t&&I.alternate!==null&&O.delete(I.key===null?T:I.key),x=s(I,x,T),k===null?E=I:k.sibling=I,k=I);return t&&O.forEach(function(M){return e(y,M)}),jt&&mu(y,T),E}function b(y,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Bh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cb:e:{for(var E=w.key,k=x;k!==null;){if(k.key===E){if(E=w.type,E===Bh){if(k.tag===7){n(y,k.sibling),x=i(k,w.props.children),x.return=y,y=x;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Rl&&SO(E)===k.type){n(y,k.sibling),x=i(k,w.props),x.ref=Lm(y,k,w),x.return=y,y=x;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===Bh?(x=Xd(w.props.children,y.mode,_,w.key),x.return=y,y=x):(_=uw(w.type,w.key,w.props,null,y.mode,_),_.ref=Lm(y,x,w),_.return=y,y=_)}return a(y);case Fh:e:{for(k=w.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=i(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=QA(w,y.mode,_),x.return=y,y=x}return a(y);case Rl:return k=w._init,b(y,x,k(w._payload),_)}if(ng(w))return g(y,x,w,_);if(Im(w))return v(y,x,w,_);wb(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,w),x.return=y,y=x):(n(y,x),x=XA(w,y.mode,_),x.return=y,y=x),a(y)):n(y,x)}return b}var Vp=oL(!0),lL=oL(!1),hx=ru(null),fx=null,Kh=null,kP=null;function PP(){kP=Kh=fx=null}function TP(t){var e=hx.current;Tt(hx),t._currentValue=e}function m_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lf(t,e){fx=t,kP=Kh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ti=!0),t.firstContext=null)}function xs(t){var e=t._currentValue;if(kP!==t)if(t={context:t,memoizedValue:e,next:null},Kh===null){if(fx===null)throw Error(ie(308));Kh=t,fx.dependencies={lanes:0,firstContext:t}}else Kh=Kh.next=t;return e}var Pu=null;function NP(t){Pu===null?Pu=[t]:Pu.push(t)}function cL(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NP(e)):(n.next=i.next,i.next=n),e.interleaved=n,cl(t,r)}function cl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jl=!1;function OP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cl(t,n)}return i=r.interleaved,i===null?(e.next=e,NP(r)):(e.next=i.next,i.next=e),r.interleaved=e,cl(t,n)}function iw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}function AO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function px(t,e,n,r){var i=t.updateQueue;jl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Kt({},h,f);break e;case 2:jl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);sh|=a,t.lanes=a,t.memoizedState=h}}function EO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var E0={},za=ru(E0),rv=ru(E0),iv=ru(E0);function Tu(t){if(t===E0)throw Error(ie(174));return t}function IP(t,e){switch(St(iv,e),St(rv,t),St(za,E0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:YE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=YE(e,t)}Tt(za),St(za,e)}function Gp(){Tt(za),Tt(rv),Tt(iv)}function dL(t){Tu(iv.current);var e=Tu(za.current),n=YE(e,t.type);e!==n&&(St(rv,t),St(za,n))}function DP(t){rv.current===t&&(Tt(za),Tt(rv))}var zt=ru(0);function mx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var WA=[];function MP(){for(var t=0;t<WA.length;t++)WA[t]._workInProgressVersionPrimary=null;WA.length=0}var sw=Al.ReactCurrentDispatcher,VA=Al.ReactCurrentBatchConfig,ih=0,Vt=null,Sn=null,Bn=null,gx=!1,Mg=!1,sv=0,pW=0;function sr(){throw Error(ie(321))}function RP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!na(t[n],e[n]))return!1;return!0}function jP(t,e,n,r,i,s){if(ih=s,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sw.current=t===null||t.memoizedState===null?yW:bW,t=n(r,i),Mg){s=0;do{if(Mg=!1,sv=0,25<=s)throw Error(ie(301));s+=1,Bn=Sn=null,e.updateQueue=null,sw.current=wW,t=n(r,i)}while(Mg)}if(sw.current=vx,e=Sn!==null&&Sn.next!==null,ih=0,Bn=Sn=Vt=null,gx=!1,e)throw Error(ie(300));return t}function LP(){var t=sv!==0;return sv=0,t}function ma(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Vt.memoizedState=Bn=t:Bn=Bn.next=t,Bn}function Ss(){if(Sn===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=Sn.next;var e=Bn===null?Vt.memoizedState:Bn.next;if(e!==null)Bn=e,Sn=t;else{if(t===null)throw Error(ie(310));Sn=t,t={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Bn===null?Vt.memoizedState=Bn=t:Bn=Bn.next=t}return Bn}function av(t,e){return typeof e=="function"?e(t):e}function GA(t){var e=Ss(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Sn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((ih&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Vt.lanes|=d,sh|=d}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,na(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Vt.lanes|=s,sh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function KA(t){var e=Ss(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);na(s,e.memoizedState)||(ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function hL(){}function fL(t,e){var n=Vt,r=Ss(),i=e(),s=!na(r.memoizedState,i);if(s&&(r.memoizedState=i,ti=!0),r=r.queue,FP(gL.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bn!==null&&Bn.memoizedState.tag&1){if(n.flags|=2048,ov(9,mL.bind(null,n,r,i,e),void 0,null),Un===null)throw Error(ie(349));ih&30||pL(n,e,i)}return i}function pL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mL(t,e,n,r){e.value=n,e.getSnapshot=r,vL(e)&&yL(t)}function gL(t,e,n){return n(function(){vL(e)&&yL(t)})}function vL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!na(t,n)}catch{return!0}}function yL(t){var e=cl(t,1);e!==null&&ea(e,t,1,-1)}function _O(t){var e=ma();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:t},e.queue=t,t=t.dispatch=vW.bind(null,Vt,t),[e.memoizedState,t]}function ov(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bL(){return Ss().memoizedState}function aw(t,e,n,r){var i=ma();Vt.flags|=t,i.memoizedState=ov(1|e,n,void 0,r===void 0?null:r)}function sS(t,e,n,r){var i=Ss();r=r===void 0?null:r;var s=void 0;if(Sn!==null){var a=Sn.memoizedState;if(s=a.destroy,r!==null&&RP(r,a.deps)){i.memoizedState=ov(e,n,s,r);return}}Vt.flags|=t,i.memoizedState=ov(1|e,n,s,r)}function CO(t,e){return aw(8390656,8,t,e)}function FP(t,e){return sS(2048,8,t,e)}function wL(t,e){return sS(4,2,t,e)}function xL(t,e){return sS(4,4,t,e)}function SL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AL(t,e,n){return n=n!=null?n.concat([t]):null,sS(4,4,SL.bind(null,e,t),n)}function BP(){}function EL(t,e){var n=Ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _L(t,e){var n=Ss();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&RP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CL(t,e,n){return ih&21?(na(n,e)||(n=Oj(),Vt.lanes|=n,sh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ti=!0),t.memoizedState=n)}function mW(t,e){var n=rt;rt=n!==0&&4>n?n:4,t(!0);var r=VA.transition;VA.transition={};try{t(!1),e()}finally{rt=n,VA.transition=r}}function kL(){return Ss().memoizedState}function gW(t,e,n){var r=Wc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PL(t))TL(e,n);else if(n=cL(t,e,n,r),n!==null){var i=Dr();ea(n,t,r,i),NL(n,e,r)}}function vW(t,e,n){var r=Wc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PL(t))TL(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,na(o,a)){var l=e.interleaved;l===null?(i.next=i,NP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cL(t,e,i,r),n!==null&&(i=Dr(),ea(n,t,r,i),NL(n,e,r))}}function PL(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function TL(t,e){Mg=gx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}var vx={readContext:xs,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},yW={readContext:xs,useCallback:function(t,e){return ma().memoizedState=[t,e===void 0?null:e],t},useContext:xs,useEffect:CO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,aw(4194308,4,SL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return aw(4194308,4,t,e)},useInsertionEffect:function(t,e){return aw(4,2,t,e)},useMemo:function(t,e){var n=ma();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ma();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gW.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=ma();return t={current:t},e.memoizedState=t},useState:_O,useDebugValue:BP,useDeferredValue:function(t){return ma().memoizedState=t},useTransition:function(){var t=_O(!1),e=t[0];return t=mW.bind(null,t[1]),ma().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,i=ma();if(jt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),Un===null)throw Error(ie(349));ih&30||pL(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,CO(gL.bind(null,r,s,t),[t]),r.flags|=2048,ov(9,mL.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ma(),e=Un.identifierPrefix;if(jt){var n=Go,r=Vo;n=(r&~(1<<32-Zs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bW={readContext:xs,useCallback:EL,useContext:xs,useEffect:FP,useImperativeHandle:AL,useInsertionEffect:wL,useLayoutEffect:xL,useMemo:_L,useReducer:GA,useRef:bL,useState:function(){return GA(av)},useDebugValue:BP,useDeferredValue:function(t){var e=Ss();return CL(e,Sn.memoizedState,t)},useTransition:function(){var t=GA(av)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:hL,useSyncExternalStore:fL,useId:kL,unstable_isNewReconciler:!1},wW={readContext:xs,useCallback:EL,useContext:xs,useEffect:FP,useImperativeHandle:AL,useInsertionEffect:wL,useLayoutEffect:xL,useMemo:_L,useReducer:KA,useRef:bL,useState:function(){return KA(av)},useDebugValue:BP,useDeferredValue:function(t){var e=Ss();return Sn===null?e.memoizedState=t:CL(e,Sn.memoizedState,t)},useTransition:function(){var t=KA(av)[0],e=Ss().memoizedState;return[t,e]},useMutableSource:hL,useSyncExternalStore:fL,useId:kL,unstable_isNewReconciler:!1};function Ds(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function g_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var aS={isMounted:function(t){return(t=t._reactInternals)?yh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dr(),i=Wc(t),s=Zo(r,i);s.payload=e,n!=null&&(s.callback=n),e=zc(t,s,i),e!==null&&(ea(e,t,i,r),iw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dr(),i=Wc(t),s=Zo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zc(t,s,i),e!==null&&(ea(e,t,i,r),iw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dr(),r=Wc(t),i=Zo(n,r);i.tag=2,e!=null&&(i.callback=e),e=zc(t,i,r),e!==null&&(ea(e,t,r,n),iw(e,t,r))}};function kO(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Zg(n,r)||!Zg(i,s):!0}function OL(t,e,n){var r=!1,i=Qc,s=e.contextType;return typeof s=="object"&&s!==null?s=xs(s):(i=ii(e)?nh:wr.current,r=e.contextTypes,s=(r=r!=null)?Hp(t,i):Qc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=aS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function PO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&aS.enqueueReplaceState(e,e.state,null)}function v_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},OP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xs(s):(s=ii(e)?nh:wr.current,i.context=Hp(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(g_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&aS.enqueueReplaceState(i,i.state,null),px(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kp(t,e){try{var n="",r=e;do n+=qH(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qA(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function y_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xW=typeof WeakMap=="function"?WeakMap:Map;function IL(t,e,n){n=Zo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bx||(bx=!0,P_=r),y_(t,e)},n}function DL(t,e,n){n=Zo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){y_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){y_(t,e),typeof r!="function"&&(Hc===null?Hc=new Set([this]):Hc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function TO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RW.bind(null,t,e,n),e.then(t,t))}function NO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zo(-1,1),e.tag=2,zc(n,e,1))),n.lanes|=1),t)}var SW=Al.ReactCurrentOwner,ti=!1;function Tr(t,e,n,r){e.child=t===null?lL(e,null,n,r):Vp(e,t.child,n,r)}function IO(t,e,n,r,i){n=n.render;var s=e.ref;return lf(e,i),r=jP(t,e,n,r,s,i),n=LP(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ul(t,e,i)):(jt&&n&&EP(e),e.flags|=1,Tr(t,e,r,i),e.child)}function DO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!KP(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ML(t,e,s,r,i)):(t=uw(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zg,n(a,r)&&t.ref===e.ref)return ul(t,e,i)}return e.flags|=1,t=Vc(s,r),t.ref=e.ref,t.return=e,e.child=t}function ML(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zg(s,r)&&t.ref===e.ref)if(ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ti=!0);else return e.lanes=t.lanes,ul(t,e,i)}return b_(t,e,n,r,i)}function RL(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Yh,Ni),Ni|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(Yh,Ni),Ni|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,St(Yh,Ni),Ni|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,St(Yh,Ni),Ni|=r;return Tr(t,e,i,n),e.child}function jL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function b_(t,e,n,r,i){var s=ii(n)?nh:wr.current;return s=Hp(e,s),lf(e,i),n=jP(t,e,n,r,s,i),r=LP(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ul(t,e,i)):(jt&&r&&EP(e),e.flags|=1,Tr(t,e,n,i),e.child)}function MO(t,e,n,r,i){if(ii(n)){var s=!0;cx(e)}else s=!1;if(lf(e,i),e.stateNode===null)ow(t,e),OL(e,n,r),v_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=xs(c):(c=ii(n)?nh:wr.current,c=Hp(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&PO(e,a,r,c),jl=!1;var f=e.memoizedState;a.state=f,px(e,r,a,i),l=e.memoizedState,o!==r||f!==l||ri.current||jl?(typeof d=="function"&&(g_(e,n,d,r),l=e.memoizedState),(o=jl||kO(e,n,o,r,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,uL(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ds(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=xs(l):(l=ii(n)?nh:wr.current,l=Hp(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&PO(e,a,r,l),jl=!1,f=e.memoizedState,a.state=f,px(e,r,a,i);var g=e.memoizedState;o!==h||f!==g||ri.current||jl?(typeof p=="function"&&(g_(e,n,p,r),g=e.memoizedState),(c=jl||kO(e,n,c,r,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return w_(t,e,n,r,s,i)}function w_(t,e,n,r,i,s){jL(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&bO(e,n,!1),ul(t,e,s);r=e.stateNode,SW.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vp(e,t.child,null,s),e.child=Vp(e,null,o,s)):Tr(t,e,o,s),e.memoizedState=r.state,i&&bO(e,n,!0),e.child}function LL(t){var e=t.stateNode;e.pendingContext?yO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yO(t,e.context,!1),IP(t,e.containerInfo)}function RO(t,e,n,r,i){return Wp(),CP(i),e.flags|=256,Tr(t,e,n,r),e.child}var x_={dehydrated:null,treeContext:null,retryLane:0};function S_(t){return{baseLanes:t,cachePool:null,transitions:null}}function FL(t,e,n){var r=e.pendingProps,i=zt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),St(zt,i&1),t===null)return p_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=cS(a,r,0,null),t=Xd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=S_(n),e.memoizedState=x_,t):$P(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return AW(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Vc(o,s):(s=Xd(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?S_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=x_,r}return s=t.child,t=s.sibling,r=Vc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $P(t,e){return e=cS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xb(t,e,n,r){return r!==null&&CP(r),Vp(e,t.child,null,n),t=$P(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AW(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=qA(Error(ie(422))),xb(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cS({mode:"visible",children:r.children},i,0,null),s=Xd(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vp(e,t.child,null,a),e.child.memoizedState=S_(a),e.memoizedState=x_,s);if(!(e.mode&1))return xb(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ie(419)),r=qA(s,r,void 0),xb(t,e,a,r)}if(o=(a&t.childLanes)!==0,ti||o){if(r=Un,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cl(t,i),ea(r,t,i,-1))}return GP(),r=qA(Error(ie(421))),xb(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jW.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ji=Uc(i.nextSibling),Li=e,jt=!0,Ks=null,t!==null&&(fs[ps++]=Vo,fs[ps++]=Go,fs[ps++]=rh,Vo=t.id,Go=t.overflow,rh=e),e=$P(e,r.children),e.flags|=4096,e)}function jO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),m_(t.return,e,n)}function YA(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function BL(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Tr(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jO(t,n,e);else if(t.tag===19)jO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(zt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),YA(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}YA(e,!0,n,null,s);break;case"together":YA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ow(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ul(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=Vc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EW(t,e,n){switch(e.tag){case 3:LL(e),Wp();break;case 5:dL(e);break;case 1:ii(e.type)&&cx(e);break;case 4:IP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;St(hx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?FL(t,e,n):(St(zt,zt.current&1),t=ul(t,e,n),t!==null?t.sibling:null);St(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BL(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,RL(t,e,n)}return ul(t,e,n)}var $L,A_,UL,zL;$L=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A_=function(){};UL=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Tu(za.current);var s=null;switch(n){case"input":i=VE(t,i),r=VE(t,r),s=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),s=[];break;case"textarea":i=qE(t,i),r=qE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ox)}XE(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ct("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};zL=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fm(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _W(t,e,n){var r=e.pendingProps;switch(_P(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(e),null;case 1:return ii(e.type)&&lx(),ar(e),null;case 3:return r=e.stateNode,Gp(),Tt(ri),Tt(wr),MP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ks!==null&&(O_(Ks),Ks=null))),A_(t,e),ar(e),null;case 5:DP(e);var i=Tu(iv.current);if(n=e.type,t!==null&&e.stateNode!=null)UL(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return ar(e),null}if(t=Tu(za.current),bb(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fa]=e,r[nv]=s,t=(e.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(i=0;i<ig.length;i++)Ct(ig[i],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":VN(r,s),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ct("invalid",r);break;case"textarea":KN(r,s),Ct("invalid",r)}XE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&yb(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&yb(r.textContent,o,t),i=["children",""+o]):Gg.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ct("scroll",r)}switch(n){case"input":ub(r),GN(r,s,!0);break;case"textarea":ub(r),qN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ox)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Fa]=e,t[nv]=r,$L(t,e,!1,!1),e.stateNode=t;e:{switch(a=QE(n,r),n){case"dialog":Ct("cancel",t),Ct("close",t),i=r;break;case"iframe":case"object":case"embed":Ct("load",t),i=r;break;case"video":case"audio":for(i=0;i<ig.length;i++)Ct(ig[i],t);i=r;break;case"source":Ct("error",t),i=r;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),i=r;break;case"details":Ct("toggle",t),i=r;break;case"input":VN(t,r),i=VE(t,r),Ct("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Ct("invalid",t);break;case"textarea":KN(t,r),i=qE(t,r),Ct("invalid",t);break;default:i=r}XE(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?bj(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vj(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kg(t,l):typeof l=="number"&&Kg(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ct("scroll",t):l!=null&&uP(t,s,l,a))}switch(n){case"input":ub(t),GN(t,r,!1);break;case"textarea":ub(t),qN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rf(t,!!r.multiple,s,!1):r.defaultValue!=null&&rf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ox)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ar(e),null;case 6:if(t&&e.stateNode!=null)zL(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=Tu(iv.current),Tu(za.current),bb(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fa]=e,(s=r.nodeValue!==n)&&(t=Li,t!==null))switch(t.tag){case 3:yb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yb(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fa]=e,e.stateNode=r}return ar(e),null;case 13:if(Tt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&ji!==null&&e.mode&1&&!(e.flags&128))aL(),Wp(),e.flags|=98560,s=!1;else if(s=bb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[Fa]=e}else Wp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ar(e),s=!1}else Ks!==null&&(O_(Ks),Ks=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?En===0&&(En=3):GP())),e.updateQueue!==null&&(e.flags|=4),ar(e),null);case 4:return Gp(),A_(t,e),t===null&&ev(e.stateNode.containerInfo),ar(e),null;case 10:return TP(e.type._context),ar(e),null;case 17:return ii(e.type)&&lx(),ar(e),null;case 19:if(Tt(zt),s=e.memoizedState,s===null)return ar(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Fm(s,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=mx(t),a!==null){for(e.flags|=128,Fm(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&on()>qp&&(e.flags|=128,r=!0,Fm(s,!1),e.lanes=4194304)}else{if(!r)if(t=mx(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!jt)return ar(e),null}else 2*on()-s.renderingStartTime>qp&&n!==1073741824&&(e.flags|=128,r=!0,Fm(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=on(),e.sibling=null,n=zt.current,St(zt,r?n&1|2:n&1),e):(ar(e),null);case 22:case 23:return VP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ni&1073741824&&(ar(e),e.subtreeFlags&6&&(e.flags|=8192)):ar(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function CW(t,e){switch(_P(e),e.tag){case 1:return ii(e.type)&&lx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gp(),Tt(ri),Tt(wr),MP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DP(e),null;case 13:if(Tt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Wp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(zt),null;case 4:return Gp(),null;case 10:return TP(e.type._context),null;case 22:case 23:return VP(),null;case 24:return null;default:return null}}var Sb=!1,gr=!1,kW=typeof WeakSet=="function"?WeakSet:Set,pe=null;function qh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){en(t,e,r)}else n.current=null}function E_(t,e,n){try{n()}catch(r){en(t,e,r)}}var LO=!1;function PW(t,e){if(o_=ix,t=Kj(),AP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++d===r&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(l_={focusedElem:t,selectionRange:n},ix=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ds(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(_){en(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return g=LO,LO=!1,g}function Rg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&E_(e,n,s)}i=i.next}while(i!==r)}}function oS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function __(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HL(t){var e=t.alternate;e!==null&&(t.alternate=null,HL(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fa],delete e[nv],delete e[d_],delete e[uW],delete e[dW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WL(t){return t.tag===5||t.tag===3||t.tag===4}function FO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WL(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ox));else if(r!==4&&(t=t.child,t!==null))for(C_(t,e,n),t=t.sibling;t!==null;)C_(t,e,n),t=t.sibling}function k_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(k_(t,e,n),t=t.sibling;t!==null;)k_(t,e,n),t=t.sibling}var Jn=null,Gs=!1;function Il(t,e,n){for(n=n.child;n!==null;)VL(t,e,n),n=n.sibling}function VL(t,e,n){if(Ua&&typeof Ua.onCommitFiberUnmount=="function")try{Ua.onCommitFiberUnmount(Z1,n)}catch{}switch(n.tag){case 5:gr||qh(n,e);case 6:var r=Jn,i=Gs;Jn=null,Il(t,e,n),Jn=r,Gs=i,Jn!==null&&(Gs?(t=Jn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jn.removeChild(n.stateNode));break;case 18:Jn!==null&&(Gs?(t=Jn,n=n.stateNode,t.nodeType===8?zA(t.parentNode,n):t.nodeType===1&&zA(t,n),Qg(t)):zA(Jn,n.stateNode));break;case 4:r=Jn,i=Gs,Jn=n.stateNode.containerInfo,Gs=!0,Il(t,e,n),Jn=r,Gs=i;break;case 0:case 11:case 14:case 15:if(!gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&E_(n,e,a),i=i.next}while(i!==r)}Il(t,e,n);break;case 1:if(!gr&&(qh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){en(n,e,o)}Il(t,e,n);break;case 21:Il(t,e,n);break;case 22:n.mode&1?(gr=(r=gr)||n.memoizedState!==null,Il(t,e,n),gr=r):Il(t,e,n);break;default:Il(t,e,n)}}function BO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kW),e.forEach(function(r){var i=LW.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ns(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Jn=o.stateNode,Gs=!1;break e;case 3:Jn=o.stateNode.containerInfo,Gs=!0;break e;case 4:Jn=o.stateNode.containerInfo,Gs=!0;break e}o=o.return}if(Jn===null)throw Error(ie(160));VL(s,a,i),Jn=null,Gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GL(e,t),e=e.sibling}function GL(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ns(e,t),da(t),r&4){try{Rg(3,t,t.return),oS(3,t)}catch(v){en(t,t.return,v)}try{Rg(5,t,t.return)}catch(v){en(t,t.return,v)}}break;case 1:Ns(e,t),da(t),r&512&&n!==null&&qh(n,n.return);break;case 5:if(Ns(e,t),da(t),r&512&&n!==null&&qh(n,n.return),t.flags&32){var i=t.stateNode;try{Kg(i,"")}catch(v){en(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&pj(i,s),QE(o,a);var c=QE(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?bj(i,h):d==="dangerouslySetInnerHTML"?vj(i,h):d==="children"?Kg(i,h):uP(i,d,h,c)}switch(o){case"input":GE(i,s);break;case"textarea":mj(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?rf(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?rf(i,!!s.multiple,s.defaultValue,!0):rf(i,!!s.multiple,s.multiple?[]:"",!1))}i[nv]=s}catch(v){en(t,t.return,v)}}break;case 6:if(Ns(e,t),da(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){en(t,t.return,v)}}break;case 3:if(Ns(e,t),da(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qg(e.containerInfo)}catch(v){en(t,t.return,v)}break;case 4:Ns(e,t),da(t);break;case 13:Ns(e,t),da(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HP=on())),r&4&&BO(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gr=(c=gr)||d,Ns(e,t),gr=c):Ns(e,t),da(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(h=pe=d;pe!==null;){switch(f=pe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rg(4,f,f.return);break;case 1:qh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){en(r,n,v)}}break;case 5:qh(f,f.return);break;case 22:if(f.memoizedState!==null){UO(h);continue}}p!==null?(p.return=f,pe=p):UO(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=yj("display",a))}catch(v){en(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){en(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ns(e,t),da(t),r&4&&BO(t);break;case 21:break;default:Ns(e,t),da(t)}}function da(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WL(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kg(i,""),r.flags&=-33);var s=FO(t);k_(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=FO(t);C_(t,o,a);break;default:throw Error(ie(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TW(t,e,n){pe=t,KL(t)}function KL(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Sb;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gr;o=Sb;var c=gr;if(Sb=a,(gr=l)&&!c)for(pe=i;pe!==null;)a=pe,l=a.child,a.tag===22&&a.memoizedState!==null?zO(i):l!==null?(l.return=a,pe=l):zO(i);for(;s!==null;)pe=s,KL(s),s=s.sibling;pe=i,Sb=o,gr=c}$O(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):$O(t)}}function $O(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||oS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ds(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EO(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EO(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}gr||e.flags&512&&__(e)}catch(f){en(e,e.return,f)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function UO(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function zO(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oS(4,e)}catch(l){en(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{__(e)}catch(l){en(e,s,l)}break;case 5:var a=e.return;try{__(e)}catch(l){en(e,a,l)}}}catch(l){en(e,e.return,l)}if(e===t){pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,pe=o;break}pe=e.return}}var NW=Math.ceil,yx=Al.ReactCurrentDispatcher,UP=Al.ReactCurrentOwner,bs=Al.ReactCurrentBatchConfig,Ke=0,Un=null,hn=null,rr=0,Ni=0,Yh=ru(0),En=0,lv=null,sh=0,lS=0,zP=0,jg=null,Zr=null,HP=0,qp=1/0,no=null,bx=!1,P_=null,Hc=null,Ab=!1,Lc=null,wx=0,Lg=0,T_=null,lw=-1,cw=0;function Dr(){return Ke&6?on():lw!==-1?lw:lw=on()}function Wc(t){return t.mode&1?Ke&2&&rr!==0?rr&-rr:fW.transition!==null?(cw===0&&(cw=Oj()),cw):(t=rt,t!==0||(t=window.event,t=t===void 0?16:Fj(t.type)),t):1}function ea(t,e,n,r){if(50<Lg)throw Lg=0,T_=null,Error(ie(185));x0(t,n,r),(!(Ke&2)||t!==Un)&&(t===Un&&(!(Ke&2)&&(lS|=n),En===4&&$l(t,rr)),si(t,r),n===1&&Ke===0&&!(e.mode&1)&&(qp=on()+500,iS&&iu()))}function si(t,e){var n=t.callbackNode;f8(t,e);var r=rx(t,t===Un?rr:0);if(r===0)n!==null&&QN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QN(n),e===1)t.tag===0?hW(HO.bind(null,t)):rL(HO.bind(null,t)),lW(function(){!(Ke&6)&&iu()}),n=null;else{switch(Ij(r)){case 1:n=mP;break;case 4:n=Tj;break;case 16:n=nx;break;case 536870912:n=Nj;break;default:n=nx}n=tF(n,qL.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qL(t,e){if(lw=-1,cw=0,Ke&6)throw Error(ie(327));var n=t.callbackNode;if(cf()&&t.callbackNode!==n)return null;var r=rx(t,t===Un?rr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xx(t,r);else{e=r;var i=Ke;Ke|=2;var s=XL();(Un!==t||rr!==e)&&(no=null,qp=on()+500,Yd(t,e));do try{DW();break}catch(o){YL(t,o)}while(!0);PP(),yx.current=s,Ke=i,hn!==null?e=0:(Un=null,rr=0,e=En)}if(e!==0){if(e===2&&(i=n_(t),i!==0&&(r=i,e=N_(t,i))),e===1)throw n=lv,Yd(t,0),$l(t,r),si(t,on()),n;if(e===6)$l(t,r);else{if(i=t.current.alternate,!(r&30)&&!OW(i)&&(e=xx(t,r),e===2&&(s=n_(t),s!==0&&(r=s,e=N_(t,s))),e===1))throw n=lv,Yd(t,0),$l(t,r),si(t,on()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:gu(t,Zr,no);break;case 3:if($l(t,r),(r&130023424)===r&&(e=HP+500-on(),10<e)){if(rx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=u_(gu.bind(null,t,Zr,no),e);break}gu(t,Zr,no);break;case 4:if($l(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Zs(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NW(r/1960))-r,10<r){t.timeoutHandle=u_(gu.bind(null,t,Zr,no),r);break}gu(t,Zr,no);break;case 5:gu(t,Zr,no);break;default:throw Error(ie(329))}}}return si(t,on()),t.callbackNode===n?qL.bind(null,t):null}function N_(t,e){var n=jg;return t.current.memoizedState.isDehydrated&&(Yd(t,e).flags|=256),t=xx(t,e),t!==2&&(e=Zr,Zr=n,e!==null&&O_(e)),t}function O_(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function OW(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!na(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $l(t,e){for(e&=~zP,e&=~lS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zs(e),r=1<<n;t[n]=-1,e&=~r}}function HO(t){if(Ke&6)throw Error(ie(327));cf();var e=rx(t,0);if(!(e&1))return si(t,on()),null;var n=xx(t,e);if(t.tag!==0&&n===2){var r=n_(t);r!==0&&(e=r,n=N_(t,r))}if(n===1)throw n=lv,Yd(t,0),$l(t,e),si(t,on()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gu(t,Zr,no),si(t,on()),null}function WP(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(qp=on()+500,iS&&iu())}}function ah(t){Lc!==null&&Lc.tag===0&&!(Ke&6)&&cf();var e=Ke;Ke|=1;var n=bs.transition,r=rt;try{if(bs.transition=null,rt=1,t)return t()}finally{rt=r,bs.transition=n,Ke=e,!(Ke&6)&&iu()}}function VP(){Ni=Yh.current,Tt(Yh)}function Yd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oW(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(_P(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lx();break;case 3:Gp(),Tt(ri),Tt(wr),MP();break;case 5:DP(r);break;case 4:Gp();break;case 13:Tt(zt);break;case 19:Tt(zt);break;case 10:TP(r.type._context);break;case 22:case 23:VP()}n=n.return}if(Un=t,hn=t=Vc(t.current,null),rr=Ni=e,En=0,lv=null,zP=lS=sh=0,Zr=jg=null,Pu!==null){for(e=0;e<Pu.length;e++)if(n=Pu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Pu=null}return t}function YL(t,e){do{var n=hn;try{if(PP(),sw.current=vx,gx){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gx=!1}if(ih=0,Bn=Sn=Vt=null,Mg=!1,sv=0,UP.current=null,n===null||n.return===null){En=1,lv=e,hn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=rr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=NO(a);if(p!==null){p.flags&=-257,OO(p,a,o,s,e),p.mode&1&&TO(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){TO(s,c,e),GP();break e}l=Error(ie(426))}}else if(jt&&o.mode&1){var b=NO(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),OO(b,a,o,s,e),CP(Kp(l,o));break e}}s=l=Kp(l,o),En!==4&&(En=2),jg===null?jg=[s]:jg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=IL(s,l,e);AO(s,y);break e;case 1:o=l;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hc===null||!Hc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=DL(s,o,e);AO(s,_);break e}}s=s.return}while(s!==null)}JL(n)}catch(E){e=E,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function XL(){var t=yx.current;return yx.current=vx,t===null?vx:t}function GP(){(En===0||En===3||En===2)&&(En=4),Un===null||!(sh&268435455)&&!(lS&268435455)||$l(Un,rr)}function xx(t,e){var n=Ke;Ke|=2;var r=XL();(Un!==t||rr!==e)&&(no=null,Yd(t,e));do try{IW();break}catch(i){YL(t,i)}while(!0);if(PP(),Ke=n,yx.current=r,hn!==null)throw Error(ie(261));return Un=null,rr=0,En}function IW(){for(;hn!==null;)QL(hn)}function DW(){for(;hn!==null&&!i8();)QL(hn)}function QL(t){var e=eF(t.alternate,t,Ni);t.memoizedProps=t.pendingProps,e===null?JL(t):hn=e,UP.current=null}function JL(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CW(n,e),n!==null){n.flags&=32767,hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,hn=null;return}}else if(n=_W(n,e,Ni),n!==null){hn=n;return}if(e=e.sibling,e!==null){hn=e;return}hn=e=t}while(e!==null);En===0&&(En=5)}function gu(t,e,n){var r=rt,i=bs.transition;try{bs.transition=null,rt=1,MW(t,e,n,r)}finally{bs.transition=i,rt=r}return null}function MW(t,e,n,r){do cf();while(Lc!==null);if(Ke&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(p8(t,s),t===Un&&(hn=Un=null,rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ab||(Ab=!0,tF(nx,function(){return cf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bs.transition,bs.transition=null;var a=rt;rt=1;var o=Ke;Ke|=4,UP.current=null,PW(t,n),GL(n,t),eW(l_),ix=!!o_,l_=o_=null,t.current=n,TW(n),s8(),Ke=o,rt=a,bs.transition=s}else t.current=n;if(Ab&&(Ab=!1,Lc=t,wx=i),s=t.pendingLanes,s===0&&(Hc=null),l8(n.stateNode),si(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bx)throw bx=!1,t=P_,P_=null,t;return wx&1&&t.tag!==0&&cf(),s=t.pendingLanes,s&1?t===T_?Lg++:(Lg=0,T_=t):Lg=0,iu(),null}function cf(){if(Lc!==null){var t=Ij(wx),e=bs.transition,n=rt;try{if(bs.transition=null,rt=16>t?16:t,Lc===null)var r=!1;else{if(t=Lc,Lc=null,wx=0,Ke&6)throw Error(ie(331));var i=Ke;for(Ke|=4,pe=t.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Rg(8,d,s)}var h=d.child;if(h!==null)h.return=d,pe=h;else for(;pe!==null;){d=pe;var f=d.sibling,p=d.return;if(HL(d),d===c){pe=null;break}if(f!==null){f.return=p,pe=f;break}pe=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rg(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,pe=y;break e}pe=s.return}}var x=t.current;for(pe=x;pe!==null;){a=pe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,pe=w;else e:for(a=x;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:oS(9,o)}}catch(E){en(o,o.return,E)}if(o===a){pe=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,pe=_;break e}pe=o.return}}if(Ke=i,iu(),Ua&&typeof Ua.onPostCommitFiberRoot=="function")try{Ua.onPostCommitFiberRoot(Z1,t)}catch{}r=!0}return r}finally{rt=n,bs.transition=e}}return!1}function WO(t,e,n){e=Kp(n,e),e=IL(t,e,1),t=zc(t,e,1),e=Dr(),t!==null&&(x0(t,1,e),si(t,e))}function en(t,e,n){if(t.tag===3)WO(t,t,n);else for(;e!==null;){if(e.tag===3){WO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hc===null||!Hc.has(r))){t=Kp(n,t),t=DL(e,t,1),e=zc(e,t,1),t=Dr(),e!==null&&(x0(e,1,t),si(e,t));break}}e=e.return}}function RW(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dr(),t.pingedLanes|=t.suspendedLanes&n,Un===t&&(rr&n)===n&&(En===4||En===3&&(rr&130023424)===rr&&500>on()-HP?Yd(t,0):zP|=n),si(t,e)}function ZL(t,e){e===0&&(t.mode&1?(e=fb,fb<<=1,!(fb&130023424)&&(fb=4194304)):e=1);var n=Dr();t=cl(t,e),t!==null&&(x0(t,e,n),si(t,n))}function jW(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZL(t,n)}function LW(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),ZL(t,n)}var eF;eF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ri.current)ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ti=!1,EW(t,e,n);ti=!!(t.flags&131072)}else ti=!1,jt&&e.flags&1048576&&iL(e,dx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ow(t,e),t=e.pendingProps;var i=Hp(e,wr.current);lf(e,n),i=jP(null,e,r,t,i,n);var s=LP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ii(r)?(s=!0,cx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OP(e),i.updater=aS,e.stateNode=i,i._reactInternals=e,v_(e,r,t,n),e=w_(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&EP(e),Tr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ow(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BW(r),t=Ds(r,t),i){case 0:e=b_(null,e,r,t,n);break e;case 1:e=MO(null,e,r,t,n);break e;case 11:e=IO(null,e,r,t,n);break e;case 14:e=DO(null,e,r,Ds(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),b_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),MO(t,e,r,i,n);case 3:e:{if(LL(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uL(t,e),px(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kp(Error(ie(423)),e),e=RO(t,e,r,n,i);break e}else if(r!==i){i=Kp(Error(ie(424)),e),e=RO(t,e,r,n,i);break e}else for(ji=Uc(e.stateNode.containerInfo.firstChild),Li=e,jt=!0,Ks=null,n=lL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wp(),r===i){e=ul(t,e,n);break e}Tr(t,e,r,n)}e=e.child}return e;case 5:return dL(e),t===null&&p_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,c_(r,i)?a=null:s!==null&&c_(r,s)&&(e.flags|=32),jL(t,e),Tr(t,e,a,n),e.child;case 6:return t===null&&p_(e),null;case 13:return FL(t,e,n);case 4:return IP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vp(e,null,r,n):Tr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),IO(t,e,r,i,n);case 7:return Tr(t,e,e.pendingProps,n),e.child;case 8:return Tr(t,e,e.pendingProps.children,n),e.child;case 12:return Tr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,St(hx,r._currentValue),r._currentValue=a,s!==null)if(na(s.value,a)){if(s.children===i.children&&!ri.current){e=ul(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),m_(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ie(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),m_(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lf(e,n),i=xs(i),r=r(i),e.flags|=1,Tr(t,e,r,n),e.child;case 14:return r=e.type,i=Ds(r,e.pendingProps),i=Ds(r.type,i),DO(t,e,r,i,n);case 15:return ML(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ds(r,i),ow(t,e),e.tag=1,ii(r)?(t=!0,cx(e)):t=!1,lf(e,n),OL(e,r,i),v_(e,r,i,n),w_(null,e,r,!0,t,n);case 19:return BL(t,e,n);case 22:return RL(t,e,n)}throw Error(ie(156,e.tag))};function tF(t,e){return Pj(t,e)}function FW(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,e,n,r){return new FW(t,e,n,r)}function KP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BW(t){if(typeof t=="function")return KP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hP)return 11;if(t===fP)return 14}return 2}function Vc(t,e){var n=t.alternate;return n===null?(n=vs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uw(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")KP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bh:return Xd(n.children,i,s,e);case dP:a=8,i|=8;break;case UE:return t=vs(12,n,e,i|2),t.elementType=UE,t.lanes=s,t;case zE:return t=vs(13,n,e,i),t.elementType=zE,t.lanes=s,t;case HE:return t=vs(19,n,e,i),t.elementType=HE,t.lanes=s,t;case dj:return cS(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cj:a=10;break e;case uj:a=9;break e;case hP:a=11;break e;case fP:a=14;break e;case Rl:a=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=vs(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xd(t,e,n,r){return t=vs(7,t,r,e),t.lanes=n,t}function cS(t,e,n,r){return t=vs(22,t,r,e),t.elementType=dj,t.lanes=n,t.stateNode={isHidden:!1},t}function XA(t,e,n){return t=vs(6,t,null,e),t.lanes=n,t}function QA(t,e,n){return e=vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $W(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OA(0),this.expirationTimes=OA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qP(t,e,n,r,i,s,a,o,l){return t=new $W(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},OP(s),t}function UW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nF(t){if(!t)return Qc;t=t._reactInternals;e:{if(yh(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(ii(n))return nL(t,n,e)}return e}function rF(t,e,n,r,i,s,a,o,l){return t=qP(n,r,!0,t,i,s,a,o,l),t.context=nF(null),n=t.current,r=Dr(),i=Wc(n),s=Zo(r,i),s.callback=e??null,zc(n,s,i),t.current.lanes=i,x0(t,i,r),si(t,r),t}function uS(t,e,n,r){var i=e.current,s=Dr(),a=Wc(i);return n=nF(n),e.context===null?e.context=n:e.pendingContext=n,e=Zo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zc(i,e,a),t!==null&&(ea(t,i,a,s),iw(t,i,a)),a}function Sx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YP(t,e){VO(t,e),(t=t.alternate)&&VO(t,e)}function zW(){return null}var iF=typeof reportError=="function"?reportError:function(t){console.error(t)};function XP(t){this._internalRoot=t}dS.prototype.render=XP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));uS(t,e,null,null)};dS.prototype.unmount=XP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ah(function(){uS(null,t,null,null)}),e[ll]=null}};function dS(t){this._internalRoot=t}dS.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bl.length&&e!==0&&e<Bl[n].priority;n++);Bl.splice(n,0,t),n===0&&Lj(t)}};function QP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function GO(){}function HW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sx(a);s.call(c)}}var a=rF(e,r,t,0,null,!1,!1,"",GO);return t._reactRootContainer=a,t[ll]=a.current,ev(t.nodeType===8?t.parentNode:t),ah(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Sx(l);o.call(c)}}var l=qP(t,0,!1,null,null,!1,!1,"",GO);return t._reactRootContainer=l,t[ll]=l.current,ev(t.nodeType===8?t.parentNode:t),ah(function(){uS(e,l,n,r)}),l}function fS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Sx(a);o.call(l)}}uS(e,a,t,i)}else a=HW(n,e,t,i,r);return Sx(a)}Dj=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rg(e.pendingLanes);n!==0&&(gP(e,n|1),si(e,on()),!(Ke&6)&&(qp=on()+500,iu()))}break;case 13:ah(function(){var r=cl(t,1);if(r!==null){var i=Dr();ea(r,t,1,i)}}),YP(t,1)}};vP=function(t){if(t.tag===13){var e=cl(t,134217728);if(e!==null){var n=Dr();ea(e,t,134217728,n)}YP(t,134217728)}};Mj=function(t){if(t.tag===13){var e=Wc(t),n=cl(t,e);if(n!==null){var r=Dr();ea(n,t,e,r)}YP(t,e)}};Rj=function(){return rt};jj=function(t,e){var n=rt;try{return rt=t,e()}finally{rt=n}};ZE=function(t,e,n){switch(e){case"input":if(GE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rS(r);if(!i)throw Error(ie(90));fj(r),GE(r,i)}}}break;case"textarea":mj(t,n);break;case"select":e=n.value,e!=null&&rf(t,!!n.multiple,e,!1)}};Sj=WP;Aj=ah;var WW={usingClientEntryPoint:!1,Events:[A0,Hh,rS,wj,xj,WP]},Bm={findFiberByHostInstance:ku,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VW={bundleType:Bm.bundleType,version:Bm.version,rendererPackageName:Bm.rendererPackageName,rendererConfig:Bm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Al.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cj(t),t===null?null:t.stateNode},findFiberByHostInstance:Bm.findFiberByHostInstance||zW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eb.isDisabled&&Eb.supportsFiber)try{Z1=Eb.inject(VW),Ua=Eb}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WW;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QP(e))throw Error(ie(200));return UW(t,e,null,n)};Vi.createRoot=function(t,e){if(!QP(t))throw Error(ie(299));var n=!1,r="",i=iF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qP(t,1,!1,null,null,n,!1,r,i),t[ll]=e.current,ev(t.nodeType===8?t.parentNode:t),new XP(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=Cj(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return ah(t)};Vi.hydrate=function(t,e,n){if(!hS(e))throw Error(ie(200));return fS(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!QP(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=iF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=rF(e,null,t,1,n??null,i,!1,s,a),t[ll]=e.current,ev(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dS(e)};Vi.render=function(t,e,n){if(!hS(e))throw Error(ie(200));return fS(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!hS(t))throw Error(ie(40));return t._reactRootContainer?(ah(function(){fS(null,null,t,!1,function(){t._reactRootContainer=null,t[ll]=null})}),!0):!1};Vi.unstable_batchedUpdates=WP;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hS(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return fS(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function sF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sF)}catch(t){console.error(t)}}sF(),sj.exports=Vi;var aF=sj.exports,oF,KO=aF;oF=KO.createRoot,KO.hydrateRoot;/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qO="popstate";function GW(t={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return I_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cv(i)}return qW(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ra(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KW(){return Math.random().toString(36).substring(2,10)}function YO(t,e){return{usr:t.state,key:t.key,idx:e}}function I_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fm(e):e,state:n,key:e&&e.key||r||KW()}}function cv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qW(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),y=b==null?null:b-c;c=b,l&&l({action:o,location:v.location,delta:y})}function f(b,y){o="PUSH";let x=I_(v.location,b,y);c=d()+1;let w=YO(x,c),_=v.createHref(x);try{a.pushState(w,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(_)}s&&l&&l({action:o,location:v.location,delta:1})}function p(b,y){o="REPLACE";let x=I_(v.location,b,y);c=d();let w=YO(x,c),_=v.createHref(x);a.replaceState(w,"",_),s&&l&&l({action:o,location:v.location,delta:0})}function g(b){return YW(b)}let v={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qO,h),l=b,()=>{i.removeEventListener(qO,h),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let y=g(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return a.go(b)}};return v}function YW(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cv(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lF(t,e,n="/"){return XW(t,e,n,!1)}function XW(t,e,n,r){let i=typeof e=="string"?fm(e):e,s=dl(i.pathname||"/",n);if(s==null)return null;let a=cF(t);QW(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=lV(s);o=aV(a[l],c,r)}return o}function cF(t,e=[],n=[],r="",i=!1){let s=(a,o,l=i,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Ft(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=el([r,d.relativePath]),f=n.concat(d);a.children&&a.children.length>0&&(Ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),cF(a.children,e,f,h,l)),!(a.path==null&&!a.index)&&e.push({path:h,score:iV(h,a.index),routesMeta:f})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of uF(a.path))s(a,o,!0,c)}),e}function uF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=uF(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function QW(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JW=/^:[\w-]+$/,ZW=3,eV=2,tV=1,nV=10,rV=-2,XO=t=>t==="*";function iV(t,e){let n=t.split("/"),r=n.length;return n.some(XO)&&(r+=rV),e&&(r+=eV),n.filter(i=>!XO(i)).reduce((i,s)=>i+(JW.test(s)?ZW:s===""?tV:nV),r)}function sV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Ax({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Ax({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:el([s,h.pathname]),pathnameBase:hV(el([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=el([s,h.pathnameBase]))}return a}function Ax(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[f];return h&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function oV(t,e=!1,n=!0){ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ra(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cV(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fm(t):t;return{pathname:n?n.startsWith("/")?n:uV(n,e):e,search:fV(r),hash:pV(i)}}function uV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function JA(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JP(t){let e=dV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ZP(t,e,n,r=!1){let i;typeof t=="string"?i=fm(t):(i={...t},Ft(!i.pathname||!i.pathname.includes("?"),JA("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),JA("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),JA("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=cV(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var el=t=>t.join("/").replace(/\/\/+/g,"/"),hV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dF=["POST","PUT","PATCH","DELETE"];new Set(dF);var gV=["GET",...dF];new Set(gV);var pm=S.createContext(null);pm.displayName="DataRouter";var pS=S.createContext(null);pS.displayName="DataRouterState";S.createContext(!1);var hF=S.createContext({isTransitioning:!1});hF.displayName="ViewTransition";var vV=S.createContext(new Map);vV.displayName="Fetchers";var yV=S.createContext(null);yV.displayName="Await";var oa=S.createContext(null);oa.displayName="Navigation";var _0=S.createContext(null);_0.displayName="Location";var la=S.createContext({outlet:null,matches:[],isDataRoute:!1});la.displayName="Route";var eT=S.createContext(null);eT.displayName="RouteError";function bV(t,{relative:e}={}){Ft(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=S.useContext(oa),{hash:i,pathname:s,search:a}=C0(t,{relative:e}),o=s;return n!=="/"&&(o=s==="/"?n:el([n,s])),r.createHref({pathname:o,search:a,hash:i})}function mm(){return S.useContext(_0)!=null}function su(){return Ft(mm(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(_0).location}var fF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pF(t){S.useContext(oa).static||S.useLayoutEffect(t)}function au(){let{isDataRoute:t}=S.useContext(la);return t?DV():wV()}function wV(){Ft(mm(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(pm),{basename:e,navigator:n}=S.useContext(oa),{matches:r}=S.useContext(la),{pathname:i}=su(),s=JSON.stringify(JP(r)),a=S.useRef(!1);return pF(()=>{a.current=!0}),S.useCallback((l,c={})=>{if(ra(a.current,fF),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=ZP(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:el([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}S.createContext(null);function xV(){let{matches:t}=S.useContext(la),e=t[t.length-1];return e?e.params:{}}function C0(t,{relative:e}={}){let{matches:n}=S.useContext(la),{pathname:r}=su(),i=JSON.stringify(JP(n));return S.useMemo(()=>ZP(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function SV(t,e){return mF(t,e)}function mF(t,e,n,r,i){var x;Ft(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(oa),{matches:a}=S.useContext(la),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";gF(c,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=su(),p;if(e){let w=typeof e=="string"?fm(e):e;Ft(d==="/"||((x=w.pathname)==null?void 0:x.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=f;let g=p.pathname||"/",v=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=lF(t,{pathname:v});ra(h||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ra(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=kV(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:el([d,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:el([d,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,i);return e&&y?S.createElement(_0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function AV(){let t=IV(),e=mV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,a)}var EV=S.createElement(AV,null),_V=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(la.Provider,{value:this.props.routeContext},S.createElement(eT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CV({routeContext:t,match:e,children:n}){let r=S.useContext(pm);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(la.Provider,{value:t},n)}function kV(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Ft(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let o=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||EV,o&&(l<0&&h===0?(gF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),y=()=>{let x;return f?x=g:p?x=v:d.route.Component?x=S.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,S.createElement(CV,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(_V,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):y()},null)}function tT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PV(t){let e=S.useContext(pm);return Ft(e,tT(t)),e}function TV(t){let e=S.useContext(pS);return Ft(e,tT(t)),e}function NV(t){let e=S.useContext(la);return Ft(e,tT(t)),e}function nT(t){let e=NV(t),n=e.matches[e.matches.length-1];return Ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OV(){return nT("useRouteId")}function IV(){var r;let t=S.useContext(eT),e=TV("useRouteError"),n=nT("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function DV(){let{router:t}=PV("useNavigate"),e=nT("useNavigate"),n=S.useRef(!1);return pF(()=>{n.current=!0}),S.useCallback(async(i,s={})=>{ra(n.current,fF),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var QO={};function gF(t,e,n){!e&&!QO[t]&&(QO[t]=!0,ra(!1,n))}S.memo(MV);function MV({routes:t,future:e,state:n,unstable_onError:r}){return mF(t,void 0,n,r,e)}function Fg({to:t,replace:e,state:n,relative:r}){Ft(mm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(oa);ra(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(la),{pathname:a}=su(),o=au(),l=ZP(t,JP(s),a,r==="path"),c=JSON.stringify(l);return S.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function Ur(t){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ft(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=S.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=fm(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=S.useMemo(()=>{let g=dl(l,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:h,key:f},navigationType:r}},[a,l,c,d,h,f,r]);return ra(p!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:S.createElement(oa.Provider,{value:o},S.createElement(_0.Provider,{children:e,value:p}))}function JO({children:t,location:e}){return SV(D_(t),e)}function D_(t,e=[]){let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,D_(r.props.children,s));return}Ft(r.type===Ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=D_(r.props.children,s)),n.push(a)}),n}var dw="get",hw="application/x-www-form-urlencoded";function mS(t){return t!=null&&typeof t.tagName=="string"}function jV(t){return mS(t)&&t.tagName.toLowerCase()==="button"}function LV(t){return mS(t)&&t.tagName.toLowerCase()==="form"}function FV(t){return mS(t)&&t.tagName.toLowerCase()==="input"}function BV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $V(t,e){return t.button===0&&(!e||e==="_self")&&!BV(t)}var _b=null;function UV(){if(_b===null)try{new FormData(document.createElement("form"),0),_b=!1}catch{_b=!0}return _b}var zV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ZA(t){return t!=null&&!zV.has(t)?(ra(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hw}"`),null):t}function HV(t,e){let n,r,i,s,a;if(LV(t)){let o=t.getAttribute("action");r=o?dl(o,e):null,n=t.getAttribute("method")||dw,i=ZA(t.getAttribute("enctype"))||hw,s=new FormData(t)}else if(jV(t)||FV(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?dl(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||dw,i=ZA(t.getAttribute("formenctype"))||ZA(o.getAttribute("enctype"))||hw,s=new FormData(o,t),!UV()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(mS(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dw,r=null,i=hw,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WV(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&dl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KV(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await VV(s,n);return a.links?a.links():[]}return[]}));return QV(r.flat(1).filter(GV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZO(t,e,n,r,i,s){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function qV(t,e,{includeHydrateFallback:n}={}){return YV(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function YV(t){return[...new Set(t)]}function XV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function QV(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(XV(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function vF(){let t=S.useContext(pm);return rT(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JV(){let t=S.useContext(pS);return rT(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iT=S.createContext(void 0);iT.displayName="FrameworkContext";function yF(){let t=S.useContext(iT);return rT(t,"You must render this element inside a <HydratedRouter> element"),t}function ZV(t,e){let n=S.useContext(iT),[r,i]=S.useState(!1),[s,a]=S.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=S.useRef(null);S.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=y=>{y.forEach(x=>{a(x.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),S.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:$m(o,p),onBlur:$m(l,g),onMouseEnter:$m(c,p),onMouseLeave:$m(d,g),onTouchStart:$m(h,p)}]:[!1,f,{}]}function $m(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eG({page:t,...e}){let{router:n}=vF(),r=S.useMemo(()=>lF(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?S.createElement(nG,{page:t,matches:r,...e}):null}function tG(t){let{manifest:e,routeModules:n}=yF(),[r,i]=S.useState([]);return S.useEffect(()=>{let s=!1;return KV(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function nG({page:t,matches:e,...n}){let r=su(),{manifest:i,routeModules:s}=yF(),{basename:a}=vF(),{loaderData:o,matches:l}=JV(),c=S.useMemo(()=>ZO(t,e,l,i,r,"data"),[t,e,l,i,r]),d=S.useMemo(()=>ZO(t,e,l,i,r,"assets"),[t,e,l,i,r]),h=S.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(y=>{var w;let x=i.routes[y.route.id];!x||!x.hasLoader||(!c.some(_=>_.route.id===y.route.id)&&y.route.id in o&&((w=s[y.route.id])!=null&&w.shouldRevalidate)||x.hasClientLoader?v=!0:g.add(y.route.id))}),g.size===0)return[];let b=WV(t,a,"data");return v&&g.size>0&&b.searchParams.set("_routes",e.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[a,o,r,i,c,e,t,s]),f=S.useMemo(()=>qV(d,i),[d,i]),p=tG(d);return S.createElement(S.Fragment,null,h.map(g=>S.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>S.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:v})=>S.createElement("link",{key:g,nonce:n.nonce,...v})))}function rG(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bF&&(window.__reactRouterVersion="7.9.4")}catch{}function iG({basename:t,children:e,window:n}){let r=S.useRef();r.current==null&&(r.current=GW({window:n,v5Compat:!0}));let i=r.current,[s,a]=S.useState({action:i.action,location:i.location}),o=S.useCallback(l=>{S.startTransition(()=>a(l))},[a]);return S.useLayoutEffect(()=>i.listen(o),[i,o]),S.createElement(RV,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var wF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tl=S.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},p){let{basename:g}=S.useContext(oa),v=typeof c=="string"&&wF.test(c),b,y=!1;if(typeof c=="string"&&v&&(b=c,bF))try{let N=new URL(window.location.href),I=c.startsWith("//")?new URL(N.protocol+c):new URL(c),D=dl(I.pathname,g);I.origin===N.origin&&D!=null?c=D+I.search+I.hash:y=!0}catch{ra(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=bV(c,{relative:i}),[w,_,E]=ZV(r,f),k=oG(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function O(N){e&&e(N),N.defaultPrevented||k(N)}let T=S.createElement("a",{...f,...E,href:b||x,onClick:y||s?e:O,ref:rG(p,_),target:l,"data-discover":!v&&n==="render"?"true":void 0});return w&&!v?S.createElement(S.Fragment,null,T,S.createElement(eG,{page:x})):T});tl.displayName="Link";var Ko=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},d){let h=C0(a,{relative:c.relative}),f=su(),p=S.useContext(pS),{navigator:g,basename:v}=S.useContext(oa),b=p!=null&&hG(h)&&o===!0,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,x=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&v&&(w=dl(w,v)||w);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=x===y||!i&&x.startsWith(y)&&x.charAt(_)==="/",k=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),O={isActive:E,isPending:k,isTransitioning:b},T=E?e:void 0,N;typeof r=="function"?N=r(O):N=[r,E?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(O):s;return S.createElement(tl,{...c,"aria-current":T,className:N,ref:d,style:I,to:a,viewTransition:o},typeof l=="function"?l(O):l)});Ko.displayName="NavLink";var sG=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=dw,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},p)=>{let g=uG(),v=dG(o,{relative:c}),b=a.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&wF.test(o),x=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let _=w.nativeEvent.submitter,E=(_==null?void 0:_.getAttribute("formmethod"))||a;g(_||w.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:h})};return S.createElement("form",{ref:p,method:b,action:v,onSubmit:r?l:x,...f,"data-discover":!y&&t==="render"?"true":void 0})});sG.displayName="Form";function aG(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xF(t){let e=S.useContext(pm);return Ft(e,aG(t)),e}function oG(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=au(),l=su(),c=C0(t,{relative:s});return S.useCallback(d=>{if($V(d,e)){d.preventDefault();let h=n!==void 0?n:cv(l)===cv(c);o(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,c,n,r,e,t,i,s,a])}var lG=0,cG=()=>`__${String(++lG)}__`;function uG(){let{router:t}=xF("useSubmit"),{basename:e}=S.useContext(oa),n=OV();return S.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:c}=HV(r,e);if(i.navigate===!1){let d=i.fetcherKey||cG();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function dG(t,{relative:e}={}){let{basename:n}=S.useContext(oa),r=S.useContext(la);Ft(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...C0(t||".",{relative:e})},a=su();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:el([n,s.pathname])),cv(s)}function hG(t,{relative:e}={}){let n=S.useContext(hF);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xF("useViewTransitionState"),i=C0(t,{relative:e});if(!n.isTransitioning)return!1;let s=dl(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ax(i.pathname,a)!=null||Ax(i.pathname,s)!=null}const fG=()=>{};var eI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},AF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new mG;const f=s<<2|o>>4;if(r.push(f),c!==64){const p=o<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gG=function(t){const e=SF(t);return AF.encodeByteArray(e,!0)},EF=function(t){return gG(t).replace(/\./g,"")},_F=function(t){try{return AF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=()=>vG().__FIREBASE_DEFAULTS__,bG=()=>{if(typeof process>"u"||typeof eI>"u")return;const t=eI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_F(t[1]);return e&&JSON.parse(e)},sT=()=>{try{return fG()||yG()||bG()||wG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xG=t=>{var e,n;return(n=(e=sT())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},CF=()=>{var t;return(t=sT())==null?void 0:t.config},kF=t=>{var e;return(e=sT())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AG(t){return(await fetch(t,{credentials:"include"})).ok}const Bg={};function EG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bg))Bg[e]?t.emulator.push(e):t.prod.push(e);return t}function _G(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tI=!1;function CG(t,e){if(typeof window>"u"||typeof document>"u"||!gS(window.location.host)||Bg[t]===e||Bg[t]||tI)return;Bg[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=EG().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{tI=!0,a()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=_G(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),y=n("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;o(w),d(b,v);const _=c();l(x,y),w.append(x,g,b,_),document.body.appendChild(w)}s?(g.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function PG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OG(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IG(){try{return typeof indexedDB=="object"}catch{return!1}}function DG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG="FirebaseError";class ou extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MG,Object.setPrototypeOf(this,ou.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k0.prototype.create)}}class k0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RG(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ou(i,o,r)}}function RG(t,e){return t.replace(jG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jG=/\{\$([^}]+)}/g;function LG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(nI(s)&&nI(a)){if(!Yp(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FG(t,e){const n=new BG(t,e);return n.subscribe.bind(n)}class BG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$G(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eE),i.error===void 0&&(i.error=eE),i.complete===void 0&&(i.complete=eE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $G(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){return t&&t._delegate?t._delegate:t}class Xp{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HG(e))try{this.getOrInitializeService({instanceIdentifier:vu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vu){return this.instances.has(e)}getOptions(e=vu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vu){return this.component?this.component.multipleInstances?e:vu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zG(t){return t===vu?void 0:t}function HG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const VG={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},GG=ft.INFO,KG={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},qG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=KG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class PF{constructor(e){this.name=e,this._logLevel=GG,this._logHandler=qG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const YG=(t,e)=>e.some(n=>t instanceof n);let rI,iI;function XG(){return rI||(rI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QG(){return iI||(iI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TF=new WeakMap,M_=new WeakMap,NF=new WeakMap,tE=new WeakMap,aT=new WeakMap;function JG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Gc(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TF.set(n,t)}).catch(()=>{}),aT.set(e,t),e}function ZG(t){if(M_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});M_.set(t,e)}let R_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eK(t){R_=t(R_)}function tK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nE(this),e,...n);return NF.set(r,e.sort?e.sort():[e]),Gc(r)}:QG().includes(t)?function(...e){return t.apply(nE(this),e),Gc(TF.get(this))}:function(...e){return Gc(t.apply(nE(this),e))}}function nK(t){return typeof t=="function"?tK(t):(t instanceof IDBTransaction&&ZG(t),YG(t,XG())?new Proxy(t,R_):t)}function Gc(t){if(t instanceof IDBRequest)return JG(t);if(tE.has(t))return tE.get(t);const e=nK(t);return e!==t&&(tE.set(t,e),aT.set(e,t)),e}const nE=t=>aT.get(t);function rK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Gc(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Gc(a.result),l.oldVersion,l.newVersion,Gc(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const iK=["get","getKey","getAll","getAllKeys","count"],sK=["put","add","delete","clear"],rE=new Map;function sI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rE.get(e))return rE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iK.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return rE.set(e,s),s}eK(t=>({...t,get:(e,n,r)=>sI(e,n)||t.get(e,n,r),has:(e,n)=>!!sI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j_="@firebase/app",aI="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new PF("@firebase/app"),lK="@firebase/app-compat",cK="@firebase/analytics-compat",uK="@firebase/analytics",dK="@firebase/app-check-compat",hK="@firebase/app-check",fK="@firebase/auth",pK="@firebase/auth-compat",mK="@firebase/database",gK="@firebase/data-connect",vK="@firebase/database-compat",yK="@firebase/functions",bK="@firebase/functions-compat",wK="@firebase/installations",xK="@firebase/installations-compat",SK="@firebase/messaging",AK="@firebase/messaging-compat",EK="@firebase/performance",_K="@firebase/performance-compat",CK="@firebase/remote-config",kK="@firebase/remote-config-compat",PK="@firebase/storage",TK="@firebase/storage-compat",NK="@firebase/firestore",OK="@firebase/ai",IK="@firebase/firestore-compat",DK="firebase",MK="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="[DEFAULT]",RK={[j_]:"fire-core",[lK]:"fire-core-compat",[uK]:"fire-analytics",[cK]:"fire-analytics-compat",[hK]:"fire-app-check",[dK]:"fire-app-check-compat",[fK]:"fire-auth",[pK]:"fire-auth-compat",[mK]:"fire-rtdb",[gK]:"fire-data-connect",[vK]:"fire-rtdb-compat",[yK]:"fire-fn",[bK]:"fire-fn-compat",[wK]:"fire-iid",[xK]:"fire-iid-compat",[SK]:"fire-fcm",[AK]:"fire-fcm-compat",[EK]:"fire-perf",[_K]:"fire-perf-compat",[CK]:"fire-rc",[kK]:"fire-rc-compat",[PK]:"fire-gcs",[TK]:"fire-gcs-compat",[NK]:"fire-fst",[IK]:"fire-fst-compat",[OK]:"fire-vertex","fire-js":"fire-js",[DK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Map,jK=new Map,F_=new Map;function oI(t,e){try{t.container.addComponent(e)}catch(n){hl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uv(t){const e=t.name;if(F_.has(e))return hl.debug(`There were multiple attempts to register component ${e}.`),!1;F_.set(e,t);for(const n of Ex.values())oI(n,t);for(const n of jK.values())oI(n,t);return!0}function OF(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kc=new k0("app","Firebase",LK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=MK;function IF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Kc.create("bad-app-name",{appName:String(i)});if(n||(n=CF()),!n)throw Kc.create("no-options");const s=Ex.get(i);if(s){if(Yp(n,s.options)&&Yp(r,s.config))return s;throw Kc.create("duplicate-app",{appName:i})}const a=new WG(i);for(const l of F_.values())a.addComponent(l);const o=new FK(n,r,a);return Ex.set(i,o),o}function BK(t=L_){const e=Ex.get(t);if(!e&&t===L_&&CF())return IF();if(!e)throw Kc.create("no-app",{appName:t});return e}function uf(t,e,n){let r=RK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hl.warn(a.join(" "));return}uv(new Xp(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="firebase-heartbeat-database",UK=1,dv="firebase-heartbeat-store";let iE=null;function DF(){return iE||(iE=rK($K,UK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dv)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kc.create("idb-open",{originalErrorMessage:t.message})})),iE}async function zK(t){try{const n=(await DF()).transaction(dv),r=await n.objectStore(dv).get(MF(t));return await n.done,r}catch(e){if(e instanceof ou)hl.warn(e.message);else{const n=Kc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hl.warn(n.message)}}}async function lI(t,e){try{const r=(await DF()).transaction(dv,"readwrite");await r.objectStore(dv).put(e,MF(t)),await r.done}catch(n){if(n instanceof ou)hl.warn(n.message);else{const r=Kc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hl.warn(r.message)}}}function MF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=1024,WK=30;class VK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>WK){const a=qK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cI(),{heartbeatsToSend:r,unsentEntries:i}=GK(this._heartbeatsCache.heartbeats),s=EF(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hl.warn(n),""}}}function cI(){return new Date().toISOString().substring(0,10)}function GK(t,e=HK){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),uI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IG()?DG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uI(t){return EF(JSON.stringify({version:2,heartbeats:t})).length}function qK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){uv(new Xp("platform-logger",e=>new aK(e),"PRIVATE")),uv(new Xp("heartbeat",e=>new VK(e),"PRIVATE")),uf(j_,aI,t),uf(j_,aI,"esm2020"),uf("fire-js","")}YK("");function RF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XK=RF,jF=new k0("auth","Firebase",RF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new PF("@firebase/auth");function QK(t,...e){_x.logLevel<=ft.WARN&&_x.warn(`Auth (${T0}): ${t}`,...e)}function fw(t,...e){_x.logLevel<=ft.ERROR&&_x.error(`Auth (${T0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,...e){throw lT(t,...e)}function ta(t,...e){return lT(t,...e)}function oT(t,e,n){const r={...XK(),[e]:n};return new k0("auth","Firebase",r).create(e,{appName:t.name})}function qc(t){return oT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Va(t,"argument-error"),oT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jF.create(t,...e)}function Pe(t,e,...n){if(!t)throw lT(e,...n)}function qo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fw(e),new Error(e)}function fl(t,e){t||qo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function JK(){return dI()==="http:"||dI()==="https:"}function dI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JK()||TG()||"connection"in navigator)?navigator.onLine:!0}function e7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.shortDelay=e,this.longDelay=n,fl(n>e,"Short delay should be less than long delay!"),this.isMobile=kG()||NG()}get(){return ZK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){fl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r7=new N0(3e4,6e4);function uT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gm(t,e,n,r,i={}){return BF(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=P0({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return PG()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gS(t.emulatorConfig.host)&&(c.credentials="include"),FF.fetch()(await $F(t,t.config.apiHost,n,o),c)})}async function BF(t,e,n){t._canInitEmulator=!1;const r={...t7,...e};try{const i=new s7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Cb(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cb(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Cb(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Cb(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oT(t,d,c);Va(t,d)}}catch(i){if(i instanceof ou)throw i;Va(t,"network-request-failed",{message:String(i)})}}async function i7(t,e,n,r,i={}){const s=await gm(t,e,n,r,i);return"mfaPendingCredential"in s&&Va(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $F(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?cT(t.config,i):`${t.config.apiScheme}://${i}`;return n7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class s7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),r7.get())})}}function Cb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e){return gm(t,"POST","/v1/accounts:delete",e)}async function Cx(t,e){return gm(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o7(t,e=!1){const n=lu(t),r=await n.getIdToken(e),i=dT(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$g(sE(i.auth_time)),issuedAtTime:$g(sE(i.iat)),expirationTime:$g(sE(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sE(t){return Number(t)*1e3}function dT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fw("JWT malformed, contained fewer than 3 sections"),null;try{const i=_F(n);return i?JSON.parse(i):(fw("Failed to decode base64 JWT payload"),null)}catch(i){return fw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hI(t){const e=dT(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ou&&l7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function l7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$g(this.lastLoginAt),this.creationTime=$g(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t){var h;const e=t.auth,n=await t.getIdToken(),r=await hv(t,Cx(e,{idToken:n}));Pe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?UF(i.providerUserInfo):[],a=d7(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $_(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function u7(t){const e=lu(t);await kx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UF(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){const n=await BF(t,{},async()=>{const r=P0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await $F(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&gS(t.emulatorConfig.host)&&(l.credentials="include"),FF.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function f7(t,e){return gm(t,"POST","/v2/accounts:revokeToken",uT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=hI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await h7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new df;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Pe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new df,this.toJSON())}_performRefresh(){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new c7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hv(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o7(this,e)}reload(){return u7(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(qc(this.auth));const e=await this.getIdToken();return await hv(this,a7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:g,stsTokenManager:v}=n;Pe(h&&v,e,"internal-error");const b=df.fromJSON(this.name,v);Pe(typeof h=="string",e,"internal-error"),Dl(r,e.name),Dl(i,e.name),Pe(typeof f=="boolean",e,"internal-error"),Pe(typeof p=="boolean",e,"internal-error"),Dl(s,e.name),Dl(a,e.name),Dl(o,e.name),Dl(l,e.name),Dl(c,e.name),Dl(d,e.name);const y=new Qs({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:c,lastLoginAt:d});return g&&Array.isArray(g)&&(y.providerData=g.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new df;i.updateFromServerResponse(n);const s=new Qs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kx(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new df;o.updateFromIdToken(r);const l=new Qs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;function Yo(t){fl(t instanceof Function,"Expected a class definition");let e=fI.get(t);return e?(fl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zF.type="NONE";const pI=zF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,n){return`firebase:${t}:${e}:${n}`}class hf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pw(this.userKey,i.apiKey,s),this.fullPersistenceKey=pw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cx(this.auth,{idToken:e}).catch(()=>{});return n?Qs._fromGetAccountInfoResponse(this.auth,n,e):null}return Qs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hf(Yo(pI),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Yo(pI);const a=pw(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(a);if(d){let h;if(typeof d=="string"){const f=await Cx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Qs._fromGetAccountInfoResponse(e,f,d)}else h=Qs._fromJSON(e,d);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new hf(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new hf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qF(e))return"Blackberry";if(YF(e))return"Webos";if(WF(e))return"Safari";if((e.includes("chrome/")||VF(e))&&!e.includes("edge/"))return"Chrome";if(KF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HF(t=Rr()){return/firefox\//i.test(t)}function WF(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VF(t=Rr()){return/crios\//i.test(t)}function GF(t=Rr()){return/iemobile/i.test(t)}function KF(t=Rr()){return/android/i.test(t)}function qF(t=Rr()){return/blackberry/i.test(t)}function YF(t=Rr()){return/webos/i.test(t)}function hT(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p7(t=Rr()){var e;return hT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function m7(){return OG()&&document.documentMode===10}function XF(t=Rr()){return hT(t)||KF(t)||YF(t)||qF(t)||/windows phone/i.test(t)||GF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t,e=[]){let n;switch(t){case"Browser":n=mI(Rr());break;case"Worker":n=`${mI(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${T0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e={}){return gm(t,"GET","/v2/passwordPolicy",uT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=6;class b7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??y7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gI(this),this.idTokenSubscription=new gI(this),this.beforeStateQueue=new g7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yo(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await hf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cx(this,{idToken:e}),r=await Qs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(qs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(qc(this));const n=e?lu(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(qc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(qc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v7(this),n=new b7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new k0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await f7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yo(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await hf.create(this,[Yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&QK(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vm(t){return lu(t)}class gI{constructor(e){this.auth=e,this.observer=null,this.addObserver=FG(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x7(t){fT=t}function S7(t){return fT.loadJS(t)}function A7(){return fT.gapiScript}function E7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t,e){const n=OF(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yp(s,e??{}))return i;Va(i,"already-initialized")}return n.initialize({options:e})}function C7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k7(t,e,n){const r=vm(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=JF(e),{host:a,port:o}=P7(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Yp(c,r.config.emulator)&&Yp(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,gS(a)?(AG(`${s}//${a}${l}`),CG("Auth",!0)):T7()}function JF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P7(t){const e=JF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:vI(a)}}}function vI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qo("not implemented")}_getIdTokenResponse(e){return qo("not implemented")}_linkToIdToken(e,n){return qo("not implemented")}_getReauthenticationResolver(e){return qo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t,e){return i7(t,"POST","/v1/accounts:signInWithIdp",uT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="http://localhost";class oh extends ZF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Va("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new oh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ff(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ff(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ff(e,n)}buildRequest(){const e={requestUri:N7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=P0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends vS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends O0{constructor(){super("facebook.com")}static credential(e){return oh._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ul.credential(e.oauthAccessToken)}catch{return null}}}Ul.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ul.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends O0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oh._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.GOOGLE_SIGN_IN_METHOD="google.com";Uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends O0{constructor(){super("github.com")}static credential(e){return oh._fromParams({providerId:zl.PROVIDER_ID,signInMethod:zl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zl.credentialFromTaggedObject(e)}static credentialFromError(e){return zl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zl.credential(e.oauthAccessToken)}catch{return null}}}zl.GITHUB_SIGN_IN_METHOD="github.com";zl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends O0{constructor(){super("twitter.com")}static credential(e,n){return oh._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hl.credential(n,r)}catch{return null}}}Hl.TWITTER_SIGN_IN_METHOD="twitter.com";Hl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Qs._fromIdTokenResponse(e,r,i),a=yI(r);return new Qp({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yI(r);return new Qp({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends ou{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Px.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Px(e,n,r,i)}}function eB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Px._fromErrorAndOperation(t,s,e,r):s})}async function O7(t,e,n=!1){const r=await hv(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qp._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e,n=!1){const{auth:r}=t;if(qs(r.app))return Promise.reject(qc(r));const i="reauthenticate";try{const s=await hv(t,eB(r,i,e,t),n);Pe(s.idToken,r,"internal-error");const a=dT(s.idToken);Pe(a,r,"internal-error");const{sub:o}=a;return Pe(t.uid===o,r,"user-mismatch"),Qp._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Va(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e,n=!1){if(qs(t.app))return Promise.reject(qc(t));const r="signIn",i=await eB(t,r,e),s=await Qp._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function M7(t,e,n,r){return lu(t).onIdTokenChanged(e,n,r)}function R7(t,e,n){return lu(t).beforeAuthStateChanged(e,n)}function j7(t,e,n,r){return lu(t).onAuthStateChanged(e,n,r)}function L7(t){return lu(t).signOut()}const Tx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tx,"1"),this.storage.removeItem(Tx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=1e3,B7=10;class nB extends tB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);m7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nB.type="LOCAL";const $7=nB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB extends tB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rB.type="SESSION";const iB=rB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yS(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await U7(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=pT("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){return window}function H7(t){Ha().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return typeof Ha().WorkerGlobalScope<"u"&&typeof Ha().importScripts=="function"}async function W7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function G7(){return sB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="firebaseLocalStorageDb",K7=1,Nx="firebaseLocalStorage",oB="fbase_key";class I0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bS(t,e){return t.transaction([Nx],e?"readwrite":"readonly").objectStore(Nx)}function q7(){const t=indexedDB.deleteDatabase(aB);return new I0(t).toPromise()}function U_(){const t=indexedDB.open(aB,K7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nx,{keyPath:oB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nx)?e(r):(r.close(),await q7(),e(await U_()))})})}async function bI(t,e,n){const r=bS(t,!0).put({[oB]:e,value:n});return new I0(r).toPromise()}async function Y7(t,e){const n=bS(t,!1).get(e),r=await new I0(n).toPromise();return r===void 0?null:r.value}function wI(t,e){const n=bS(t,!0).delete(e);return new I0(n).toPromise()}const X7=800,Q7=3;class lB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yS._getInstance(G7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await W7(),!this.activeServiceWorker)return;this.sender=new z7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U_();return await bI(e,Tx,"1"),await wI(e,Tx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bS(i,!1).getAll();return new I0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lB.type="LOCAL";const J7=lB;new N0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e){return e?Yo(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends ZF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ff(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ff(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ff(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z7(t){return D7(t.auth,new gT(t),t.bypassAuthState)}function e9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),I7(n,new gT(t),t.bypassAuthState)}async function t9(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),O7(n,new gT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z7;case"linkViaPopup":case"linkViaRedirect":return t9;case"reauthViaPopup":case"reauthViaRedirect":return e9;default:Va(this.auth,"internal-error")}}resolve(e){fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new N0(2e3,1e4);async function r9(t,e,n){if(qs(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const r=vm(t);LF(t,e,vS);const i=mT(r,n);return new Nu(r,"signInViaPopup",e,i).executeNotNull()}class Nu extends cB{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){fl(this.filter.length===1,"Popup operations only handle one event");const e=pT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n9.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9="pendingRedirect",mw=new Map;class s9 extends cB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mw.get(this.auth._key());if(!e){try{const r=await a9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mw.set(this.auth._key(),e)}return this.bypassAuthState||mw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a9(t,e){const n=dB(e),r=uB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function o9(t,e){return uB(t)._set(dB(e),"true")}function l9(t,e){mw.set(t._key(),e)}function uB(t){return Yo(t._redirectPersistence)}function dB(t){return pw(i9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t,e,n){return u9(t,e,n)}async function u9(t,e,n){if(qs(t.app))return Promise.reject(qc(t));const r=vm(t);LF(t,e,vS),await r._initializationPromise;const i=mT(r,n);return await o9(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function d9(t,e){return await vm(t)._initializationPromise,hB(t,e,!1)}async function hB(t,e,n=!1){if(qs(t.app))return Promise.reject(qc(t));const r=vm(t),i=mT(r,e),a=await new s9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=10*60*1e3;class f9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h9&&this.cachedEventUids.clear(),this.cachedEventUids.has(xI(e))}saveEventToCache(e){this.cachedEventUids.add(xI(e)),this.lastProcessedEventTime=Date.now()}}function xI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e={}){return gm(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v9=/^https?/;async function y9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m9(t);for(const n of e)try{if(b9(n))return}catch{}Va(t,"unauthorized-domain")}function b9(t){const e=B_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!v9.test(n))return!1;if(g9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new N0(3e4,6e4);function SI(){const t=Ha().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x9(t){return new Promise((e,n)=>{var i,s,a;function r(){SI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SI(),n(ta(t,"network-request-failed"))},timeout:w9.get()})}if((s=(i=Ha().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Ha().gapi)!=null&&a.load)r();else{const o=E7("iframefcb");return Ha()[o]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},S7(`${A7()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw gw=null,e})}let gw=null;function S9(t){return gw=gw||x9(t),gw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new N0(5e3,15e3),E9="__/auth/iframe",_9="emulator/auth/iframe",C9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P9(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cT(e,_9):`https://${t.config.authDomain}/${E9}`,r={apiKey:e.apiKey,appName:t.name,v:T0},i=k9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${P0(r).slice(1)}`}async function T9(t){const e=await S9(t),n=Ha().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:P9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ta(t,"network-request-failed"),o=Ha().setTimeout(()=>{s(a)},A9.get());function l(){Ha().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O9=500,I9=600,D9="_blank",M9="http://localhost";class AI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R9(t,e,n,r=O9,i=I9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...N9,width:r.toString(),height:i.toString(),top:s,left:a},c=Rr().toLowerCase();n&&(o=VF(c)?D9:n),HF(c)&&(e=e||M9,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(p7(c)&&o!=="_self")return j9(e||"",o),new AI(null);const h=window.open(e||"",o,d);Pe(h,t,"popup-blocked");try{h.focus()}catch{}return new AI(h)}function j9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="__/auth/handler",F9="emulator/auth/handler",B9=encodeURIComponent("fac");async function EI(t,e,n,r,i,s){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:T0,eventId:i};if(e instanceof vS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",LG(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))a[d]=h}if(e instanceof O0){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${B9}=${encodeURIComponent(l)}`:"";return`${$9(t)}?${P0(o).slice(1)}${c}`}function $9({config:t}){return t.emulator?cT(t,F9):`https://${t.authDomain}/${L9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="webStorageSupport";class U9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iB,this._completeRedirectFn=hB,this._overrideRedirectResult=l9}async _openPopup(e,n,r,i){var a;fl((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await EI(e,n,r,B_(),i);return R9(e,s,pT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await EI(e,n,r,B_(),i);return H7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T9(e),r=new f9(e);return n.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aE,{type:aE},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[aE];s!==void 0&&n(!!s),Va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XF()||WF()||hT()}}const z9=U9;var _I="@firebase/auth",CI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V9(t){uv(new Xp("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QF(t)},c=new w7(r,i,s,l);return C7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uv(new Xp("auth-internal",e=>{const n=vm(e.getProvider("auth").getImmediate());return(r=>new H9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),uf(_I,CI,W9(t)),uf(_I,CI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=5*60,K9=kF("authIdTokenMaxAge")||G9;let kI=null;const q9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K9)return;const i=n==null?void 0:n.token;kI!==i&&(kI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Y9(t=BK()){const e=OF(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_7(t,{popupRedirectResolver:z9,persistence:[J7,$7,iB]}),r=kF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=q9(s.toString());R7(n,a,()=>a(n.currentUser)),M7(n,o=>a(o))}}const i=xG("auth");return i&&k7(n,`http://${i}`),n}function X9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}x7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ta("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",X9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V9("Browser");var Q9="firebase",J9="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uf(Q9,J9,"app");const Z9={apiKey:"AIzaSyCYzQ3P42s3fNS5SNvMBLdhmRLoPzzH7c8",authDomain:"cashvelo-05.firebaseapp.com",projectId:"cashvelo-05",storageBucket:"cashvelo-05.appspot.com",messagingSenderId:"745623180027",appId:"1:745623180027:web:d527e97ae325fce24d565e"},eq=IF(Z9),Ug=Y9(eq),PI=new Uo;var pB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TI=Jo.createContext&&Jo.createContext(pB),tq=["attr","size","title"];function nq(t,e){if(t==null)return{};var n=rq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ox.apply(this,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iq(t,e,n){return e=sq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sq(t){var e=aq(t,"string");return typeof e=="symbol"?e:e+""}function aq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mB(t){return t&&t.map((e,n)=>Jo.createElement(e.tag,Ix({key:n},e.attr),mB(e.child)))}function Le(t){return e=>Jo.createElement(oq,Ox({attr:Ix({},t.attr)},e),mB(t.child))}function oq(t){var e=n=>{var{attr:r,size:i,title:s}=t,a=nq(t,tq),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Jo.createElement("svg",Ox({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Ix(Ix({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Jo.createElement("title",null,s),t.children)};return TI!==void 0?Jo.createElement(TI.Consumer,null,n=>e(n)):e(pB)}function lq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function cq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function uq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function dq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function hq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function fq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function pq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function mq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function OI(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function gq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function oE(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function vq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function yq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function gB(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function zg(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function bq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function II(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function lE(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(t)}function wq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function xq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Sq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Aq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Eq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function _q(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Cq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function kq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(t)}function Pq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Tq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Nq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function Oq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function Iq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Dq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(t)}function Mq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function z_(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function kb(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function sg(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Rq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function DI(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function MI(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function jq(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(t)}function Lq(t){const e=document.documentElement;t?e.classList.add("dark"):e.classList.remove("dark")}function Hg(){const[t,e]=S.useState(()=>{var r;const n=localStorage.getItem("cashvelo_theme");return n==="dark"?!0:n==="light"?!1:((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-color-scheme: dark)").matches)??!1});return S.useEffect(()=>{Lq(t),localStorage.setItem("cashvelo_theme",t?"dark":"light")},[t]),m.jsx("button",{type:"button",onClick:()=>e(n=>!n),className:"theme-toggle-btn","aria-pressed":t,title:t?"Switch to light mode":"Switch to dark mode","aria-label":"Toggle theme",children:t?m.jsx(kq,{size:20}):m.jsx(Dq,{size:20})})}function Fq(){return m.jsxs("nav",{className:"mobile-bottom-nav",children:[m.jsx(Ko,{to:"/dashboard",end:!0,className:"mobile-nav-item",children:m.jsx("span",{className:"mobile-nav-label",children:"Dashboard"})}),m.jsx(Ko,{to:"/budget",className:"mobile-nav-item",children:m.jsx("span",{className:"mobile-nav-label",children:"Budget"})}),m.jsx(Ko,{to:"/expenses",className:"mobile-nav-item",children:m.jsx("span",{className:"mobile-nav-label",children:"Spending"})}),m.jsx(Ko,{to:"/insights",className:"mobile-nav-item",children:m.jsx("span",{className:"mobile-nav-label",children:"Insights"})})]})}function Bq(){const t=au(),e=[{name:"Groceries",amt:240,max:300},{name:"Transport",amt:62,max:120},{name:"Savings",amt:920,max:1e3},{name:"Fun",amt:80,max:150}];return m.jsxs("div",{className:"page-container",children:[m.jsx("div",{className:"bg-blob blob-one"}),m.jsx("div",{className:"bg-blob blob-two"}),m.jsx("nav",{className:"navbar",children:m.jsx("div",{className:"nav-container",children:m.jsxs("div",{className:"nav-layout",children:[m.jsxs("div",{className:"logo-section",onClick:()=>t("/"),style:{cursor:"pointer"},"aria-label":"Cashvelo home",children:[m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cashvelo logo",className:"logo-img"}),m.jsx("span",{className:"project-name",children:"Cashvelo"})]}),m.jsxs("div",{className:"nav-links",children:[m.jsx("button",{className:"nav-link pill active",onClick:()=>t("/"),children:"Home"}),m.jsx("a",{href:"#how",className:"nav-link pill",children:"How it works"}),m.jsx("a",{href:"#features",className:"nav-link pill",children:"Features"}),m.jsx("a",{href:"#why",className:"nav-link pill",children:"Why Cashvelo"}),m.jsx("button",{onClick:()=>t("/login"),className:"nav-link ghost-pill",children:"Log in"}),m.jsx("button",{className:"nav-link cta-pill",onClick:()=>t("/signup"),"aria-label":"Create free account",children:"Create account"}),m.jsx("div",{className:"theme-toggle-wrap",children:m.jsx(Hg,{})})]})]})})}),m.jsxs("header",{className:"main-content",children:[m.jsxs("div",{className:"hero-grid",children:[m.jsxs("div",{className:"hero-copy",children:[m.jsxs("h1",{className:"hero-title",children:["Budget beautifully.",m.jsx("br",{}),"Spend confidently."]}),m.jsx("p",{className:"hero-subtitle",children:"Cashvelo turns your income into simple envelopes, gives you crystal clear insights, and helps you stay consistent without spreadsheets or stress."}),m.jsxs("div",{className:"hero-actions",children:[m.jsx("button",{className:"create-btn",onClick:()=>t("/signup"),children:"Start in 60 seconds "}),m.jsx("button",{className:"ghost-btn",onClick:()=>{var n;return(n=document.getElementById("demo"))==null?void 0:n.scrollIntoView({behavior:"smooth"})},children:"See a live demo"})]})]}),m.jsxs("div",{className:"hero-demo",id:"demo",role:"img","aria-label":"Demo of envelopes and insights",children:[m.jsxs("div",{className:"demo-head",children:[m.jsx("div",{className:"demo-title",children:"Envelopes"}),m.jsx("div",{className:"demo-chip",children:"Demo"})]}),m.jsx("div",{className:"demo-envelopes",children:e.map(n=>{const r=Math.min(100,Math.round(n.amt/n.max*100));return m.jsxs("div",{className:"env",children:[m.jsxs("div",{className:"env-row",children:[m.jsx("span",{className:"env-name",children:n.name}),m.jsxs("span",{className:"env-amt",children:["$",n.amt]})]}),m.jsx("div",{className:"env-bar",children:m.jsx("div",{className:"env-fill",style:{width:`${r}%`}})})]},n.name)})}),m.jsxs("div",{className:"demo-insights",children:[m.jsxs("div",{className:"insight",children:["Month to date: ",m.jsx("strong",{children:"$1,284"})," tracked"]}),m.jsxs("div",{className:"insight",children:["Safe to spend: ",m.jsx("strong",{children:"$412"})]}),m.jsxs("div",{className:"insight",children:["Upcoming: ",m.jsx("strong",{children:"$96"})," in 5 days"]})]})]})]}),m.jsxs("div",{className:"badges",children:[m.jsx("span",{className:"chip",children:"Envelope budgeting"}),m.jsx("span",{className:"chip",children:"Clear insights"})]}),m.jsxs("p",{className:"description",children:["Cashvelo uses the ",m.jsx("strong",{children:"cash envelope system"}),", a visual method for setting limits, tracking spending, and keeping momentum month to month."]})]}),m.jsx("section",{id:"how",className:"about",children:m.jsxs("div",{className:"about-inner",children:[m.jsx("h2",{className:"section-title",children:"How Cashvelo keeps you on track"}),m.jsx("p",{className:"section-intro",children:"Three steps. Minutes to set up. Habits that last."}),m.jsxs("ol",{className:"how-steps",children:[m.jsxs("li",{children:[m.jsx("div",{className:"img-placeholder","aria-hidden":"true",children:m.jsx(Sq,{})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Create smart envelopes"}),m.jsx("p",{children:"Assign money to categories you actually use. We guide your splits based on goals and a typical month."})]})]}),m.jsxs("li",{children:[m.jsx("div",{className:"img-placeholder","aria-hidden":"true",children:m.jsx(lq,{})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Track without friction"}),m.jsx("p",{children:"Log spending in seconds, import bank CSVs, and let rules auto tag transactions."})]})]}),m.jsxs("li",{children:[m.jsx("div",{className:"img-placeholder","aria-hidden":"true",children:m.jsx(Nq,{})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Protect your plan"}),m.jsx("p",{children:"See safe to spend at a glance, get nudges before you overshoot, and roll leftovers to savings."})]})]})]})]})}),m.jsx("section",{id:"features",className:"feature-band",children:m.jsx("div",{className:"about-inner feature-grid",children:[{title:"Goals that feel doable",copy:"Targets for travel, emergency fund, or debt payoff broken into weekly bites."},{title:"Delightfully fast",copy:"Zero lag UI and offline first so your budget is ready the moment you open the app."},{title:"Private by design",copy:"Your data stays on your device with optional encrypted backup. No selling data."},{title:"Gentle reminders",copy:"Notifications arrive at the right moment, after a purchase or before a bill."}].map((n,r)=>{const i=[Pq,jq,_q,pq][r];return m.jsxs("article",{className:"feature-card feature-with-image",children:[m.jsx("div",{className:"feature-img img-placeholder","aria-hidden":"true",children:m.jsx(i,{})}),m.jsxs("div",{className:"feature-body",children:[m.jsx("h3",{className:"feature-title",children:n.title}),m.jsx("p",{className:"feature-copy",children:n.copy})]})]},n.title)})})}),m.jsxs("section",{id:"why",className:"about",children:[m.jsx("div",{className:"about-inner",children:m.jsx("h2",{className:"section-title",children:"Why people stick with Cashvelo"})}),m.jsxs("ul",{className:"why-list",children:[m.jsx("li",{children:"Visual envelope system that clicks instantly"}),m.jsx("li",{children:"Clear safe to spend so decisions feel easy"}),m.jsx("li",{children:"Rollovers keep momentum month to month"}),m.jsx("li",{children:"Works great solo or with a partner"})]})]}),m.jsx("section",{className:"cta",children:m.jsxs("div",{className:"cta-inner",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"cta-title",children:"Ready to feel in control of money?"}),m.jsx("p",{className:"cta-sub",children:"Get started in minutes."})]}),m.jsxs("div",{className:"hero-actions cta-actions",children:[m.jsx("button",{className:"create-btn",onClick:()=>t("/signup"),children:"Create account"}),m.jsx("button",{className:"ghost-btn",onClick:()=>t("/login"),children:"I already have an account"})]})]})}),m.jsxs("footer",{className:"footer",children:[" ",new Date().getFullYear()," Cashvelo"]})]})}const $q="/api";function Uq(){const t=au(),[e,n]=S.useState(!1),[r,i]=S.useState({email:"",password:"",remember:!0}),[s,a]=S.useState({}),[o,l]=S.useState(!1),[c,d]=S.useState(""),[h,f]=S.useState(!1);S.useEffect(()=>{d9(Ug).then(y=>{y!=null&&y.user&&(localStorage.setItem("authMethod","google"),localStorage.setItem("user",JSON.stringify({id:y.user.uid,email:y.user.email,username:y.user.displayName})),t("/dashboard",{replace:!0}))}).catch(console.error)},[t]);function p(y){const{name:x,value:w,type:_,checked:E}=y.target;i(k=>({...k,[x]:_==="checkbox"?E:w})),s[x]&&a(k=>({...k,[x]:""}))}function g(){const y={};return r.email.trim()?/^\S+@\S+\.\S+$/.test(r.email)||(y.email="Enter a valid email."):y.email="Email is required.",r.password||(y.password="Password is required."),y}async function v(y){y.preventDefault();const x=g();if(a(x),!Object.keys(x).length)try{f(!0),a({});const w=await fetch(`${$q}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email.trim(),password:r.password})}),_=await w.json();w.ok?(localStorage.setItem("authMethod","express"),localStorage.setItem("authToken",_.token),localStorage.setItem("user",JSON.stringify(_.user)),window.location.href="/dashboard"):a({email:_.error||"Login failed"})}catch{a({email:"Unable to connect to server. Please try again."})}finally{f(!1)}}async function b(){try{d(""),l(!0);const y=await r9(Ug,PI);localStorage.setItem("authMethod","google"),localStorage.setItem("user",JSON.stringify({id:y.user.uid,email:y.user.email,username:y.user.displayName})),t("/dashboard",{replace:!0})}catch(y){((y==null?void 0:y.code)||"")==="auth/popup-blocked"?await c9(Ug,PI):d((y==null?void 0:y.message)||"Google sign-in failed")}finally{l(!1)}}return m.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsx("div",{className:"card",role:"region","aria-label":"Login card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration","aria-hidden":"true",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cat placing cash into an envelope",className:"cat-hero"})}),m.jsx("h1",{children:"Welcome back "}),m.jsx("p",{className:"subtitle",children:"Sign in to continue building strong financial habits with Cashvelo."})]}),m.jsxs("form",{onSubmit:v,noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),m.jsx("input",{id:"email",name:"email",type:"email",className:"input",placeholder:"you@example.com",value:r.email,onChange:p,autoComplete:"email"}),s.email&&m.jsx("p",{className:"subtitle",role:"alert",style:{color:"#dc2626"},children:s.email})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),m.jsxs("div",{className:"password-wrap",children:[m.jsx("input",{id:"password",name:"password",type:e?"text":"password",className:"input",placeholder:"",value:r.password,onChange:p,autoComplete:"current-password"}),m.jsx("button",{type:"button",className:"toggle-eye",onClick:()=>n(y=>!y),children:e?"Hide":"Show"})]})]}),m.jsxs("div",{className:"row",style:{justifyContent:"space-between",marginTop:10},children:[m.jsxs("label",{className:"checkbox",children:[m.jsx("input",{type:"checkbox",name:"remember",checked:r.remember,onChange:p}),"Remember me"]}),m.jsx(tl,{className:"link",to:"/forgot-password",children:"Forgot password?"})]}),m.jsx("button",{type:"submit",className:"btn",disabled:h,children:h?"Signing in":"Log in"})]}),c&&m.jsx("div",{style:{color:"crimson",marginTop:10,fontSize:14},children:c}),m.jsxs("div",{className:"divider","aria-hidden":"true",children:[m.jsx("span",{className:"line"}),m.jsx("span",{children:"or"}),m.jsx("span",{className:"line"})]}),m.jsxs("div",{className:"social",children:[m.jsx("button",{type:"button",onClick:b,disabled:o,children:o?"Signing in...":"Continue with Google"}),m.jsx("button",{type:"button",children:"Continue with Apple"})]}),m.jsxs("p",{className:"center subtitle",style:{marginTop:16},children:["New here? ",m.jsx(tl,{className:"link",to:"/signup",children:"Create an account"})]})]})})})}const zq="/api";function Hq(){au();const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[a,o]=S.useState(""),[l,c]=S.useState(!1),[d,h]=S.useState(!1),[f,p]=S.useState("");async function g(v){if(v.preventDefault(),p(""),!n||!i||!a)return p("Please fill in all required fields.");if(i.length<6)return p("Password must be at least 6 characters");if(i!==a)return p("Passwords do not match.");try{h(!0);const b=await fetch(`${zq}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:(t||n.split("@")[0]).trim(),email:n.trim(),password:i})}),y=await b.json();b.ok?(localStorage.setItem("authMethod","express"),localStorage.setItem("authToken",y.token),localStorage.setItem("user",JSON.stringify(y.user)),window.location.href="/questionnaire"):p(y.error||"Something went wrong. Please try again.")}catch{p("Unable to connect to server. Please try again.")}finally{h(!1)}}return m.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsx("div",{className:"card",role:"region","aria-label":"Signup card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cashvelo logo",className:"cat-hero"})}),m.jsx("h1",{children:"Create your account"}),m.jsx("p",{className:"subtitle",children:"Join Cashvelo to budget smarter."})]}),m.jsxs("form",{onSubmit:g,noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",htmlFor:"name",children:"Full name (optional)"}),m.jsx("input",{id:"name",className:"input",type:"text",placeholder:"e.g., Alex Doe",value:t,onChange:v=>e(v.target.value),autoComplete:"name"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",htmlFor:"email",children:"Email"}),m.jsx("input",{id:"email",className:"input",type:"email",placeholder:"you@example.com",value:n,onChange:v=>r(v.target.value),autoComplete:"email",required:!0})]}),m.jsxs("div",{className:"form-group password-wrap",children:[m.jsx("label",{className:"label",htmlFor:"password",children:"Password"}),m.jsx("input",{id:"password",className:"input",type:l?"text":"password",placeholder:"At least 6 characters",value:i,onChange:v=>s(v.target.value),autoComplete:"new-password",required:!0}),m.jsx("button",{type:"button",className:"toggle-eye",onClick:()=>c(v=>!v),"aria-label":l?"Hide password":"Show password",children:l?"Hide":"Show"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"label",htmlFor:"confirm",children:"Confirm password"}),m.jsx("input",{id:"confirm",className:"input",type:l?"text":"password",placeholder:"Re-enter password",value:a,onChange:v=>o(v.target.value),autoComplete:"new-password",required:!0})]}),f&&m.jsx("div",{style:{color:"crimson",marginTop:10,fontSize:14},children:f}),m.jsx("button",{className:"btn",type:"submit",disabled:d,children:d?"Creating account...":"Create account"})]}),m.jsxs("div",{className:"divider","aria-hidden":"true",children:[m.jsx("span",{className:"line"}),m.jsx("span",{children:"or"}),m.jsx("span",{className:"line"})]}),m.jsxs("div",{className:"social",children:[m.jsx("button",{type:"button",children:"Continue with Google"}),m.jsx("button",{type:"button",children:"Continue with Apple"})]}),m.jsxs("p",{className:"center subtitle",style:{marginTop:16},children:["Already have an account? ",m.jsx(tl,{className:"link",to:"/login",children:"Log in"})]})]})})})}const Wq="/api";function Vq(){const[t,e]=S.useState(""),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[a,o]=S.useState(""),l=au(),c=async d=>{if(d.preventDefault(),o(""),s(!1),!t.trim()){o("Please enter your email address");return}if(!/^\S+@\S+\.\S+$/.test(t)){o("Please enter a valid email address");return}try{r(!0);const h=await fetch(`${Wq}/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.trim()})}),f=await h.json();h.ok?s(!0):o(f.error||"Something went wrong")}catch(h){console.error("Forgot password error:",h),o("Unable to connect to server. Please try again.")}finally{r(!1)}};return m.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:m.jsx("div",{className:"card",role:"region","aria-label":"Forgot password card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration","aria-hidden":"true",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cat placing cash into an envelope",className:"cat-hero"})}),m.jsx("h1",{children:"Forgot your password? "}),m.jsx("p",{className:"subtitle",children:i?"Check your email for the reset link":"Enter your email and we'll send you a reset link"})]}),i?m.jsxs("div",{children:[m.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:8,padding:16,marginBottom:20},children:m.jsx("p",{style:{color:"#065f46",margin:0,fontSize:14},children:" If an account exists with this email, you will receive a password reset link shortly."})}),m.jsx("p",{className:"subtitle",style:{textAlign:"center",marginBottom:16},children:"Check your email inbox and spam folder for the reset link."}),m.jsx("button",{className:"btn",onClick:()=>l("/login"),children:"Back to login"})]}):m.jsxs("form",{onSubmit:c,noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",className:"label",children:"Email address"}),m.jsx("input",{id:"email",name:"email",type:"email",className:"input",placeholder:"you@example.com",value:t,onChange:d=>e(d.target.value),autoComplete:"email"})]}),a&&m.jsx("p",{className:"subtitle",role:"alert",style:{color:"#dc2626"},children:a}),m.jsx("button",{type:"submit",className:"btn",disabled:n,children:n?"Sending...":"Send reset link"}),m.jsxs("p",{className:"center subtitle",style:{marginTop:16},children:["Remember your password?"," ",m.jsx(tl,{className:"link",to:"/login",children:"Back to login"})]})]})]})})})}const RI="http://localhost:3000/api";function Gq(){const{token:t}=xV(),e=au(),[n,r]=S.useState(""),[i,s]=S.useState(""),[a,o]=S.useState(!1),[l,c]=S.useState(!1),[d,h]=S.useState(!0),[f,p]=S.useState(!1),[g,v]=S.useState(""),[b,y]=S.useState(!1);S.useEffect(()=>{(async()=>{if(!t){v("No reset token provided"),h(!1);return}try{const E=await(await fetch(`${RI}/verify-reset-token/${t}`)).json();E.valid?y(!0):v(E.error||"Invalid or expired reset link")}catch(_){console.error("Token verification error:",_),v("Unable to verify reset link")}finally{h(!1)}})()},[t]);const x=async w=>{if(w.preventDefault(),v(""),!n||!i){v("Please fill in all fields");return}if(n.length<6){v("Password must be at least 6 characters");return}if(n!==i){v("Passwords do not match");return}try{c(!0);const _=await fetch(`${RI}/reset-password/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}),E=await _.json();_.ok?p(!0):v(E.error||"Failed to reset password")}catch(_){console.error("Reset password error:",_),v("Unable to connect to server. Please try again.")}finally{c(!1)}};return d?m.jsxs("div",{className:"container",children:[m.jsxs("header",{className:"header",children:[m.jsxs("div",{className:"brand",children:[m.jsx("div",{className:"logo",children:""}),m.jsx("div",{children:"Cashvelo"})]}),m.jsx(Hg,{})]}),m.jsx("main",{className:"main",children:m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cashvelo logo",className:"cat-hero"})}),m.jsx("p",{className:"subtitle",children:"Verifying reset link..."})]})})})}),m.jsxs("footer",{className:"footer",children:[" ",new Date().getFullYear()," Cashvelo"]})]}):!b&&!f?m.jsxs("div",{className:"container",children:[m.jsxs("header",{className:"header",children:[m.jsxs("div",{className:"brand",children:[m.jsx("div",{className:"logo",children:""}),m.jsx("div",{children:"Cashvelo"})]}),m.jsx(Hg,{})]}),m.jsx("main",{className:"main",children:m.jsx("div",{className:"card",children:m.jsx("div",{className:"card-body",children:m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cashvelo logo",className:"cat-hero"})}),m.jsx("h1",{children:"Invalid Reset Link "}),m.jsx("p",{className:"subtitle",style:{color:"#dc2626"},children:g||"This password reset link is invalid or has expired."}),m.jsx("button",{className:"btn",onClick:()=>e("/forgot-password"),style:{marginTop:20},children:"Request new reset link"})]})})})}),m.jsxs("footer",{className:"footer",children:[" ",new Date().getFullYear()," Cashvelo"]})]}):m.jsxs("div",{className:"container",children:[m.jsxs("header",{className:"header",children:[m.jsxs("div",{className:"brand",children:[m.jsx("div",{className:"logo",children:""}),m.jsx("div",{children:"Cashvelo"})]}),m.jsx(Hg,{})]}),m.jsx("main",{className:"main",children:m.jsx("div",{className:"card",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("div",{className:"center",children:[m.jsx("div",{className:"illustration",children:m.jsx("img",{src:"/cat-envelope.jpg",alt:"Cashvelo logo",className:"cat-hero"})}),m.jsx("h1",{children:"Reset your password "}),m.jsx("p",{className:"subtitle",children:f?"Your password has been reset!":"Enter your new password below"})]}),f?m.jsxs("div",{children:[m.jsx("div",{style:{background:"#d1fae5",border:"1px solid #6ee7b7",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:m.jsx("p",{style:{color:"#065f46",margin:0,fontSize:"14px"},children:" Your password has been reset successfully!"})}),m.jsx("button",{className:"btn",onClick:()=>e("/login"),children:"Go to login"})]}):m.jsxs("form",{onSubmit:x,noValidate:!0,children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",className:"label",children:"New password"}),m.jsxs("div",{className:"password-wrap",children:[m.jsx("input",{id:"password",name:"password",type:a?"text":"password",className:"input",placeholder:"At least 6 characters",value:n,onChange:w=>r(w.target.value),autoComplete:"new-password"}),m.jsx("button",{type:"button",className:"toggle-eye",onClick:()=>o(w=>!w),"aria-label":a?"Hide password":"Show password",children:a?"Hide":"Show"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"confirm",className:"label",children:"Confirm new password"}),m.jsx("input",{id:"confirm",name:"confirm",type:a?"text":"password",className:"input",placeholder:"Re-enter password",value:i,onChange:w=>s(w.target.value),autoComplete:"new-password"})]}),g&&m.jsx("p",{className:"subtitle",role:"alert",style:{color:"#dc2626"},children:g}),m.jsx("button",{type:"submit",className:"btn",disabled:l,children:l?"Resetting password...":"Reset password"})]})]})})}),m.jsxs("footer",{className:"footer",children:[" ",new Date().getFullYear()," Cashvelo"]})]})}const Ga={budgets:"cv_budgets_v1",expenses:"cv_expenses_v1",incomeActual:"cv_income_actual_v1",incomeExpected:"cv_income_expected_v1",uploadHistory:"cv_upload_history_v1"},vT=(t,e)=>{try{return JSON.parse(localStorage.getItem(t))??e}catch{return e}},yT=(t,e)=>localStorage.setItem(t,JSON.stringify(e));function bh(){return vT(Ga.budgets,[])}function vB(t){yT(Ga.budgets,t)}function Kq(t){const e=bh();return e.push({id:crypto.randomUUID(),type:t.type||"variable",...t}),vB(e),e}function qq(t){const e=bh().filter(n=>n.id!==t);return vB(e),e}function ei(){return vT(Ga.expenses,[])}function Dx(t){yT(Ga.expenses,t)}function Yq(t){const e=ei();return e.push({id:crypto.randomUUID(),...t}),Dx(e),e}function Xq(t){const e=ei().filter(n=>n.id!==t);return Dx(e),e}function yB(){return vT(Ga.uploadHistory,[])}function Pb(t,e){const n=yB(),r={id:crypto.randomUUID(),timestamp:Date.now(),fileType:t,importedCount:e};return n.push(r),yT(Ga.uploadHistory,n),n}function Qq(){const t=bh(),e=ei(),n={};let r=0;for(const s of e){const a=Number(s.amount)||0;r+=a;const o=s.category||"Uncategorized";n[o]=(n[o]||0)+a}const i={};for(const s of t)i[s.name]=Number(s.limit)||0;return{total:r,byCategory:n,budgetLimits:i,budgets:t,expenses:e}}function bB(){const t=bh();let e=0,n=0,r=0;for(const i of t){const s=Number(i.limit)||0;!Number.isFinite(s)||s<=0||(i.type==="recurring"?e+=s:n+=s,r+=s)}return{recurring:e,variable:n,total:r}}function Qd(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()}function Jq(){const t=new Date,e=ei().filter(i=>{const s=new Date(i.date);return Qd(s,t)}),n={};let r=0;for(const i of e){const s=Number(i.amount)||0;r+=s;const a=i.category||"Uncategorized";n[a]=(n[a]||0)+s}return{sum:r,byCategory:n,expenses:e}}function H_(){const t=JSON.parse(localStorage.getItem(Ga.incomeActual)||"[]"),e=JSON.parse(localStorage.getItem(Ga.incomeExpected)||"[]");return{actual:t.reduce((n,r)=>n+r,0),expected:e.reduce((n,r)=>n+r,0)}}function Zq(t){const e=t==="expected"?Ga.incomeExpected:Ga.incomeActual,r=JSON.parse(localStorage.getItem(e)||"[]").slice(0,-1);return localStorage.setItem(e,JSON.stringify(r)),r}const eY="cv_credit_cards_v1";function wB(){return JSON.parse(localStorage.getItem(eY)||"[]")}function xB(t){const{balance:e=0,pending:n=0,payment:r=0,planned:i=0}=t;return Number(e)+Number(n)-Number(r)-Number(i)}const SB="userCreditCards";function D0(){try{return JSON.parse(localStorage.getItem(SB)||"[]")}catch{return[]}}function AB(t){localStorage.setItem(SB,JSON.stringify(t))}function tY(t){const e=D0();return e.push({id:crypto.randomUUID(),...t}),AB(e),e}function nY(t){const e=D0().filter(n=>n.id!==t);return AB(e),e}function cE(){const e=(wB()||[]).reduce((i,s)=>i+xB(s),0),r=(D0()||[]).reduce((i,s)=>{const a=Number(s.currentBalance)||0;return i+a},0);return e+r}const Ja=t=>Number.isFinite(t)?`$${t.toFixed(2)}`:"";function jI(t){const e=ei().filter(i=>{const s=new Date(i.date);return Qd(s,t)}),n={};let r=0;for(const i of e){const s=Number(i.amount)||0;r+=s;const a=i.category||"Uncategorized";n[a]=(n[a]||0)+s}return{sum:r,byCategory:n,expenses:e}}function rY(){var ue;const[t,e]=S.useState(()=>{const Z=new Date;return new Date(Z.getFullYear(),Z.getMonth(),1)}),n=()=>{e(Z=>new Date(Z.getFullYear(),Z.getMonth()-1,1))},r=()=>{e(Z=>new Date(Z.getFullYear(),Z.getMonth()+1,1))},i=()=>{const Z=new Date;e(new Date(Z.getFullYear(),Z.getMonth(),1))},s=Z=>Z.toLocaleDateString("en-US",{month:"long",year:"numeric"}),a=S.useMemo(()=>{const Z=new Date;return t.getFullYear()===Z.getFullYear()&&t.getMonth()===Z.getMonth()},[t]),o=S.useMemo(()=>jI(t),[t]),l=Number.isFinite(o==null?void 0:o.sum)?o.sum:0,c=((ue=o==null?void 0:o.expenses)==null?void 0:ue.length)||0,d=(o==null?void 0:o.byCategory)||{},h=S.useMemo(()=>new Date(t.getFullYear(),t.getMonth()-1,1),[t]),f=S.useMemo(()=>jI(h),[h]);Number.isFinite(f==null?void 0:f.sum)&&f.sum,Qq();const p=bB()||{},g=Number.isFinite(p==null?void 0:p.total)?p.total:0,v=H_()||{};Number.isFinite(v==null?void 0:v.actual)&&v.actual,Number.isFinite(v==null?void 0:v.expected)&&v.expected;const b=cE==null?void 0:cE(),y=Number.isFinite(b)?b:0,x=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),w=new Date,_=Qd(t,w),E=_?w.getDate():x,k=E>0?l/E:0,O=Math.max(0,g-l),T=k*x,I=(()=>{const Z=(o==null?void 0:o.expenses)||[];if(Z.length===0)return null;const le={};Z.forEach(G=>{const B=new Date(G.date);if(Qd(B,t)){const ae=B.getDate();le[ae]||(le[ae]=0),le[ae]+=Number(G.amount)||0}});const ge=[];let L=0;const R=_?E:x;for(let G=1;G<=R;G++)L+=le[G]||0,ge.push(L);if(ge.length===0)return null;const $=Math.max(...ge,T,1);return{days:ge,maxValue:$,width:ge.length}})(),D=Object.entries(d).length>0?Object.entries(d).sort((Z,le)=>le[1]-Z[1])[0]:null,M=D?D[0]:null,F=D&&Number(D[1])||0,K=l>0&&F>0?Math.round(F/l*100):0,Q=D0()||[],Y=wB()||[],U=Q.map(Z=>{const le=Number(Z.currentBalance)||0,ge=Number(Z.creditLimit)||0,L=ge>0?le/ge*100:0;return{name:Z.cardName||"Unknown",balance:le,limit:ge,utilization:L}}).filter(Z=>Z.limit>0),z=Y.map(Z=>{const le=xB(Z),ge=Number(Z.limit)||0,L=ge>0?le/ge*100:0;return{name:Z.name||"Unknown",balance:le,limit:ge,utilization:L}}).filter(Z=>Z.limit>0),W=[...U,...z],ne=[...Q,...Y],re=W.length>0?W.reduce((Z,le)=>le.utilization>Z.utilization?le:Z):null,X=W.reduce((Z,le)=>Z+le.limit,0),J=X>0?y/X*100:0;return m.jsxs("div",{className:"dashboard-page-wrapper",children:[m.jsx("div",{className:"bg-blob blob-one"}),m.jsx("div",{className:"bg-blob blob-two"}),m.jsxs("div",{className:"dashboard-container dash",children:[m.jsxs("div",{className:"month-switcher",children:[m.jsx("button",{className:"month-switcher-btn",onClick:n,"aria-label":"Previous month",children:m.jsx(vq,{})}),m.jsx("button",{className:"month-switcher-current",onClick:i,disabled:a,children:s(t)}),m.jsx("button",{className:"month-switcher-btn",onClick:r,disabled:a,"aria-label":"Next month",children:m.jsx(yq,{})})]}),m.jsxs("div",{className:"grid",children:[m.jsxs("section",{className:"card col-12 welcome-card",children:[m.jsx("h2",{children:"Welcome back"}),m.jsx("p",{className:"welcome-summary",children:_?`So far this month you spent ${Ja(l)} across ${c} ${c===1?"transaction":"transactions"}.`:`In ${s(t)} you spent ${Ja(l)} across ${c} ${c===1?"transaction":"transactions"}.`})]}),m.jsxs("section",{className:"card col-12 glance-section",children:[m.jsx("h3",{children:"This Month at a Glance"}),m.jsxs("div",{className:"glance-tiles",children:[m.jsxs("div",{className:"glance-tile",children:[m.jsx("div",{className:"glance-label",children:"Spent"}),m.jsx("div",{className:"glance-value",children:Ja(l)})]}),m.jsxs("div",{className:"glance-tile",children:[m.jsx("div",{className:"glance-label",children:"Remaining Budget"}),m.jsx("div",{className:"glance-value",children:Ja(O)})]}),m.jsxs("div",{className:"glance-tile",children:[m.jsx("div",{className:"glance-label",children:"Avg Daily Spend"}),m.jsx("div",{className:"glance-value",children:Ja(k)})]})]}),m.jsxs("div",{className:"glance-credit-summary",children:[m.jsxs("div",{className:"glance-credit-header",children:[m.jsx("span",{className:"glance-credit-label",children:"Total Credit Card Debt:"}),m.jsx("span",{className:"glance-credit-value",children:Ja(y)})]}),X>0&&m.jsx("div",{className:"glance-credit-progress",children:m.jsx("div",{className:"glance-credit-progress-bar",style:{width:`${Math.min(100,J)}%`,backgroundColor:J<30?"#10b981":J<=80?"#F4A261":"#ef4444"}})})]})]}),m.jsxs("div",{className:"quick-actions-row",children:[m.jsx(tl,{to:"/expenses",className:"quick-action-btn",children:"Add Expense"}),m.jsx(tl,{to:"/budget",className:"quick-action-btn",children:"Add Income"}),m.jsx(tl,{to:"/budget",className:"quick-action-btn",children:"Add Budget"})]}),m.jsxs("section",{className:"card col-12 highlights-card",children:[m.jsx("h3",{children:"Highlights"}),m.jsxs("div",{className:"highlights-list",children:[M&&F>0&&m.jsx("div",{className:"highlight-item",children:m.jsxs("span",{className:"highlight-text",children:["Top category this month: ",m.jsx("strong",{children:M})," (",Ja(F),")"]})}),c>0&&m.jsx("div",{className:"highlight-item",children:m.jsxs("span",{className:"highlight-text",children:["You added ",m.jsx("strong",{children:c})," ",c===1?"transaction":"transactions"," this month."]})}),K>0&&m.jsx("div",{className:"highlight-item",children:m.jsxs("span",{className:"highlight-text",children:["You spent ",m.jsxs("strong",{children:[K,"%"]})," in your top category."]})})]})]}),m.jsxs("section",{className:"card col-12 projected-spending-card",children:[m.jsx("h3",{children:"Projected End-of-Month Spending"}),m.jsxs("div",{className:"projected-content",children:[m.jsxs("div",{className:"projected-estimate",children:[m.jsx("span",{className:"projected-estimate-label",children:"Estimated:"}),m.jsx("span",{className:"projected-estimate-value",children:Ja(T)})]}),I&&I.days.length>0&&m.jsx("div",{className:"projected-sparkline",children:m.jsxs("svg",{className:"sparkline-svg",viewBox:`0 0 ${I.width} 40`,preserveAspectRatio:"none",children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"sparklineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[m.jsx("stop",{offset:"0%",stopColor:"#F4A261",stopOpacity:"0.5"}),m.jsx("stop",{offset:"100%",stopColor:"#E07A3F",stopOpacity:"0.7"})]})}),m.jsx("polyline",{points:I.days.map((Z,le)=>`${le},${40-Z/I.maxValue*35}`).join(" "),fill:"none",stroke:"url(#sparklineGradient)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),ne.length>0&&m.jsxs("section",{className:"card col-12 credit-snapshot-card",children:[m.jsx("h3",{children:"Credit Snapshot"}),m.jsxs("div",{className:"credit-snapshot-content",children:[m.jsxs("div",{className:"credit-snapshot-item",children:[m.jsx("span",{className:"credit-snapshot-label",children:"Total Debt:"}),m.jsx("span",{className:"credit-snapshot-value",children:Ja(y)})]}),re&&m.jsxs("div",{className:"credit-snapshot-item",children:[m.jsx("span",{className:"credit-snapshot-label",children:"Highest Utilization:"}),m.jsx("span",{className:"credit-snapshot-value",children:re.name})]}),X>0&&m.jsx("div",{className:"credit-snapshot-bar",children:m.jsx("div",{className:"credit-snapshot-bar-fill",style:{width:`${Math.min(100,J)}%`,backgroundColor:J<30?"#10b981":J<=80?"#F4A261":"#ef4444"}})})]})]})]})]})]})}var EB={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((n,r)=>{t.exports=r()})(bH,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(N){var I=E(N);I.chunkSize=parseInt(I.chunkSize),N.step||N.chunk||(I.chunkSize=null),this._handle=new v(I),(this._handle.streamer=this)._config=I}).call(this,T),this.parseChunk=function(N,I){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let F=this._config.newline;F||(M=this._config.quoteChar||'"',F=this._handle.guessLineEndings(N,M)),N=[...N.split(F).slice(D)].join(F)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(N))!==void 0&&(N=M),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+N,M=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(N=M.meta.cursor,D=(this._finished||(this._partialLine=D.substring(N-this._baseIndex),this._baseIndex=N),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:M,workerId:c.WORKER_ID,finished:D});else if(O(this._config.chunk)&&!I){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!D||!O(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(N){O(this._config.error)?this._config.error(N):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:N,finished:!1})}}function h(T){var N;(T=T||{}).chunkSize||(T.chunkSize=c.RemoteChunkSize),d.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),s||(N.onload=k(this._chunkLoaded,this),N.onerror=k(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,D=this._config.downloadRequestHeaders;for(I in D)N.setRequestHeader(I,D[I])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,N.setRequestHeader("Range","bytes="+this._start+"-"+M));try{N.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}s&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize||N.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(N),this.parseChunk(N.responseText)))},this._chunkError=function(I){I=N.statusText||I,this._sendError(new Error(I))}}function f(T){(T=T||{}).chunkSize||(T.chunkSize=c.LocalChunkSize),d.call(this,T);var N,I,D=typeof FileReader<"u";this.stream=function(M){this._input=M,I=M.slice||M.webkitSlice||M.mozSlice,D?((N=new FileReader).onload=k(this._chunkLoaded,this),N.onerror=k(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,F=(this._config.chunkSize&&(F=Math.min(this._start+this._config.chunkSize,this._input.size),M=I.call(M,this._start,F)),N.readAsText(M,this._config.encoding));D||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(N.error)}}function p(T){var N;d.call(this,T=T||{}),this.stream=function(I){return N=I,this._nextChunk()},this._nextChunk=function(){var I,D;if(!this._finished)return I=this._config.chunkSize,N=I?(D=N.substring(0,I),N.substring(I)):(D=N,""),this._finished=!N,this.parseChunk(D)}}function g(T){d.call(this,T=T||{});var N=[],I=!0,D=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):I=!0},this._streamData=k(function(M){try{N.push(typeof M=="string"?M:M.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(F){this._streamError(F)}},this),this._streamError=k(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=k(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(T){var N,I,D,M,F=Math.pow(2,53),K=-F,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,U=this,z=0,W=0,ne=!1,re=!1,X=[],J={data:[],errors:[],meta:{}};function ue(L){return T.skipEmptyLines==="greedy"?L.join("").trim()==="":L.length===1&&L[0].length===0}function Z(){if(J&&D&&(ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),D=!1),T.skipEmptyLines&&(J.data=J.data.filter(function(G){return!ue(G)})),le()){let G=function(B,ae){O(T.transformHeader)&&(B=T.transformHeader(B,ae)),X.push(B)};if(J)if(Array.isArray(J.data[0])){for(var L=0;le()&&L<J.data.length;L++)J.data[L].forEach(G);J.data.splice(0,1)}else J.data.forEach(G)}function R(G,B){for(var ae=T.header?{}:[],se=0;se<G.length;se++){var fe=se,ve=G[se],ve=((We,xe)=>(Ge=>(T.dynamicTypingFunction&&T.dynamicTyping[Ge]===void 0&&(T.dynamicTyping[Ge]=T.dynamicTypingFunction(Ge)),(T.dynamicTyping[Ge]||T.dynamicTyping)===!0))(We)?xe==="true"||xe==="TRUE"||xe!=="false"&&xe!=="FALSE"&&((Ge=>{if(Q.test(Ge)&&(Ge=parseFloat(Ge),K<Ge&&Ge<F))return 1})(xe)?parseFloat(xe):Y.test(xe)?new Date(xe):xe===""?null:xe):xe)(fe=T.header?se>=X.length?"__parsed_extra":X[se]:fe,ve=T.transform?T.transform(ve,fe):ve);fe==="__parsed_extra"?(ae[fe]=ae[fe]||[],ae[fe].push(ve)):ae[fe]=ve}return T.header&&(se>X.length?ge("FieldMismatch","TooManyFields","Too many fields: expected "+X.length+" fields but parsed "+se,W+B):se<X.length&&ge("FieldMismatch","TooFewFields","Too few fields: expected "+X.length+" fields but parsed "+se,W+B)),ae}var $;J&&(T.header||T.dynamicTyping||T.transform)&&($=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(R),$=J.data.length):J.data=R(J.data,0),T.header&&J.meta&&(J.meta.fields=X),W+=$)}function le(){return T.header&&X.length===0}function ge(L,R,$,G){L={type:L,code:R,message:$},G!==void 0&&(L.row=G),J.errors.push(L)}O(T.step)&&(M=T.step,T.step=function(L){J=L,le()?Z():(Z(),J.data.length!==0&&(z+=L.data.length,T.preview&&z>T.preview?I.abort():(J.data=J.data[0],M(J,U))))}),this.parse=function(L,R,$){var G=T.quoteChar||'"',G=(T.newline||(T.newline=this.guessLineEndings(L,G)),D=!1,T.delimiter?O(T.delimiter)&&(T.delimiter=T.delimiter(L),J.meta.delimiter=T.delimiter):((G=((B,ae,se,fe,ve)=>{var We,xe,Ge,gn;ve=ve||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Nt=0;Nt<ve.length;Nt++){for(var Sr,Ps=ve[Nt],ln=0,Br=0,cn=0,Nn=(Ge=void 0,new y({comments:fe,delimiter:Ps,newline:ae,preview:10}).parse(B)),Ts=0;Ts<Nn.data.length;Ts++)se&&ue(Nn.data[Ts])?cn++:(Sr=Nn.data[Ts].length,Br+=Sr,Ge===void 0?Ge=Sr:0<Sr&&(ln+=Math.abs(Sr-Ge),Ge=Sr));0<Nn.data.length&&(Br/=Nn.data.length-cn),(xe===void 0||ln<=xe)&&(gn===void 0||gn<Br)&&1.99<Br&&(xe=ln,We=Ps,gn=Br)}return{successful:!!(T.delimiter=We),bestDelimiter:We}})(L,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=G.bestDelimiter:(D=!0,T.delimiter=c.DefaultDelimiter),J.meta.delimiter=T.delimiter),E(T));return T.preview&&T.header&&G.preview++,N=L,I=new y(G),J=I.parse(N,R,$),Z(),ne?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return ne},this.pause=function(){ne=!0,I.abort(),N=O(T.chunk)?"":N.substring(I.getCharIndex())},this.resume=function(){U.streamer._halted?(ne=!1,U.streamer.parseChunk(N,!0)):setTimeout(U.resume,3)},this.aborted=function(){return re},this.abort=function(){re=!0,I.abort(),J.meta.aborted=!0,O(T.complete)&&T.complete(J),N=""},this.guessLineEndings=function(B,G){B=B.substring(0,1048576);var G=new RegExp(b(G)+"([^]*?)"+b(G),"gm"),$=(B=B.replace(G,"")).split("\r"),G=B.split(`
`),B=1<G.length&&G[0].length<$[0].length;if($.length===1||B)return`
`;for(var ae=0,se=0;se<$.length;se++)$[se][0]===`
`&&ae++;return ae>=$.length/2?`\r
`:"\r"}}function b(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(T){var N=(T=T||{}).delimiter,I=T.newline,D=T.comments,M=T.step,F=T.preview,K=T.fastMode,Q=null,Y=!1,U=T.quoteChar==null?'"':T.quoteChar,z=U;if(T.escapeChar!==void 0&&(z=T.escapeChar),(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=","),D===N)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<c.BAD_DELIMITERS.indexOf(D))&&(D=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var W=0,ne=!1;this.parse=function(re,X,J){if(typeof re!="string")throw new Error("Input must be a string");var ue=re.length,Z=N.length,le=I.length,ge=D.length,L=O(M),R=[],$=[],G=[],B=W=0;if(!re)return ln();if(K||K!==!1&&re.indexOf(U)===-1){for(var ae=re.split(I),se=0;se<ae.length;se++){if(G=ae[se],W+=G.length,se!==ae.length-1)W+=I.length;else if(J)return ln();if(!D||G.substring(0,ge)!==D){if(L){if(R=[],gn(G.split(N)),Br(),ne)return ln()}else gn(G.split(N));if(F&&F<=se)return R=R.slice(0,F),ln(!0)}}return ln()}for(var fe=re.indexOf(N,W),ve=re.indexOf(I,W),We=new RegExp(b(z)+b(U),"g"),xe=re.indexOf(U,W);;)if(re[W]===U)for(xe=W,W++;;){if((xe=re.indexOf(U,xe+1))===-1)return J||$.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:W}),Sr();if(xe===ue-1)return Sr(re.substring(W,xe).replace(We,U));if(U===z&&re[xe+1]===z)xe++;else if(U===z||xe===0||re[xe-1]!==z){fe!==-1&&fe<xe+1&&(fe=re.indexOf(N,xe+1));var Ge=Nt((ve=ve!==-1&&ve<xe+1?re.indexOf(I,xe+1):ve)===-1?fe:Math.min(fe,ve));if(re.substr(xe+1+Ge,Z)===N){G.push(re.substring(W,xe).replace(We,U)),re[W=xe+1+Ge+Z]!==U&&(xe=re.indexOf(U,W)),fe=re.indexOf(N,W),ve=re.indexOf(I,W);break}if(Ge=Nt(ve),re.substring(xe+1+Ge,xe+1+Ge+le)===I){if(G.push(re.substring(W,xe).replace(We,U)),Ps(xe+1+Ge+le),fe=re.indexOf(N,W),xe=re.indexOf(U,W),L&&(Br(),ne))return ln();if(F&&R.length>=F)return ln(!0);break}$.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:W}),xe++}}else if(D&&G.length===0&&re.substring(W,W+ge)===D){if(ve===-1)return ln();W=ve+le,ve=re.indexOf(I,W),fe=re.indexOf(N,W)}else if(fe!==-1&&(fe<ve||ve===-1))G.push(re.substring(W,fe)),W=fe+Z,fe=re.indexOf(N,W);else{if(ve===-1)break;if(G.push(re.substring(W,ve)),Ps(ve+le),L&&(Br(),ne))return ln();if(F&&R.length>=F)return ln(!0)}return Sr();function gn(cn){R.push(cn),B=W}function Nt(cn){var Nn=0;return Nn=cn!==-1&&(cn=re.substring(xe+1,cn))&&cn.trim()===""?cn.length:Nn}function Sr(cn){return J||(cn===void 0&&(cn=re.substring(W)),G.push(cn),W=ue,gn(G),L&&Br()),ln()}function Ps(cn){W=cn,gn(G),G=[],ve=re.indexOf(I,W)}function ln(cn){if(T.header&&!X&&R.length&&!Y){var Nn=R[0],Ts=Object.create(null),Nm=new Set(Nn);let rb=!1;for(let Nl=0;Nl<Nn.length;Nl++){let oi=Nn[Nl];if(Ts[oi=O(T.transformHeader)?T.transformHeader(oi,Nl):oi]){let fu,pu=Ts[oi];for(;fu=oi+"_"+pu,pu++,Nm.has(fu););Nm.add(fu),Nn[Nl]=fu,Ts[oi]++,rb=!0,(Q=Q===null?{}:Q)[fu]=oi}else Ts[oi]=1,Nn[Nl]=oi;Nm.add(oi)}rb&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:R,errors:$,meta:{delimiter:N,linebreak:I,aborted:ne,truncated:!!cn,cursor:B+(X||0),renamedHeaders:Q}}}function Br(){M(ln()),R=[],$=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return W}}function x(T){var N=T.data,I=o[N.workerId],D=!1;if(N.error)I.userError(N.error,N.file);else if(N.results&&N.results.data){var M={abort:function(){D=!0,w(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(O(I.userStep)){for(var F=0;F<N.results.data.length&&(I.userStep({data:N.results.data[F],errors:N.results.errors,meta:N.results.meta},M),!D);F++);delete N.results}else O(I.userChunk)&&(I.userChunk(N.results,M,N.file),delete N.results)}N.finished&&!D&&w(N.workerId,N.results)}function w(T,N){var I=o[T];O(I.userComplete)&&I.userComplete(N),I.terminate(),delete o[T]}function _(){throw new Error("Not implemented.")}function E(T){if(typeof T!="object"||T===null)return T;var N,I=Array.isArray(T)?[]:{};for(N in T)I[N]=E(T[N]);return I}function k(T,N){return function(){T.apply(N,arguments)}}function O(T){return typeof T=="function"}return c.parse=function(T,N){var I=(N=N||{}).dynamicTyping||!1;if(O(I)&&(N.dynamicTypingFunction=I,I={}),N.dynamicTyping=I,N.transform=!!O(N.transform)&&N.transform,!N.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof T=="string"?(T=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(T),I=new(N.download?h:p)(N)):T.readable===!0&&O(T.read)&&O(T.on)?I=new g(N):(r.File&&T instanceof File||T instanceof Object)&&(I=new f(N)),I.stream(T);(I=(()=>{var D;return!!c.WORKERS_SUPPORTED&&(D=(()=>{var M=r.URL||r.webkitURL||null,F=n.toString();return c.BLOB_URL||(c.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))})(),(D=new r.Worker(D)).onmessage=x,D.id=l++,o[D.id]=D)})()).userStep=N.step,I.userChunk=N.chunk,I.userComplete=N.complete,I.userError=N.error,N.step=O(N.step),N.chunk=O(N.chunk),N.complete=O(N.complete),N.error=O(N.error),delete N.worker,I.postMessage({input:T,config:N,workerId:I.id})},c.unparse=function(T,N){var I=!1,D=!0,M=",",F=`\r
`,K='"',Q=K+K,Y=!1,U=null,z=!1,W=((()=>{if(typeof N=="object"){if(typeof N.delimiter!="string"||c.BAD_DELIMITERS.filter(function(X){return N.delimiter.indexOf(X)!==-1}).length||(M=N.delimiter),typeof N.quotes!="boolean"&&typeof N.quotes!="function"&&!Array.isArray(N.quotes)||(I=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(Y=N.skipEmptyLines),typeof N.newline=="string"&&(F=N.newline),typeof N.quoteChar=="string"&&(K=N.quoteChar),typeof N.header=="boolean"&&(D=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");U=N.columns}N.escapeChar!==void 0&&(Q=N.escapeChar+K),N.escapeFormulae instanceof RegExp?z=N.escapeFormulae:typeof N.escapeFormulae=="boolean"&&N.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(K),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ne(null,T,Y);if(typeof T[0]=="object")return ne(U||Object.keys(T[0]),T,Y)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||U),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ne(T.fields||[],T.data||[],Y);throw new Error("Unable to serialize unrecognized input");function ne(X,J,ue){var Z="",le=(typeof X=="string"&&(X=JSON.parse(X)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(X)&&0<X.length),ge=!Array.isArray(J[0]);if(le&&D){for(var L=0;L<X.length;L++)0<L&&(Z+=M),Z+=re(X[L],L);0<J.length&&(Z+=F)}for(var R=0;R<J.length;R++){var $=(le?X:J[R]).length,G=!1,B=le?Object.keys(J[R]).length===0:J[R].length===0;if(ue&&!le&&(G=ue==="greedy"?J[R].join("").trim()==="":J[R].length===1&&J[R][0].length===0),ue==="greedy"&&le){for(var ae=[],se=0;se<$;se++){var fe=ge?X[se]:se;ae.push(J[R][fe])}G=ae.join("").trim()===""}if(!G){for(var ve=0;ve<$;ve++){0<ve&&!B&&(Z+=M);var We=le&&ge?X[ve]:ve;Z+=re(J[R][We],ve)}R<J.length-1&&(!ue||0<$&&!B)&&(Z+=F)}}return Z}function re(X,J){var ue,Z;return X==null?"":X.constructor===Date?JSON.stringify(X).slice(1,25):(Z=!1,z&&typeof X=="string"&&z.test(X)&&(X="'"+X,Z=!0),ue=X.toString().replace(W,Q),(Z=Z||I===!0||typeof I=="function"&&I(X,J)||Array.isArray(I)&&I[J]||((le,ge)=>{for(var L=0;L<ge.length;L++)if(-1<le.indexOf(ge[L]))return!0;return!1})(ue,c.BAD_DELIMITERS)||-1<ue.indexOf(M)||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ")?K+ue+K:ue)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=v,c.NetworkStreamer=h,c.FileStreamer=f,c.StringStreamer=p,c.ReadableStreamStreamer=g,r.jQuery&&((i=r.jQuery).fn.parse=function(T){var N=T.config||{},I=[];return this.each(function(F){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)I.push({file:this.files[K],inputElem:this,instanceConfig:i.extend({},N)})}),D(),this;function D(){if(I.length===0)O(T.complete)&&T.complete();else{var F,K,Q,Y,U=I[0];if(O(T.before)){var z=T.before(U.file,U.inputElem);if(typeof z=="object"){if(z.action==="abort")return F="AbortError",K=U.file,Q=U.inputElem,Y=z.reason,void(O(T.error)&&T.error({name:F},K,Q,Y));if(z.action==="skip")return void M();typeof z.config=="object"&&(U.instanceConfig=i.extend(U.instanceConfig,z.config))}else if(z==="skip")return void M()}var W=U.instanceConfig.complete;U.instanceConfig.complete=function(ne){O(W)&&W(ne,U.file,U.inputElem),M()},c.parse(U.file,U.instanceConfig)}}function M(){I.splice(0,1),D()}}),a&&(r.onmessage=function(T){T=T.data,c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0}):(r.File&&T.input instanceof File||T.input instanceof Object)&&(T=c.parse(T.input,T.config))&&r.postMessage({workerId:c.WORKER_ID,results:T,finished:!0})}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,c})})(EB);var iY=EB.exports;const sY=Xa(iY),Pr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),W_=[.001,0,0,.001,0,0],uE=1.35,Ti={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},fv="pdfjs_internal_editor_",Te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ze={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},_B={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},V_={TRIANGLES:1,LATTICE:2},Vn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},nn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Nh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M0={ERRORS:0,WARNINGS:1,INFOS:5},Jp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Um={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},CB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let wS=M0.WARNINGS;function aY(t){Number.isInteger(t)&&(wS=t)}function oY(){return wS}function xS(t){wS>=M0.INFOS&&console.info(`Info: ${t}`)}function Ne(t){wS>=M0.WARNINGS&&console.warn(`Warning: ${t}`)}function mt(t){throw new Error(t)}function He(t,e){t||mt(e)}function lY(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bT(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=fY(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return lY(r)?r:null}function wT(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&bT(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ie(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const wh=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class LI extends wh{constructor(e,n){super(e,"PasswordException"),this.code=n}}class dE extends wh{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Mx extends wh{constructor(e){super(e,"InvalidPDFException")}}class pv extends wh{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class cY extends wh{constructor(e){super(e,"FormatError")}}class pl extends wh{constructor(e){super(e,"AbortException")}}function kB(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&mt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function R0(t){typeof t!="string"&&mt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function uY(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function dY(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function hY(){try{return new Function(""),!0}catch{return!1}}class zn{static get isLittleEndian(){return Ie(this,"isLittleEndian",dY())}static get isEvalSupported(){return Ie(this,"isEvalSupported",hY())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ie(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ie(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Ie(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Ie(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const hE=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var il,vw,G_;class he{static makeHexColor(e,n,r){return`#${hE[e]}${hE[n]}${hE[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let d=0;d<6;d+=2){const h=e[r+d],f=e[r+d+1];e[r+d]=h*i+f*a+l,e[r+d+1]=h*s+f*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],d=e[0],h=e[1],f=e[2],p=e[3];let g=i*d+l,v=g,b=i*f+l,y=b,x=o*h+c,w=x,_=o*p+c,E=_;if(s!==0||a!==0){const k=s*d,O=s*f,T=a*h,N=a*p;g+=T,y+=T,b+=N,v+=N,x+=k,E+=k,_+=O,w+=O}r[0]=Math.min(r[0],g,b,v,y),r[1]=Math.min(r[1],x,_,w,E),r[2]=Math.max(r[2],g,b,v,y),r[3]=Math.max(r[3],x,_,w,E)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,d=(o+c)/2,h=Math.sqrt(d**2-(o*c-l**2));n[0]=Math.sqrt(d+h||1),n[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),P(this,il,G_).call(this,e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),P(this,il,G_).call(this,e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}il=new WeakSet,vw=function(e,n,r,i,s,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,f=c*c,p=f*c,g=h*(h*(h*e+3*c*n)+3*f*r)+p*i,v=h*(h*(h*s+3*c*a)+3*f*o)+p*l;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],v)},G_=function(e,n,r,i,s,a,o,l,c,d,h,f){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&P(this,il,vw).call(this,e,n,r,i,s,a,o,l,-h/d,f);return}const p=d**2-4*h*c;if(p<0)return;const g=Math.sqrt(p),v=2*c;P(this,il,vw).call(this,e,n,r,i,s,a,o,l,(-d+g)/v,f),P(this,il,vw).call(this,e,n,r,i,s,a,o,l,(-d-g)/v,f)},C(he,il);function fY(t){return decodeURIComponent(escape(t))}let fE=null,FI=null;function PB(t){return fE||(fE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,FI=new Map([["","t"]])),t.replaceAll(fE,(e,n,r)=>n?n.normalize("NFKC"):FI.get(r))}function xT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),kB(t)}const Xh="pdfjs_internal_id_";function pY(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function pr(t,e,n){return Math.min(Math.max(t,e),n)}function TB(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(kB(t))}function mY(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):R0(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class mv{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(mv.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class ST{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var h,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&mv.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[p,g,v]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const w=document.createTextNode(b.value);c.push(w),v.append(w);continue}const x=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(v.append(x),b.attributes&&this.setAttributes({html:x,element:b,storage:n,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,x]);else if(b.value){const w=document.createTextNode(b.value);o&&mv.shouldBuildText(y)&&c.push(w),x.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Za="http://www.w3.org/2000/svg",Eu=class Eu{};te(Eu,"CSS",96),te(Eu,"PDF",72),te(Eu,"PDF_TO_CSS_UNITS",Eu.CSS/Eu.PDF);let ml=Eu;async function ym(t,e="text"){if(ag(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class j0{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,v,b,y;d===0?(g=Math.abs(c-e[1])*r+s,v=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,y=(e[2]-e[0])*r):(g=Math.abs(l-e[0])*r+s,v=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,y=(e[3]-e[1])*r),this.transform=[d*r,h*r,f*r,p*r,g-d*r*l-f*r*c,v-h*r*l-p*r*c],this.width=b,this.height=y}get rawDims(){const e=this.viewBox;return Ie(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new j0({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return he.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];he.applyTransform(n,this.transform);const r=[e[2],e[3]];return he.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return he.applyInverseTransform(r,this.transform),r}}class SS extends wh{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function L0(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function AS(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function NB(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function OB(t,e="document.pdf"){if(typeof t!="string")return e;if(L0(t))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class BI{constructor(){te(this,"started",Object.create(null));te(this,"times",[])}time(e){e in this.started&&Ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function ag(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function zi(t){t.preventDefault()}function Ht(t){t.preventDefault(),t.stopPropagation()}function gY(t){console.log("Deprecated API usage: "+t)}var Ov;class gv{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;u(this,Ov)||A(this,Ov,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=u(this,Ov).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}}Ov=new WeakMap,C(gv,Ov);function IB(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new j0({viewBox:s,userUnit:1,scale:e,rotation:n})}function bm(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ne(`Not a valid color format: "${t}"`),[0,0,0])}function vY(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,bm(r))}e.remove()}function Ut(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function ha(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function Jc(t,e,n=!1,r=!0){if(e instanceof j0){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=zn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&t.setAttribute("data-main-rotation",e.rotation)}class ia{constructor(){const{pixelRatio:e}=ia;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=ia.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const Rx=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class yY{static get isDarkMode(){var e;return Ie(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class DB{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Ie(this,"commentForegroundColor",bm(r))}}function MB(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function $I(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function K_(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function UI(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function zI(t,e,n){K_(t,n),n.map(UI);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];K_(e,n),n.map(UI);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const HI=new Map;function RB(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=HI.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);$I(t,a);const o=i.subarray(6,9);$I(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),zI(a,o,s)<c){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const f=.005;for(;h-d>f;){const p=a[2]=(d+h)/2;l===zI(a,o,s)<c?d=p:h=p}a[2]=l?h:d}return K_(a,s),r=he.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),HI.set(n,r),r}function AT({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else ST.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function jB(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Um.moveTo:e.moveTo(t[n++],t[n++]);break;case Um.lineTo:e.lineTo(t[n++],t[n++]);break;case Um.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Um.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Um.closePath:e.closePath();break;default:Ne(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}var Vl,Gl,ts,ns,Iv,Kl,vf,yf,Dv,D1,LB,nr,FB,BB,Oh,og;const ro=class ro{constructor(e){C(this,nr);C(this,Vl,null);C(this,Gl,null);C(this,ts);C(this,ns,null);C(this,Iv,null);C(this,Kl,null);C(this,vf,null);C(this,yf,null);A(this,ts,e),u(ro,Dv)||A(ro,Dv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=A(this,Vl,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=u(this,ts)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",zi,{signal:n}),e.addEventListener("pointerdown",P(ro,D1,LB),{signal:n}));const r=A(this,ns,document.createElement("div"));r.className="buttons",e.append(r);const i=u(this,ts).toolbarPosition;if(i){const{style:s}=e,a=u(this,ts)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return u(this,Vl)}hide(){var e;u(this,Vl).classList.add("hidden"),(e=u(this,Gl))==null||e.hideDropdown()}show(){var e,n;u(this,Vl).classList.remove("hidden"),(e=u(this,Iv))==null||e.shown(),(n=u(this,Kl))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=u(this,ts),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",u(ro,Dv)[e]),P(this,nr,Oh).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),u(this,ns).append(r)}async addAltText(e){const n=await e.render();P(this,nr,Oh).call(this,n),u(this,ns).append(n,u(this,nr,og)),A(this,Iv,e)}addComment(e,n=null){if(u(this,Kl))return;const r=e.renderForToolbar();if(!r)return;P(this,nr,Oh).call(this,r);const i=A(this,vf,u(this,nr,og));n?(u(this,ns).insertBefore(r,n),u(this,ns).insertBefore(i,n)):u(this,ns).append(r,i),A(this,Kl,e),e.toolbar=this}addColorPicker(e){if(u(this,Gl))return;A(this,Gl,e);const n=e.renderButton();P(this,nr,Oh).call(this,n),u(this,ns).append(n,u(this,nr,og))}async addEditSignatureButton(e){const n=A(this,yf,await e.renderEditButton(u(this,ts)));P(this,nr,Oh).call(this,n),u(this,ns).append(n,u(this,nr,og))}removeButton(e){var n,r;switch(e){case"comment":(n=u(this,Kl))==null||n.removeToolbarCommentButton(),A(this,Kl,null),(r=u(this,vf))==null||r.remove(),A(this,vf,null);break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=u(this,ns).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){u(this,yf)&&(u(this,yf).title=e)}remove(){var e;u(this,Vl).remove(),(e=u(this,Gl))==null||e.destroy(),A(this,Gl,null)}};Vl=new WeakMap,Gl=new WeakMap,ts=new WeakMap,ns=new WeakMap,Iv=new WeakMap,Kl=new WeakMap,vf=new WeakMap,yf=new WeakMap,Dv=new WeakMap,D1=new WeakSet,LB=function(e){e.stopPropagation()},nr=new WeakSet,FB=function(e){u(this,ts)._focusEventsAllowed=!1,Ht(e)},BB=function(e){u(this,ts)._focusEventsAllowed=!0,Ht(e)},Oh=function(e){const n=u(this,ts)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",P(this,nr,FB).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",P(this,nr,BB).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",zi,{signal:n}),!0)},og=function(){const e=document.createElement("div");return e.className="divider",e},C(ro,D1),C(ro,Dv,null);let q_=ro;var Mv,Mu,ao,xl,$B,UB,Y_;class bY{constructor(e){C(this,xl);C(this,Mv,null);C(this,Mu,null);C(this,ao);A(this,ao,e)}show(e,n,r){const[i,s]=P(this,xl,UB).call(this,n,r),{style:a}=u(this,Mu)||A(this,Mu,P(this,xl,$B).call(this));e.append(u(this,Mu)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Mu).remove()}}Mv=new WeakMap,Mu=new WeakMap,ao=new WeakMap,xl=new WeakSet,$B=function(){const e=A(this,Mu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=u(this,ao)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",zi,{signal:n});const r=A(this,Mv,document.createElement("div"));return r.className="buttons",e.append(r),u(this,ao).hasCommentManager()&&P(this,xl,Y_).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{u(this,ao).commentSelection("floating_button")}),P(this,xl,Y_).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{u(this,ao).highlightSelection("floating_button")}),e},UB=function(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},Y_=function(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=u(this,ao)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",zi,{signal:o}),s.addEventListener("click",i,{signal:o})),u(this,Mv).append(s)};function zB(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var Ru,ju,bf,Lu;const it=class it{static initializeAndAddPointerId(e){(u(it,ju)||A(it,ju,new Set)).add(e)}static setPointer(e,n){u(it,Ru)||A(it,Ru,n),u(it,Lu)??A(it,Lu,e)}static setTimeStamp(e){A(it,bf,e)}static isSamePointerId(e){return u(it,Ru)===e}static isSamePointerIdOrRemove(e){var n;return u(it,Ru)===e?!0:((n=u(it,ju))==null||n.delete(e),!1)}static isSamePointerType(e){return u(it,Lu)===e}static isInitializedAndDifferentPointerType(e){return u(it,Lu)!==null&&!it.isSamePointerType(e)}static isSameTimeStamp(e){return u(it,bf)===e}static isUsingMultiplePointers(){var e;return((e=u(it,ju))==null?void 0:e.size)>=1}static clearPointerType(){A(it,Lu,null)}static clearPointerIds(){A(it,Ru,NaN),A(it,ju,null)}static clearTimeStamp(){A(it,bf,NaN)}};Ru=new WeakMap,ju=new WeakMap,bf=new WeakMap,Lu=new WeakMap,C(it,Ru,NaN),C(it,ju,null),C(it,bf,NaN),C(it,Lu,null);let lr=it;var M1;class wY{constructor(){C(this,M1,0)}get id(){return`${fv}${vn(this,M1)._++}`}}M1=new WeakMap;var wf,Rv,cr,xf,yw;const TN=class TN{constructor(){C(this,xf);C(this,wf,xT());C(this,Rv,0);C(this,cr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ie(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return P(this,xf,yw).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return P(this,xf,yw).call(this,e,e)}async getFromBlob(e,n){const r=await n;return P(this,xf,yw).call(this,e,r)}async getFromId(e){u(this,cr)||A(this,cr,new Map);const n=u(this,cr).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){u(this,cr)||A(this,cr,new Map);let r=u(this,cr).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${u(this,wf)}_${vn(this,Rv)._++}`,refCounter:1,isSvg:!1},u(this,cr).set(e,r),u(this,cr).set(r.id,r),r}getSvgUrl(e){const n=u(this,cr).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;u(this,cr)||A(this,cr,new Map);const n=u(this,cr).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,wf)}_`)}};wf=new WeakMap,Rv=new WeakMap,cr=new WeakMap,xf=new WeakSet,yw=async function(e,n){u(this,cr)||A(this,cr,new Map);let r=u(this,cr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${u(this,wf)}_${vn(this,Rv)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await ym(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=TN._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Ne(i),r=null}return u(this,cr).set(e,r),r&&u(this,cr).set(r.id,r),r};let X_=TN;var sn,ql,jv,$t;class xY{constructor(e=128){C(this,sn,[]);C(this,ql,!1);C(this,jv);C(this,$t,-1);A(this,jv,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),u(this,ql))return;const l={cmd:e,undo:n,post:r,type:s};if(u(this,$t)===-1){u(this,sn).length>0&&(u(this,sn).length=0),A(this,$t,0),u(this,sn).push(l);return}if(a&&u(this,sn)[u(this,$t)].type===s){o&&(l.undo=u(this,sn)[u(this,$t)].undo),u(this,sn)[u(this,$t)]=l;return}const c=u(this,$t)+1;c===u(this,jv)?u(this,sn).splice(0,1):(A(this,$t,c),c<u(this,sn).length&&u(this,sn).splice(c)),u(this,sn).push(l)}undo(){if(u(this,$t)===-1)return;A(this,ql,!0);const{undo:e,post:n}=u(this,sn)[u(this,$t)];e(),n==null||n(),A(this,ql,!1),A(this,$t,u(this,$t)-1)}redo(){if(u(this,$t)<u(this,sn).length-1){A(this,$t,u(this,$t)+1),A(this,ql,!0);const{cmd:e,post:n}=u(this,sn)[u(this,$t)];e(),n==null||n(),A(this,ql,!1)}}hasSomethingToUndo(){return u(this,$t)!==-1}hasSomethingToRedo(){return u(this,$t)<u(this,sn).length-1}cleanType(e){if(u(this,$t)!==-1){for(let n=u(this,$t);n>=0;n--)if(u(this,sn)[n].type!==e){u(this,sn).splice(n+1,u(this,$t)-n),A(this,$t,n);return}u(this,sn).length=0,A(this,$t,-1)}}destroy(){A(this,sn,null)}}sn=new WeakMap,ql=new WeakMap,jv=new WeakMap,$t=new WeakMap;var R1,HB;class F0{constructor(e){C(this,R1);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=zn.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(P(this,R1,HB).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||Ht(n))}}R1=new WeakSet,HB=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const j1=class j1{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return vY(e),Ie(this,"_colors",e)}convert(e){const n=bm(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return j1._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?he.makeHexColor(...n):e}};te(j1,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Q_=j1;var Sf,di,Af,Yt,wn,Ef,rs,_f,is,ur,Yl,Xl,Cf,Ql,ga,ss,Fu,Lv,Fv,kf,Bv,va,Jl,Pf,Zl,ya,L1,ec,Tf,$v,tc,Bu,Nf,nc,Uv,dn,et,oo,rc,ic,zv,Of,Hv,sc,ba,lo,Wv,Vv,as,oe,bw,J_,WB,VB,lg,GB,KB,qB,Z_,YB,XB,QB,JB,Ar,eo,ZB,e$,eC,t$,cg,tC;const Zh=class Zh{constructor(e,n,r,i,s,a,o,l,c,d,h,f,p,g,v,b){C(this,oe);C(this,Sf,new AbortController);C(this,di,null);C(this,Af,null);C(this,Yt,new Map);C(this,wn,new Map);C(this,Ef,null);C(this,rs,null);C(this,_f,null);C(this,is,new xY);C(this,ur,null);C(this,Yl,null);C(this,Xl,null);C(this,Cf,0);C(this,Ql,new Set);C(this,ga,null);C(this,ss,null);C(this,Fu,new Set);te(this,"_editorUndoBar",null);C(this,Lv,!1);C(this,Fv,!1);C(this,kf,!1);C(this,Bv,null);C(this,va,null);C(this,Jl,null);C(this,Pf,null);C(this,Zl,!1);C(this,ya,null);C(this,L1,new wY);C(this,ec,!1);C(this,Tf,!1);C(this,$v,!1);C(this,tc,null);C(this,Bu,null);C(this,Nf,null);C(this,nc,null);C(this,Uv,null);C(this,dn,Te.NONE);C(this,et,new Set);C(this,oo,null);C(this,rc,null);C(this,ic,null);C(this,zv,null);C(this,Of,null);C(this,Hv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,sc,[0,0]);C(this,ba,null);C(this,lo,null);C(this,Wv,null);C(this,Vv,null);C(this,as,null);const y=this._signal=u(this,Sf).signal;A(this,lo,e),A(this,Wv,n),A(this,Vv,r),A(this,Ef,i),A(this,ur,s),A(this,rc,a),A(this,Of,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:y}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),o._on("setpreference",this.onSetPreference.bind(this),{signal:y}),o._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:y}),window.addEventListener("pointerdown",()=>{A(this,Tf,!0)},{capture:!0,signal:y}),window.addEventListener("pointerup",()=>{A(this,Tf,!1)},{capture:!0,signal:y}),P(this,oe,GB).call(this),P(this,oe,JB).call(this),P(this,oe,Z_).call(this),A(this,rs,l.annotationStorage),A(this,Bv,l.filterFactory),A(this,ic,c),A(this,Pf,d||null),A(this,Lv,h),A(this,Fv,f),A(this,kf,p),A(this,Uv,g||null),this.viewParameters={realScale:ml.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Zh.prototype,n=a=>u(a,lo).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new F0([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,lo).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,lo).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r,i,s,a,o,l,c;(e=u(this,as))==null||e.resolve(),A(this,as,null),(n=u(this,Sf))==null||n.abort(),A(this,Sf,null),this._signal=null;for(const d of u(this,wn).values())d.destroy();u(this,wn).clear(),u(this,Yt).clear(),u(this,Fu).clear(),(r=u(this,nc))==null||r.clear(),A(this,di,null),u(this,et).clear(),u(this,is).destroy(),(i=u(this,Ef))==null||i.destroy(),(s=u(this,ur))==null||s.destroy(),(a=u(this,rc))==null||a.destroy(),(o=u(this,ya))==null||o.hide(),A(this,ya,null),(l=u(this,Nf))==null||l.destroy(),A(this,Nf,null),A(this,Af,null),u(this,va)&&(clearTimeout(u(this,va)),A(this,va,null)),u(this,ba)&&(clearTimeout(u(this,ba)),A(this,ba,null)),(c=this._editorUndoBar)==null||c.destroy(),A(this,Of,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Uv)}get useNewAltTextFlow(){return u(this,Fv)}get useNewAltTextWhenAddingImage(){return u(this,kf)}get hcmFilter(){return Ie(this,"hcmFilter",u(this,ic)?u(this,Bv).addHCMFilter(u(this,ic).foreground,u(this,ic).background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(u(this,lo)).direction)}get _highlightColors(){return Ie(this,"_highlightColors",u(this,Pf)?new Map(u(this,Pf).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ie(this,"highlightColors",null);const n=new Map,r=!!u(this,ic);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return Ie(this,"highlightColors",n)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,Xl,e)}setMainHighlightColorPicker(e){A(this,Nf,e)}editAltText(e,n=!1){var r;(r=u(this,Ef))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!u(this,ur)}editComment(e,n,r,i){var s;(s=u(this,ur))==null||s.showDialog(this,e,n,r,i)}selectComment(e,n){const r=u(this,wn).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=u(this,ur))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=u(this,ur))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=u(this,ur))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=u(this,ur))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=u(this,ur))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=u(this,ur))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(u(this,wn).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=u(this,rc))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return u(this,rc)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,kf,n);break}}onPageChanging({pageNumber:e}){A(this,Cf,e-1)}focusMainContainer(){u(this,lo).focus()}findParent(e,n){for(const r of u(this,wn).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){u(this,Wv).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Fu).add(e)}removeShouldRescale(e){u(this,Fu).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*ml.PDF_TO_CSS_UNITS;for(const r of u(this,Fu))r.onScaleChanging();(n=u(this,Xl))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=P(this,oe,bw).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const f=P(this,oe,J_).call(this,d),p=u(this,dn)===Te.NONE,g=()=>{const v=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(v==null||v.editComment())};if(p){this.switchToMode(Te.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!u(this,rs))return null;const n=`${fv}${e}`,r=u(this,rs).getRawValue(n);return r&&u(this,rs).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&u(this,rs)&&!u(this,rs).has(e.id)&&u(this,rs).setValue(e.id,e)}a11yAlert(e,n=null){const r=u(this,Vv);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,u(this,Zl)&&(A(this,Zl,!1),P(this,oe,lg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of u(this,et))if(n.div.contains(e)){A(this,Bu,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!u(this,Bu))return;const[e,n]=u(this,Bu);A(this,Bu,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){P(this,oe,Z_).call(this),this.setEditingState(!0)}removeEditListeners(){P(this,oe,YB).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of u(this,ss))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of u(this,ss))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=u(this,di))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of u(this,et)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of u(this,ss))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ne(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)P(this,oe,eC).call(this,l);P(this,oe,tC).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ne(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,dn)!==Te.NONE&&!this.isEditorHandlingKeyboard&&Zh._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Zl)&&(A(this,Zl,!1),P(this,oe,lg).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(P(this,oe,KB).call(this),P(this,oe,XB).call(this),P(this,oe,Ar).call(this,{isEditing:u(this,dn)!==Te.NONE,isEmpty:P(this,oe,cg).call(this),hasSomethingToUndo:u(this,is).hasSomethingToUndo(),hasSomethingToRedo:u(this,is).hasSomethingToRedo(),hasSelectedEditor:!1})):(P(this,oe,qB).call(this),P(this,oe,QB).call(this),P(this,oe,Ar).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,ss)){A(this,ss,e);for(const n of u(this,ss))P(this,oe,eo).call(this,n.defaultPropertiesToUpdate)}}getId(){return u(this,L1).id}get currentLayer(){return u(this,wn).get(u(this,Cf))}getLayer(e){return u(this,wn).get(e)}get currentPageIndex(){return u(this,Cf)}addLayer(e){u(this,wn).set(e.pageIndex,e),u(this,ec)?e.enable():e.disable()}removeLayer(e){u(this,wn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1){var a,o,l,c,d,h;if(u(this,dn)!==e&&!(u(this,as)&&(await u(this,as).promise,!u(this,as)))){if(A(this,as,Promise.withResolvers()),(a=u(this,Xl))==null||a.commitOrRemove(),u(this,dn)===Te.POPUP&&((o=u(this,ur))==null||o.hideSidebar()),(l=u(this,ur))==null||l.destroyPopup(),A(this,dn,e),e===Te.NONE){this.setEditingState(!1),P(this,oe,e$).call(this);for(const f of u(this,Yt).values())f.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),u(this,as).resolve();return}for(const f of u(this,Yt).values())f.addStandaloneCommentButton();e===Te.SIGNATURE&&await((d=u(this,rc))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await P(this,oe,ZB).call(this),this.unselectAll();for(const f of u(this,wn).values())f.updateMode(e);if(e===Te.POPUP){u(this,Af)||A(this,Af,await u(this,Of).getAnnotationsByType(new Set(u(this,ss).map(g=>g._editorType))));const f=new Set,p=[];for(const g of u(this,Yt).values()){const{annotationElementId:v,hasComment:b,deleted:y}=g;v&&f.add(v),b&&!y&&p.push(g.getData())}for(const g of u(this,Af)){const{id:v,popupRef:b,contentsObj:y}=g;b&&(y!=null&&y.str)&&!f.has(v)&&!u(this,Ql).has(v)&&p.push(g)}(h=u(this,ur))==null||h.showSidebar(p)}if(!n){r&&this.addNewEditorFromKeyboard(),u(this,as).resolve();return}for(const f of u(this,Yt).values())f.uid===n?(this.setSelected(f),s?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();u(this,as).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==u(this,dn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(u(this,ss)){switch(e){case ze.CREATE:this.currentLayer.addNewEditor(n);return;case ze.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,zv)||A(this,zv,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of u(this,et))r.updateParams(e,n);else for(const r of u(this,ss))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const a of u(this,Yt).values())a.editorType===e&&a.show(n);(((s=u(this,zv))==null?void 0:s.get(ze.HIGHLIGHT_SHOW_ALL))??!0)!==n&&P(this,oe,eo).call(this,[[ze.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(u(this,$v)!==e){A(this,$v,e);for(const n of u(this,wn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of u(this,Yt).values())n.pageIndex===e&&(yield n)}getEditor(e){return u(this,Yt).get(e)}addEditor(e){u(this,Yt).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(u(this,va)&&clearTimeout(u(this,va)),A(this,va,setTimeout(()=>{this.focusMainContainer(),A(this,va,null)},0))),u(this,Yt).delete(e.id),e.annotationElementId&&((n=u(this,nc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!u(this,Ql).has(e.annotationElementId))&&((r=u(this,rs))==null||r.remove(e.id))}addDeletedAnnotationElement(e){u(this,Ql).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Ql).has(e)}removeDeletedAnnotationElement(e){u(this,Ql).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,di)!==e&&(A(this,di,e),e&&P(this,oe,eo).call(this,e.propertiesToUpdate))}updateUI(e){u(this,oe,t$)===e&&P(this,oe,eo).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){P(this,oe,eo).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(u(this,et).has(e)){u(this,et).delete(e),e.unselect(),P(this,oe,Ar).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,et).add(e),e.select(),P(this,oe,eo).call(this,e.propertiesToUpdate),P(this,oe,Ar).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.uid}),(n=u(this,Xl))==null||n.commitOrRemove();for(const r of u(this,et))r!==e&&r.unselect();u(this,et).clear(),u(this,et).add(e),e.select(),P(this,oe,eo).call(this,e.propertiesToUpdate),P(this,oe,Ar).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,et).has(e)}get firstSelectedEditor(){return u(this,et).values().next().value}unselect(e){e.unselect(),u(this,et).delete(e),P(this,oe,Ar).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,et).size!==0}get isEnterHandled(){return u(this,et).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;u(this,is).undo(),P(this,oe,Ar).call(this,{hasSomethingToUndo:u(this,is).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:P(this,oe,cg).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){u(this,is).redo(),P(this,oe,Ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,is).hasSomethingToRedo(),isEmpty:P(this,oe,cg).call(this)})}addCommands(e){u(this,is).add(e),P(this,oe,Ar).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:P(this,oe,cg).call(this)})}cleanUndoStack(e){u(this,is).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...u(this,et)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const a of n)P(this,oe,eC).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=u(this,di))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,di)||this.hasSelection}selectAll(){for(const e of u(this,et))e.commit();P(this,oe,tC).call(this,u(this,Yt).values())}unselectAll(){var e;if(!(u(this,di)&&(u(this,di).commitOrRemove(),u(this,dn)!==Te.NONE))&&!((e=u(this,Xl))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of u(this,et))n.unselect();u(this,et).clear(),P(this,oe,Ar).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;u(this,sc)[0]+=e,u(this,sc)[1]+=n;const[i,s]=u(this,sc),a=[...u(this,et)],o=1e3;u(this,ba)&&clearTimeout(u(this,ba)),A(this,ba,setTimeout(()=>{A(this,ba,null),u(this,sc)[0]=u(this,sc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,Yt).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)u(this,Yt).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,ga,new Map);for(const e of u(this,et))u(this,ga).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,ga))return!1;this.disableUserSelect(!1);const e=u(this,ga);A(this,ga,null);let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||(n=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!n)return!1;const r=(i,s,a,o)=>{if(u(this,Yt).has(i.id)){const l=u(this,wn).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(u(this,ga))for(const r of u(this,ga).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,et).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,di)===e}getActive(){return u(this,di)}getMode(){return u(this,dn)}isEditingMode(){return u(this,dn)!==Te.NONE}get imageManager(){return Ie(this,"imageManager",new X_)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,d=n.rangeCount;c<d;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,f)=>({x:(d-i)/a,y:1-(c+h-r)/s,width:f/a,height:h/s});break;case"180":o=(c,d,h,f)=>({x:1-(c+h-r)/s,y:1-(d+f-i)/a,width:h/s,height:f/a});break;case"270":o=(c,d,h,f)=>({x:1-(d+f-i)/a,y:(c-r)/s,width:f/a,height:h/s});break;default:o=(c,d,h,f)=>({x:(c-r)/s,y:(d-i)/a,width:h/s,height:f/a});break}const l=[];for(let c=0,d=n.rangeCount;c<d;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:p,width:g,height:v}of h.getClientRects())g===0||v===0||l.push(o(f,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(u(this,_f)||A(this,_f,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=u(this,_f))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=u(this,_f))==null?void 0:i.get(e.data.id);if(!n)return;const r=u(this,rs).getRawValue(n);r&&(u(this,dn)===Te.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var s;const i=(s=u(this,nc))==null?void 0:s.get(e);i&&(i.setCanvas(n,r),u(this,nc).delete(e))}addMissingCanvas(e,n){(u(this,nc)||A(this,nc,new Map)).set(e,n)}};Sf=new WeakMap,di=new WeakMap,Af=new WeakMap,Yt=new WeakMap,wn=new WeakMap,Ef=new WeakMap,rs=new WeakMap,_f=new WeakMap,is=new WeakMap,ur=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,Cf=new WeakMap,Ql=new WeakMap,ga=new WeakMap,ss=new WeakMap,Fu=new WeakMap,Lv=new WeakMap,Fv=new WeakMap,kf=new WeakMap,Bv=new WeakMap,va=new WeakMap,Jl=new WeakMap,Pf=new WeakMap,Zl=new WeakMap,ya=new WeakMap,L1=new WeakMap,ec=new WeakMap,Tf=new WeakMap,$v=new WeakMap,tc=new WeakMap,Bu=new WeakMap,Nf=new WeakMap,nc=new WeakMap,Uv=new WeakMap,dn=new WeakMap,et=new WeakMap,oo=new WeakMap,rc=new WeakMap,ic=new WeakMap,zv=new WeakMap,Of=new WeakMap,Hv=new WeakMap,sc=new WeakMap,ba=new WeakMap,lo=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,as=new WeakMap,oe=new WeakSet,bw=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},J_=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of u(this,wn).values())if(r.hasTextLayer(e))return r;return null},WB=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=P(this,oe,bw).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(u(this,ya)||A(this,ya,new bY(this)),u(this,ya).show(r,i,this.direction==="ltr"))},VB=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){u(this,oo)&&((s=u(this,ya))==null||s.hide(),A(this,oo,null),P(this,oe,Ar).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===u(this,oo))return;const i=P(this,oe,bw).call(this,e).closest(".textLayer");if(!i){u(this,oo)&&((a=u(this,ya))==null||a.hide(),A(this,oo,null),P(this,oe,Ar).call(this,{hasSelectedText:!1}));return}if((o=u(this,ya))==null||o.hide(),A(this,oo,n),P(this,oe,Ar).call(this,{hasSelectedText:!0}),!(u(this,dn)!==Te.HIGHLIGHT&&u(this,dn)!==Te.NONE)&&(u(this,dn)===Te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,Zl,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,dn)===Te.HIGHLIGHT?P(this,oe,J_).call(this,i):null;if(l==null||l.toggleDrawing(),u(this,Tf)){const c=new AbortController,d=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&P(this,oe,lg).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else l==null||l.toggleDrawing(!0),P(this,oe,lg).call(this,"main_toolbar")}},lg=function(e=""){u(this,dn)===Te.HIGHLIGHT?this.highlightSelection(e):u(this,Lv)&&P(this,oe,WB).call(this)},GB=function(){document.addEventListener("selectionchange",P(this,oe,VB).bind(this),{signal:this._signal})},KB=function(){if(u(this,Jl))return;A(this,Jl,new AbortController);const e=this.combinedSignal(u(this,Jl));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},qB=function(){var e;(e=u(this,Jl))==null||e.abort(),A(this,Jl,null)},Z_=function(){if(u(this,tc))return;A(this,tc,new AbortController);const e=this.combinedSignal(u(this,tc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},YB=function(){var e;(e=u(this,tc))==null||e.abort(),A(this,tc,null)},XB=function(){if(u(this,Yl))return;A(this,Yl,new AbortController);const e=this.combinedSignal(u(this,Yl));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},QB=function(){var e;(e=u(this,Yl))==null||e.abort(),A(this,Yl,null)},JB=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ar=function(e){Object.entries(e).some(([r,i])=>u(this,Hv)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Hv),e)}),u(this,dn)===Te.HIGHLIGHT&&e.hasSelectedEditor===!1&&P(this,oe,eo).call(this,[[ze.HIGHLIGHT_FREE,!0]]))},eo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ZB=async function(){if(!u(this,ec)){A(this,ec,!0);const e=[];for(const n of u(this,wn).values())e.push(n.enable());await Promise.all(e);for(const n of u(this,Yt).values())n.enable()}},e$=function(){if(this.unselectAll(),u(this,ec)){A(this,ec,!1);for(const e of u(this,wn).values())e.disable();for(const e of u(this,Yt).values())e.disable()}},eC=function(e){const n=u(this,wn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},t$=function(){let e=null;for(e of u(this,et));return e},cg=function(){if(u(this,Yt).size===0)return!0;if(u(this,Yt).size===1)for(const e of u(this,Yt).values())return e.isEmpty();return!1},tC=function(e){for(const n of u(this,et))n.unselect();u(this,et).clear();for(const n of e)n.isEmpty()||(u(this,et).add(n),n.select());P(this,oe,Ar).call(this,{hasSelectedEditor:this.hasSelection})},te(Zh,"TRANSLATE_SMALL",1),te(Zh,"TRANSLATE_BIG",10);let Zc=Zh;var On,wa,Ms,If,xa,hi,Df,Sa,Wr,co,$u,Aa,ac,Js,ug,ww;const Er=class Er{constructor(e){C(this,Js);C(this,On,null);C(this,wa,!1);C(this,Ms,null);C(this,If,null);C(this,xa,null);C(this,hi,null);C(this,Df,!1);C(this,Sa,null);C(this,Wr,null);C(this,co,null);C(this,$u,null);C(this,Aa,!1);A(this,Wr,e),A(this,Aa,e._uiManager.useNewAltTextFlow),u(Er,ac)||A(Er,ac,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Er._l10n??(Er._l10n=e)}async render(){const e=A(this,Ms,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=A(this,If,document.createElement("span"));e.append(n),u(this,Aa)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Er,ac).missing),n.setAttribute("data-l10n-id",u(Er,ac)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=u(this,Wr)._uiManager._signal;e.addEventListener("contextmenu",zi,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),u(this,Wr)._uiManager.editAltText(u(this,Wr)),u(this,Aa)&&u(this,Wr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,Js,ug)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(A(this,Df,!0),i(s))},{signal:r}),await P(this,Js,ww).call(this),e}finish(){u(this,Ms)&&(u(this,Ms).focus({focusVisible:u(this,Df)}),A(this,Df,!1))}isEmpty(){return u(this,Aa)?u(this,On)===null:!u(this,On)&&!u(this,wa)}hasData(){return u(this,Aa)?u(this,On)!==null||!!u(this,co):this.isEmpty()}get guessedText(){return u(this,co)}async setGuessedText(e){u(this,On)===null&&(A(this,co,e),A(this,$u,await Er._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),P(this,Js,ww).call(this))}toggleAltTextBadge(e=!1){var n;if(!u(this,Aa)||u(this,On)){(n=u(this,Sa))==null||n.remove(),A(this,Sa,null);return}if(!u(this,Sa)){const r=A(this,Sa,document.createElement("div"));r.className="noAltTextBadge",u(this,Wr).div.append(r)}u(this,Sa).classList.toggle("hidden",!e)}serialize(e){let n=u(this,On);return!e&&u(this,co)===n&&(n=u(this,$u)),{altText:n,decorative:u(this,wa),guessedText:u(this,co),textWithDisclaimer:u(this,$u)}}get data(){return{altText:u(this,On),decorative:u(this,wa)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(A(this,co,r),A(this,$u,i)),!(u(this,On)===e&&u(this,wa)===n)&&(s||(A(this,On,e),A(this,wa,n)),P(this,Js,ww).call(this))}toggle(e=!1){u(this,Ms)&&(!e&&u(this,hi)&&(clearTimeout(u(this,hi)),A(this,hi,null)),u(this,Ms).disabled=!e)}shown(){u(this,Wr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,Js,ug)}})}destroy(){var e,n;(e=u(this,Ms))==null||e.remove(),A(this,Ms,null),A(this,If,null),A(this,xa,null),(n=u(this,Sa))==null||n.remove(),A(this,Sa,null)}};On=new WeakMap,wa=new WeakMap,Ms=new WeakMap,If=new WeakMap,xa=new WeakMap,hi=new WeakMap,Df=new WeakMap,Sa=new WeakMap,Wr=new WeakMap,co=new WeakMap,$u=new WeakMap,Aa=new WeakMap,ac=new WeakMap,Js=new WeakSet,ug=function(){return u(this,On)&&"added"||u(this,On)===null&&this.guessedText&&"review"||"missing"},ww=async function(){var i,s,a;const e=u(this,Ms);if(!e)return;if(u(this,Aa)){if(e.classList.toggle("done",!!u(this,On)),e.setAttribute("data-l10n-id",u(Er,ac)[u(this,Js,ug)]),(i=u(this,If))==null||i.setAttribute("data-l10n-id",u(Er,ac)[`${u(this,Js,ug)}-label`]),!u(this,On)){(s=u(this,xa))==null||s.remove();return}}else{if(!u(this,On)&&!u(this,wa)){e.classList.remove("done"),(a=u(this,xa))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=u(this,xa);if(!n){A(this,xa,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${u(this,Wr).id}`;const o=100,l=u(this,Wr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,hi)),A(this,hi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,hi,setTimeout(()=>{A(this,hi,null),u(this,xa).classList.add("show"),u(this,Wr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;u(this,hi)&&(clearTimeout(u(this,hi)),A(this,hi,null)),(c=u(this,xa))==null||c.classList.remove("show")},{signal:l})}u(this,wa)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=u(this,On)),n.parentNode||e.append(n);const r=u(this,Wr).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},C(Er,ac,null),te(Er,"_l10n",null);let jx=Er;var Gn,os,Uu,wt,Gv,zu,Rs,Hu,Wu,Vu,Kv,nC;class Tb{constructor(e){C(this,Kv);C(this,Gn,null);C(this,os,null);C(this,Uu,!1);C(this,wt,null);C(this,Gv,null);C(this,zu,null);C(this,Rs,null);C(this,Hu,null);C(this,Wu,!1);C(this,Vu,null);A(this,wt,e)}renderForToolbar(){const e=A(this,os,document.createElement("button"));return e.className="comment",P(this,Kv,nC).call(this,e,!1)}renderForStandalone(){const e=A(this,Gn,document.createElement("button"));e.className="annotationCommentButton";const n=u(this,wt).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(u(this,wt)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=u(this,wt).commentButtonColor;i&&(r.backgroundColor=i)}return P(this,Kv,nC).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=u(this,Gn)??u(this,os))==null||e.focus()},0)}onUpdatedColor(){if(!u(this,Gn))return;const e=u(this,wt).commentButtonColor;e&&(u(this,Gn).style.backgroundColor=e),u(this,wt)._uiManager.updatePopupColor(u(this,wt))}get commentButtonWidth(){var e;return(((e=u(this,Gn))==null?void 0:e.getBoundingClientRect().width)??0)/u(this,wt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(u(this,Vu))return u(this,Vu);if(!u(this,Gn))return null;const{x:e,y:n,height:r}=u(this,Gn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=u(this,wt).parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){A(this,Vu,e)}hasDefaultPopupPosition(){return u(this,Vu)===null}removeStandaloneCommentButton(){var e;(e=u(this,Gn))==null||e.remove(),A(this,Gn,null)}removeToolbarCommentButton(){var e;(e=u(this,os))==null||e.remove(),A(this,os,null)}setCommentButtonStates({selected:e,hasPopup:n}){u(this,Gn)&&(u(this,Gn).classList.toggle("selected",e),u(this,Gn).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=u(this,wt).commentButtonPosition;const{width:d,height:h,x:f,y:p}=u(this,wt);r=f+r*d,i=p+i*h}const s=u(this,wt).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;u(this,wt)._uiManager.editComment(u(this,wt),a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){u(this,os)&&(u(this,os).focus({focusVisible:u(this,Uu)}),A(this,Uu,!1))}isDeleted(){return u(this,Wu)||u(this,Rs)===""}isEmpty(){return u(this,Rs)===null}hasBeenEdited(){return this.isDeleted()||u(this,Rs)!==u(this,Gv)}serialize(){return this.data}get data(){return{text:u(this,Rs),richText:u(this,zu),date:u(this,Hu),deleted:this.isDeleted()}}set data(e){if(e!==u(this,Rs)&&A(this,zu,null),e===null){A(this,Rs,""),A(this,Wu,!0);return}A(this,Rs,e),A(this,Hu,new Date),A(this,Wu,!1)}setInitialText(e,n=null){A(this,Gv,e),this.data=e,A(this,Hu,null),A(this,zu,n)}shown(){}destroy(){var e,n;(e=u(this,os))==null||e.remove(),A(this,os,null),(n=u(this,Gn))==null||n.remove(),A(this,Gn,null),A(this,Rs,""),A(this,zu,null),A(this,Hu,null),A(this,wt,null),A(this,Uu,!1),A(this,Wu,!1)}}Gn=new WeakMap,os=new WeakMap,Uu=new WeakMap,wt=new WeakMap,Gv=new WeakMap,zu=new WeakMap,Rs=new WeakMap,Hu=new WeakMap,Wu=new WeakMap,Vu=new WeakMap,Kv=new WeakSet,nC=function(e,n){if(!u(this,wt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[u(this,wt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=u(this,wt)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",zi,{signal:r}),n&&(e.addEventListener("focusin",s=>{u(this,wt)._focusEventsAllowed=!1,Ht(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{u(this,wt)._focusEventsAllowed=!0,Ht(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===u(this,os)?this.edit():u(this,wt).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(A(this,Uu,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{u(this,wt).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{u(this,wt).toggleComment(!1,!1)},{signal:r}),e};var Mf,Gu,qv,Yv,Xv,Qv,Jv,uo,Ku,ho,qu,fo,tu,n$,r$,i$;const NN=class NN{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){C(this,tu);C(this,Mf);C(this,Gu,!1);C(this,qv,null);C(this,Yv);C(this,Xv);C(this,Qv);C(this,Jv);C(this,uo,null);C(this,Ku);C(this,ho,null);C(this,qu);C(this,fo,null);A(this,Mf,e),A(this,qv,r),A(this,Yv,n),A(this,Xv,i),A(this,Qv,s),A(this,Jv,a),A(this,qu,new AbortController),A(this,Ku,AbortSignal.any([o,u(this,qu).signal])),e.addEventListener("touchstart",P(this,tu,n$).bind(this),{passive:!1,signal:u(this,Ku)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ia.pixelRatio}destroy(){var e,n;(e=u(this,qu))==null||e.abort(),A(this,qu,null),(n=u(this,uo))==null||n.abort(),A(this,uo,null)}};Mf=new WeakMap,Gu=new WeakMap,qv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Qv=new WeakMap,Jv=new WeakMap,uo=new WeakMap,Ku=new WeakMap,ho=new WeakMap,qu=new WeakMap,fo=new WeakMap,tu=new WeakSet,n$=function(e){var i,s,a;if((i=u(this,Yv))!=null&&i.call(this))return;if(e.touches.length===1){if(u(this,uo))return;const o=A(this,uo,new AbortController),l=AbortSignal.any([u(this,Ku),o.signal]),c=u(this,Mf),d={capture:!0,signal:l,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=u(this,uo))==null||p.abort(),A(this,uo,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Ht(f),h(f))},d),c.addEventListener("pointerup",h,d),c.addEventListener("pointercancel",h,d);return}if(!u(this,fo)){A(this,fo,new AbortController);const o=AbortSignal.any([u(this,Ku),u(this,fo).signal]),l=u(this,Mf),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",P(this,tu,r$).bind(this),c);const d=P(this,tu,i$).bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",Ht,c),l.addEventListener("pointermove",Ht,c),l.addEventListener("pointercancel",Ht,c),l.addEventListener("pointerup",Ht,c),(s=u(this,Xv))==null||s.call(this)}if(Ht(e),e.touches.length!==2||(a=u(this,qv))!=null&&a.call(this)){A(this,ho,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),A(this,ho,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},r$=function(e){var _;if(!u(this,ho)||e.touches.length!==2)return;Ht(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=u(this,ho),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:f}=l,p=h-c,g=f-d,v=a-i,b=o-s,y=Math.hypot(v,b)||1,x=Math.hypot(p,g)||1;if(!u(this,Gu)&&Math.abs(x-y)<=NN.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!u(this,Gu)){A(this,Gu,!0);return}const w=[(i+a)/2,(s+o)/2];(_=u(this,Qv))==null||_.call(this,w,x,y)},i$=function(e){var n;e.touches.length>=2||(u(this,fo)&&(u(this,fo).abort(),A(this,fo,null),(n=u(this,Jv))==null||n.call(this)),u(this,ho)&&(Ht(e),A(this,ho,null),A(this,Gu,!1)))};let vv=NN;var Yu,js,Dt,dt,po,Rf,oc,Zv,Kn,Xu,mo,ls,lc,ey,Qu,fi,ty,Ju,go,Ea,jf,Lf,cs,Zu,ny,F1,Ce,rC,ry,iC,xw,s$,a$,sC,Sw,aC,o$,l$,c$,oC,u$,lC,d$,h$,f$,cC,dg;const Oe=class Oe{constructor(e){C(this,Ce);C(this,Yu,null);C(this,js,null);C(this,Dt,null);C(this,dt,null);C(this,po,null);C(this,Rf,!1);C(this,oc,null);C(this,Zv,"");C(this,Kn,null);C(this,Xu,null);C(this,mo,null);C(this,ls,null);C(this,lc,null);C(this,ey,"");C(this,Qu,!1);C(this,fi,null);C(this,ty,!1);C(this,Ju,!1);C(this,go,!1);C(this,Ea,null);C(this,jf,0);C(this,Lf,0);C(this,cs,null);C(this,Zu,null);te(this,"isSelected",!1);te(this,"_isCopy",!1);te(this,"_editToolbar",null);te(this,"_initialOptions",Object.create(null));te(this,"_initialData",null);te(this,"_isVisible",!0);te(this,"_uiManager",null);te(this,"_focusEventsAllowed",!0);C(this,ny,!1);C(this,F1,Oe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Oe.prototype._resizeWithKeyboard,n=Zc.TRANSLATE_SMALL,r=Zc.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new F0([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Oe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new SY({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Oe._l10n??(Oe._l10n=e),Oe._l10nResizer||(Oe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Oe._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Oe._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){mt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,ny)}set _isDraggable(e){var n;A(this,ny,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,F1)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(P(this,Ce,dg).call(this),(n=u(this,ls))==null||n.remove(),A(this,ls,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,Qu)?A(this,Qu,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){P(this,Ce,rC).call(this,this.parentDimensions,e,n)}translateInPage(e,n){u(this,fi)||A(this,fi,[this.x,this.y,this.width,this.height]),P(this,Ce,rC).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){u(this,fi)||A(this,fi,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!u(this,fi)&&(u(this,fi)[0]!==this.x||u(this,fi)[1]!==this.y)}get _hasBeenResized(){return!!u(this,fi)&&(u(this,fi)[2]!==this.width||u(this,fi)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Oe,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=pr(s,0,r-o),a=pr(a,0,i-l);break;case 90:s=pr(s,0,r-l),a=pr(a,o,i);break;case 180:s=pr(s,o,r),a=pr(a,l,i);break;case 270:s=pr(s,l,r),a=pr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,d]=this.getBaseTranslation();s+=c,a+=d,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return P(r=Oe,ry,iC).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return P(r=Oe,ry,iC).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=u(this,Dt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||u(this,Ju))return this._editToolbar;this._editToolbar=new q_(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=u(this,Dt))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return u(this,Dt)||(jx.initialize(Oe._l10n),A(this,Dt,new jx(this)),u(this,Yu)&&(u(this,Dt).data=u(this,Yu),A(this,Yu,null))),u(this,Dt)}get altTextData(){var e;return(e=u(this,Dt))==null?void 0:e.data}set altTextData(e){u(this,Dt)&&(u(this,Dt).data=e)}get guessedAltText(){var e;return(e=u(this,Dt))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=u(this,Dt))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=u(this,Dt))==null?void 0:n.serialize(e)}hasAltText(){return!!u(this,Dt)&&!u(this,Dt).isEmpty()}hasAltTextData(){var e;return((e=u(this,Dt))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=u(this,dt))==null||e.focusButton()}addCommentButton(){return this.canAddComment?u(this,dt)||A(this,dt,new Tb(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(u(this,po)){this._uiManager.isEditingMode()&&u(this,po).classList.remove("hidden");return}this.hasComment&&(A(this,po,u(this,dt).renderForStandalone()),this.div.append(u(this,po)))}}removeStandaloneCommentButton(){u(this,dt).removeStandaloneCommentButton(),A(this,po,null)}hideStandaloneCommentButton(){var e;(e=u(this,po))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=u(this,dt);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){u(this,dt)||A(this,dt,new Tb(this)),u(this,dt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(u(this,dt)||A(this,dt,new Tb(this)),u(this,dt).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=u(this,dt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=u(this,dt))==null?void 0:e.isDeleted()}get hasComment(){return!!u(this,dt)&&!u(this,dt).isEmpty()&&!u(this,dt).isDeleted()}async editComment(e){u(this,dt)||A(this,dt,new Tb(this)),u(this,dt).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){u(this,dt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){u(this,dt).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=u(this,Rf)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),P(this,Ce,lC).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),zB(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(u(this,Zu)||A(this,Zu,new vv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:P(this,Ce,o$).bind(this),onPinching:P(this,Ce,l$).bind(this),onPinchEnd:P(this,Ce,c$).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=zn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(A(this,Qu,!0),this._isDraggable){P(this,Ce,u$).call(this,e);return}P(this,Ce,oC).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,Ea)&&clearTimeout(u(this,Ea)),A(this,Ea,setTimeout(()=>{var e;A(this,Ea,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=n/i,h=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(r){case 0:return[h+c+o,a-f-d-g+l,h+c+p+o,a-f-d+l];case 90:return[h+d+o,a-f+c+l,h+d+g+o,a-f+c+p+l];case 180:return[h-c-p+o,a-f+d+l,h-c+o,a-f+d+g+l];case 270:return[h-d-g+o,a-f-c-p+l,h-d+o,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Oe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=u(this,dt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||d,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,Ju,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,Ju,!1),!0):!1}isInEditMode(){return u(this,Ju)}shouldGetKeyboardEvents(){return u(this,go)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}rebuild(){P(this,Ce,lC).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,A(i,Yu,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n,r;if((e=u(this,lc))==null||e.abort(),A(this,lc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),u(this,Ea)&&(clearTimeout(u(this,Ea)),A(this,Ea,null)),P(this,Ce,dg).call(this),this.removeEditToolbar(),u(this,cs)){for(const i of u(this,cs).values())clearTimeout(i);A(this,cs,null)}this.parent=null,(n=u(this,Zu))==null||n.destroy(),A(this,Zu,null),(r=u(this,ls))==null||r.remove(),A(this,ls,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(P(this,Ce,s$).call(this),u(this,Kn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[Oe._round(r+(s-r)*e),Oe._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return u(this,dt).commentPopupPositionInLayer}set commentPopupPosition(e){u(this,dt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return u(this,dt).hasDefaultPopupPosition()}get commentButtonWidth(){return u(this,dt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var n;(n=u(this,dt))==null||n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=u(this,Kn).children;if(!u(this,js)){A(this,js,Array.from(n));const a=P(this,Ce,d$).bind(this),o=P(this,Ce,h$).bind(this),l=this._uiManager._signal;for(const c of u(this,js)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",P(this,Ce,f$).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",Oe._l10nResizer[d])}}const r=u(this,js)[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(u(this,js).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)u(this,Kn).append(u(this,Kn).firstChild);else if(s>i)for(let o=0;o<s-i;o++)u(this,Kn).firstChild.before(u(this,Kn).lastChild);let a=0;for(const o of n){const c=u(this,js)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Oe._l10nResizer[c])}}P(this,Ce,cC).call(this,0),A(this,go,!0),u(this,Kn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){u(this,go)&&P(this,Ce,aC).call(this,u(this,ey),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){P(this,Ce,dg).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(r=u(this,Dt))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,s;this.isSelected&&(this.isSelected=!1,(e=u(this,Kn))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=u(this,Dt))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return u(this,ty)}set isEditing(e){A(this,ty,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){u(this,cs)||A(this,cs,new Map);const{action:r}=e;let i=u(this,cs).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),u(this,cs).delete(r),u(this,cs).size===0&&A(this,cs,null)},Oe._telemetryTimeout),u(this,cs).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Rf,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Rf,!0)}updateFakeAnnotationElement(e){if(!u(this,ls)&&!this.deleted){A(this,ls,e.addFakeAnnotation(this));return}if(this.deleted){u(this,ls).remove(),A(this,ls,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&u(this,ls).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Yu=new WeakMap,js=new WeakMap,Dt=new WeakMap,dt=new WeakMap,po=new WeakMap,Rf=new WeakMap,oc=new WeakMap,Zv=new WeakMap,Kn=new WeakMap,Xu=new WeakMap,mo=new WeakMap,ls=new WeakMap,lc=new WeakMap,ey=new WeakMap,Qu=new WeakMap,fi=new WeakMap,ty=new WeakMap,Ju=new WeakMap,go=new WeakMap,Ea=new WeakMap,jf=new WeakMap,Lf=new WeakMap,cs=new WeakMap,Zu=new WeakMap,ny=new WeakMap,F1=new WeakMap,Ce=new WeakSet,rC=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ry=new WeakSet,iC=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},xw=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},s$=function(){if(u(this,Kn))return;A(this,Kn,document.createElement("div")),u(this,Kn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");u(this,Kn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",P(this,Ce,a$).bind(this,r),{signal:n}),i.addEventListener("contextmenu",zi,{signal:n}),i.tabIndex=-1}this.div.prepend(u(this,Kn))},a$=function(e,n){var d;n.preventDefault();const{isMac:r}=zn.platform;if(n.button!==0||n.ctrlKey&&r)return;(d=u(this,Dt))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,A(this,Xu,[n.screenX,n.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",P(this,Ce,aC).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Ht,{passive:!1,signal:a}),window.addEventListener("contextmenu",zi,{signal:a}),A(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=u(this,Dt))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,P(this,Ce,Sw).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},sC=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},Sw=function(){if(!u(this,mo))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=u(this,mo);A(this,mo,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:P(this,Ce,sC).bind(this,s,a,o,l),undo:P(this,Ce,sC).bind(this,e,n,r,i),mustExec:!0})},aC=function(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Oe.MIN_SIZE/r,d=Oe.MIN_SIZE/i,h=P(this,Ce,xw).call(this,this.rotation),f=(Y,U)=>[h[0]*Y+h[2]*U,h[1]*Y+h[3]*U],p=P(this,Ce,xw).call(this,360-this.rotation),g=(Y,U)=>[p[0]*Y+p[2]*U,p[1]*Y+p[3]*U];let v,b,y=!1,x=!1;switch(e){case"topLeft":y=!0,v=(Y,U)=>[0,0],b=(Y,U)=>[Y,U];break;case"topMiddle":v=(Y,U)=>[Y/2,0],b=(Y,U)=>[Y/2,U];break;case"topRight":y=!0,v=(Y,U)=>[Y,0],b=(Y,U)=>[0,U];break;case"middleRight":x=!0,v=(Y,U)=>[Y,U/2],b=(Y,U)=>[0,U/2];break;case"bottomRight":y=!0,v=(Y,U)=>[Y,U],b=(Y,U)=>[0,0];break;case"bottomMiddle":v=(Y,U)=>[Y/2,U],b=(Y,U)=>[Y/2,0];break;case"bottomLeft":y=!0,v=(Y,U)=>[0,U],b=(Y,U)=>[Y,0];break;case"middleLeft":x=!0,v=(Y,U)=>[0,U/2],b=(Y,U)=>[Y,U/2];break}const w=v(o,l),_=b(o,l);let E=f(..._);const k=Oe._round(s+E[0]),O=Oe._round(a+E[1]);let T=1,N=1,I,D;if(n.fromKeyboard)({deltaX:I,deltaY:D}=n);else{const{screenX:Y,screenY:U}=n,[z,W]=u(this,Xu);[I,D]=this.screenToPageTranslation(Y-z,U-W),u(this,Xu)[0]=Y,u(this,Xu)[1]=U}if([I,D]=g(I/r,D/i),y){const Y=Math.hypot(o,l);T=N=Math.max(Math.min(Math.hypot(_[0]-w[0]-I,_[1]-w[1]-D)/Y,1/o,1/l),c/o,d/l)}else x?T=pr(Math.abs(_[0]-w[0]-I),c,1)/o:N=pr(Math.abs(_[1]-w[1]-D),d,1)/l;const M=Oe._round(o*T),F=Oe._round(l*N);E=f(...b(M,F));const K=k-E[0],Q=O-E[1];u(this,fi)||A(this,fi,[this.x,this.y,this.width,this.height]),this.width=M,this.height=F,this.x=K,this.y=Q,this.setDims(),this.fixAndSetPosition(),this._onResizing()},o$=function(){var e;A(this,mo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=u(this,Dt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},l$=function(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=P(this,Ce,xw).call(this,this.rotation),o=(k,O)=>[a[0]*k+a[2]*O,a[1]*k+a[3]*O],[l,c]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,g=Oe.MIN_SIZE/l,v=Oe.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/p),g/f,v/p);const b=Oe._round(f*s),y=Oe._round(p*s);if(b===f&&y===p)return;u(this,fi)||A(this,fi,[d,h,f,p]);const x=o(f/2,p/2),w=Oe._round(d+x[0]),_=Oe._round(h+x[1]),E=o(b/2,y/2);this.x=w-E[0],this.y=_-E[1],this.width=b,this.height=y,this.setDims(),this.fixAndSetPosition(),this._onResizing()},c$=function(){var e;(e=u(this,Dt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),P(this,Ce,Sw).call(this)},oC=function(e){const{isMac:n}=zn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},u$=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),A(this,oc,null),A(this,Qu,!1),this._uiManager.endDragSession()||P(this,Ce,oC).call(this,c),r&&this._onStopDragging()};n&&(A(this,jf,e.clientX),A(this,Lf,e.clientY),A(this,oc,e.pointerId),A(this,Zv,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=c;if(f!==u(this,oc)){Ht(c);return}const[p,g]=this.screenToPageTranslation(d-u(this,jf),h-u(this,Lf));A(this,jf,d),A(this,Lf,h),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",Ht,a),window.addEventListener("pointerdown",c=>{c.pointerType===u(this,Zv)&&(u(this,Zu)||c.isPrimary)&&o(c),Ht(c)},a));const l=c=>{if(!u(this,oc)||u(this,oc)===c.pointerId){o(c);return}Ht(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},lC=function(){if(u(this,lc)||!this.div)return;A(this,lc,new AbortController);const e=this._uiManager.combinedSignal(u(this,lc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},d$=function(e){Oe._resizerKeyboardManager.exec(this,e)},h$=function(e){var n;u(this,go)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==u(this,Kn)&&P(this,Ce,dg).call(this)},f$=function(e){A(this,ey,u(this,go)?e:"")},cC=function(e){if(u(this,js))for(const n of u(this,js))n.tabIndex=e},dg=function(){A(this,go,!1),P(this,Ce,cC).call(this,-1),P(this,Ce,Sw).call(this)},C(Oe,ry),te(Oe,"_l10n",null),te(Oe,"_l10nResizer",null),te(Oe,"_borderLineWidth",-1),te(Oe,"_colorManager",new Q_),te(Oe,"_zIndex",1),te(Oe,"_telemetryTimeout",1e3);let At=Oe;class SY extends At{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const WI=3285377520,Yi=4294901760,fa=65535;class p${constructor(e){this.h1=e?e&4294967295:WI,this.h2=e?e&4294967295:WI}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let v=0,b=e.length;v<b;v++){const y=e.charCodeAt(v);y<=255?n[r++]=y:(n[r++]=y>>>8,n[r++]=y&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&fa,g=f&fa;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*h&Yi|o*p&fa,o=o<<15|o>>>17,o=o*f&Yi|o*g&fa,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*h&Yi|l*p&fa,l=l<<15|l>>>17,l=l*f&Yi|l*g&fa,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&Yi|o*p&fa,o=o<<15|o>>>17,o=o*f&Yi|o*g&fa,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Yi|e*36045&fa,n=n*4283543511&Yi|((n<<16|e>>>16)*2950163797&Yi)>>>16,e^=n>>>1,e=e*444984403&Yi|e*60499&fa,n=n*3301882366&Yi|((n<<16|e>>>16)*3120437893&Yi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const uC=Object.freeze({map:null,hash:"",transfer:void 0});var ed,td,vo,qn,B1,m$;class ET{constructor(){C(this,B1);C(this,ed,!1);C(this,td,null);C(this,vo,null);C(this,qn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=u(this,qn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return u(this,qn).get(e)}remove(e){const n=u(this,qn).get(e);if(n!==void 0&&(n instanceof At&&u(this,vo).delete(n.annotationElementId),u(this,qn).delete(e),u(this,qn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of u(this,qn).values())if(r instanceof At)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=u(this,qn).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,u(this,qn).set(e,n);i&&P(this,B1,m$).call(this),n instanceof At&&((u(this,vo)||A(this,vo,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return u(this,qn).has(e)}get size(){return u(this,qn).size}resetModified(){u(this,ed)&&(A(this,ed,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new g$(this)}get serializable(){if(u(this,qn).size===0)return uC;const e=new Map,n=new p$,r=[],i=Object.create(null);let s=!1;for(const[a,o]of u(this,qn)){const l=o instanceof At?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:uC}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of u(this,qn).values()){if(!(s instanceof At)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,d]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const f=h.get(d)??0;h.set(d,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){A(this,td,null)}updateEditor(e,n){var i;const r=(i=u(this,vo))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=u(this,vo))==null?void 0:n.get(e))||null}get modifiedIds(){if(u(this,td))return u(this,td);const e=[];if(u(this,vo))for(const n of u(this,vo).values())n.serialize()&&e.push(n.annotationElementId);return A(this,td,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return u(this,qn).entries()}}ed=new WeakMap,td=new WeakMap,vo=new WeakMap,qn=new WeakMap,B1=new WeakSet,m$=function(){u(this,ed)||(A(this,ed,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var iy;class g$ extends ET{constructor(n){super();C(this,iy);const{map:r,hash:i,transfer:s}=n.serializable,a=structuredClone(r,s?{transfer:s}:null);A(this,iy,{map:a,hash:i,transfer:s})}get print(){mt("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,iy)}get modifiedIds(){return Ie(this,"modifiedIds",{ids:new Set,hash:""})}}iy=new WeakMap;var Ff;class AY{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){C(this,Ff,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,Ff).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||u(this,Ff).has(e.loadedName))){if(He(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),u(this,Ff).add(i),r==null||r(e)}catch{Ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}mt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ne(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Ie(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ie(this,"isSyncFontLoadingSupported",Pr||zn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(He(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ie(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(_,E){return _.charCodeAt(E)<<24|_.charCodeAt(E+1)<<16|_.charCodeAt(E+2)<<8|_.charCodeAt(E+3)&255}function i(_,E,k,O){const T=_.substring(0,E),N=_.substring(E+k);return T+O+N}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(_,E){if(++c>30){Ne("Load test font never loaded."),E();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(d.bind(null,_,E))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const g=16,v=1482184792;let b=r(f,g);for(s=0,a=h.length-3;s<a;s+=4)b=b-v+r(h,s)|0;s<h.length&&(b=b-v+r(h+"XXX",s)|0),f=i(f,g,4,uY(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const _ of[e.loadedName,h]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=_,w.append(E)}this._document.body.append(w),d(h,()=>{w.remove(),n.complete()})}}Ff=new WeakMap;var st;class EY{constructor(e,n=null,r,i){C(this,st);this.compiledGlyphs=Object.create(null),A(this,st,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${TB(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Ne(`getPathGenerator - ignoring character: "${a}".`)}const s=jB(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return u(this,st).black}get bold(){return u(this,st).bold}get disableFontFace(){return u(this,st).disableFontFace??!1}get fontExtraProperties(){return u(this,st).fontExtraProperties??!1}get isInvalidPDFjsFont(){return u(this,st).isInvalidPDFjsFont}get isType3Font(){return u(this,st).isType3Font}get italic(){return u(this,st).italic}get missingFile(){return u(this,st).missingFile}get remeasure(){return u(this,st).remeasure}get vertical(){return u(this,st).vertical}get ascent(){return u(this,st).ascent}get defaultWidth(){return u(this,st).defaultWidth}get descent(){return u(this,st).descent}get bbox(){return u(this,st).bbox}get fontMatrix(){return u(this,st).fontMatrix}get fallbackName(){return u(this,st).fallbackName}get loadedName(){return u(this,st).loadedName}get mimetype(){return u(this,st).mimetype}get name(){return u(this,st).name}get data(){return u(this,st).data}clearData(){u(this,st).clearData()}get cssFontInfo(){return u(this,st).cssFontInfo}get systemFontInfo(){return u(this,st).systemFontInfo}get defaultVMetrics(){return u(this,st).defaultVMetrics}}st=new WeakMap;var Bf,$f,sy,Uf,Aw;const ef=class ef{constructor(e){C(this,Uf);C(this,Bf);C(this,$f);C(this,sy);A(this,Bf,e),A(this,$f,new DataView(u(this,Bf))),A(this,sy,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of ef.strings){const d=n.encode(e[c]);r[c]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of ef.strings){const d=r[c],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return He(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return P(this,Uf,Aw).call(this,0)}get fontWeight(){return P(this,Uf,Aw).call(this,1)}get italicAngle(){return P(this,Uf,Aw).call(this,2)}};Bf=new WeakMap,$f=new WeakMap,sy=new WeakMap,Uf=new WeakSet,Aw=function(e){He(e<ef.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=u(this,$f).getUint32(n)+4;const r=u(this,$f).getUint32(n);return u(this,sy).decode(new Uint8Array(u(this,Bf),n+4,r))},te(ef,"strings",["fontFamily","fontWeight","italicAngle"]);let Lx=ef;var cc,_a,nd,rd,hg;const tf=class tf{constructor(e){C(this,rd);C(this,cc);C(this,_a);C(this,nd);A(this,cc,e),A(this,_a,new DataView(u(this,cc))),A(this,nd,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const f of tf.strings){const p=n.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const f of tf.strings){const p=r[f],g=p.length;i+=4+g,d.setUint32(h,g),c.set(p,h+4),h+=4+g}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),He(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}get guessFallback(){return u(this,_a).getUint8(0)!==0}get css(){return P(this,rd,hg).call(this,0)}get loadedName(){return P(this,rd,hg).call(this,1)}get baseFontName(){return P(this,rd,hg).call(this,2)}get src(){return P(this,rd,hg).call(this,3)}get style(){let e=1;e+=4+u(this,_a).getUint32(e);const n=u(this,_a).getUint32(e),r=u(this,nd).decode(new Uint8Array(u(this,cc),e+4,n));e+=4+n;const i=u(this,_a).getUint32(e),s=u(this,nd).decode(new Uint8Array(u(this,cc),e+4,i));return{style:r,weight:s}}};cc=new WeakMap,_a=new WeakMap,nd=new WeakMap,rd=new WeakSet,hg=function(e){He(e<tf.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=u(this,_a).getUint32(n)+4;const r=u(this,_a).getUint32(n);return u(this,nd).decode(new Uint8Array(u(this,cc),n+4,r))},te(tf,"strings",["css","loadedName","baseFontName","src"]);let Fx=tf;var zf,Hf,Wf,Vf,pi,Ca,ay,at,Zt,Os,Ew,fg;const De=class De{constructor({data:e,extra:n}){C(this,Zt);C(this,Ca);C(this,ay);C(this,at);A(this,Ca,e),A(this,ay,new TextDecoder),A(this,at,new DataView(u(this,Ca))),n&&Object.assign(this,n)}get black(){return P(this,Zt,Os).call(this,0)}get bold(){return P(this,Zt,Os).call(this,1)}get disableFontFace(){return P(this,Zt,Os).call(this,2)}get fontExtraProperties(){return P(this,Zt,Os).call(this,3)}get isInvalidPDFjsFont(){return P(this,Zt,Os).call(this,4)}get isType3Font(){return P(this,Zt,Os).call(this,5)}get italic(){return P(this,Zt,Os).call(this,6)}get missingFile(){return P(this,Zt,Os).call(this,7)}get remeasure(){return P(this,Zt,Os).call(this,8)}get vertical(){return P(this,Zt,Os).call(this,9)}get ascent(){return P(this,Zt,Ew).call(this,0)}get defaultWidth(){return P(this,Zt,Ew).call(this,1)}get descent(){return P(this,Zt,Ew).call(this,2)}get bbox(){let e=u(De,Hf);if(u(this,at).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(u(this,at).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=u(De,Wf);if(u(this,at).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(u(this,at).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=u(De,Vf);if(u(this,at).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(u(this,at).getInt16(e,!0)),e+=2;return r}get fallbackName(){return P(this,Zt,fg).call(this,0)}get loadedName(){return P(this,Zt,fg).call(this,1)}get mimetype(){return P(this,Zt,fg).call(this,2)}get name(){return P(this,Zt,fg).call(this,3)}get data(){let e=u(De,pi);const n=u(this,at).getUint32(e);e+=4+n;const r=u(this,at).getUint32(e);e+=4+r;const i=u(this,at).getUint32(e);e+=4+i;const s=u(this,at).getUint32(e);if(s!==0)return new Uint8Array(u(this,Ca),e+4,s)}clearData(){let e=u(De,pi);const n=u(this,at).getUint32(e);e+=4+n;const r=u(this,at).getUint32(e);e+=4+r;const i=u(this,at).getUint32(e);e+=4+i;const s=u(this,at).getUint32(e);new Uint8Array(u(this,Ca),e+4,s).fill(0),u(this,at).setUint32(e,0)}get cssFontInfo(){let e=u(De,pi);const n=u(this,at).getUint32(e);e+=4+n;const r=u(this,at).getUint32(e);e+=4+r;const i=u(this,at).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(u(this,Ca),e+4,i)),new Lx(s.buffer)}get systemFontInfo(){let e=u(De,pi);const n=u(this,at).getUint32(e);e+=4+n;const r=u(this,at).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(u(this,Ca),e+4,r)),new Fx(i.buffer)}static write(e){const n=e.systemFontInfo?Fx.write(e.systemFontInfo):null,r=e.cssFontInfo?Lx.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const v of De.strings)s[v]=i.encode(e[v]),a+=4+s[v].length;const o=u(De,pi)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;const f=De.bools.length;let p=0,g=0;for(let v=0;v<f;v++){const b=e[De.bools[v]];p|=(b===void 0?0:b?2:1)<<g,g+=2,(g===8||v===f-1)&&(d.setUint8(h++,p),p=0,g=0)}He(h===u(De,zf),"FontInfo.write: Boolean properties offset mismatch");for(const v of De.numbers)d.setFloat64(h,e[v]),h+=8;if(He(h===u(De,Hf),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const v of e.bbox)d.setInt16(h,v,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(He(h===u(De,Wf),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const v of e.fontMatrix)d.setFloat64(h,v,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(He(h===u(De,Vf),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const v of e.defaultVMetrics)d.setInt16(h,v,!0),h+=2}else d.setUint8(h++,0),h+=3*2;He(h===u(De,pi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(u(De,pi),0),h+=4;for(const v of De.strings){const b=s[v],y=b.length;d.setUint32(h,y),c.set(b,h+4),h+=4+y}if(d.setUint32(u(De,pi),h-u(De,pi)-4),!n)d.setUint32(h,0),h+=4;else{const v=n.byteLength;d.setUint32(h,v),He(h+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+v}if(!r)d.setUint32(h,0),h+=4;else{const v=r.byteLength;d.setUint32(h,v),He(h+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+v}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),He(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}};zf=new WeakMap,Hf=new WeakMap,Wf=new WeakMap,Vf=new WeakMap,pi=new WeakMap,Ca=new WeakMap,ay=new WeakMap,at=new WeakMap,Zt=new WeakSet,Os=function(e){He(e<De.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=u(this,at).getUint8(n)>>r&3;return i===0?void 0:i===2},Ew=function(e){return He(e<De.numbers.length,"Invalid number index"),u(this,at).getFloat64(u(De,zf)+e*8)},fg=function(e){He(e<De.strings.length,"Invalid string index");let n=u(De,pi)+4;for(let s=0;s<e;s++)n+=u(this,at).getUint32(n)+4;const r=u(this,at).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(u(this,Ca),n+4,r)),u(this,ay).decode(i)},te(De,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),te(De,"numbers",["ascent","defaultWidth","descent"]),te(De,"strings",["fallbackName","loadedName","mimetype","name"]),C(De,zf,Math.ceil(De.bools.length*2/8)),C(De,Hf,u(De,zf)+De.numbers.length*8),C(De,Wf,u(De,Hf)+1+2*4),C(De,Vf,u(De,Wf)+1+8*6),C(De,pi,u(De,Vf)+1+2*3);let dC=De;var oy,ly,cy,uy,dy,hy,fy,py;const bt=class bt{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),f=a.length,p=o.length;let g=0;for(const E of o)g+=1,g=Math.ceil(g/4)*4,g+=4+E.coords.length*4,g+=4+E.colors.length*4,E.verticesPerRow!==void 0&&(g+=4);const v=20+d*8+h*3+f*8+(r?16:0)+(c?3:0)+g,b=new ArrayBuffer(v),y=new DataView(b),x=new Uint8Array(b);y.setUint8(u(bt,oy),n),y.setUint8(u(bt,ly),r?1:0),y.setUint8(u(bt,cy),c?1:0),y.setUint8(u(bt,uy),l),y.setUint32(u(bt,dy),d,!0),y.setUint32(u(bt,hy),h,!0),y.setUint32(u(bt,fy),f,!0),y.setUint32(u(bt,py),p,!0);let w=20;new Float32Array(b,w,d*2).set(i),w+=d*8,x.set(s,w),w+=h*3;for(const[E,k]of a)y.setFloat32(w,E,!0),w+=4,y.setUint32(w,parseInt(k.slice(1),16),!0),w+=4;if(r)for(const E of r)y.setFloat32(w,E,!0),w+=4;c&&(x.set(c,w),w+=3);for(let E=0;E<o.length;E++){const k=o[E];y.setUint8(w,k.type),w+=1,w=Math.ceil(w/4)*4,y.setUint32(w,k.coords.length,!0),w+=4,new Int32Array(b,w,k.coords.length).set(k.coords),w+=k.coords.length*4,y.setUint32(w,k.colors.length,!0),w+=4,new Int32Array(b,w,k.colors.length).set(k.colors),w+=k.colors.length*4,k.verticesPerRow!==void 0&&(y.setUint32(w,k.verticesPerRow,!0),w+=4)}return b}getIR(){const e=this.view,n=this.data[u(bt,oy)],r=!!this.data[u(bt,ly)],i=!!this.data[u(bt,cy)],s=e.getUint32(u(bt,dy),!0),a=e.getUint32(u(bt,hy),!0),o=e.getUint32(u(bt,fy),!0),l=e.getUint32(u(bt,py),!0);let c=20;const d=new Float32Array(this.buffer,c,s*2);c+=s*8;const h=new Uint8Array(this.buffer,c,a*3);c+=a*3;const f=[];for(let b=0;b<o;++b){const y=e.getFloat32(c,!0);c+=4;const x=e.getUint32(c,!0);c+=4,f.push([y,`#${x.toString(16).padStart(6,"0")}`])}let p=null;if(r){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(c,!0)),c+=4}let g=null;i&&(g=new Uint8Array(this.buffer,c,3),c+=3);const v=[];for(let b=0;b<l;++b){const y=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const x=e.getUint32(c,!0);c+=4;const w=new Int32Array(this.buffer,c,x);c+=x*4;const _=e.getUint32(c,!0);c+=4;const E=new Int32Array(this.buffer,c,_);c+=_*4;const k={type:y,coords:w,colors:E};y===V_.LATTICE&&(k.verticesPerRow=e.getUint32(c,!0),c+=4),v.push(k)}if(n===1)return["RadialAxial","axial",p,f,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",p,f,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(n===3){const b=this.data[u(bt,uy)];let y=null;if(d.length>0){let x=d[0],w=d[0],_=d[1],E=d[1];for(let k=0;k<d.length;k+=2){const O=d[k],T=d[k+1];x=x>O?O:x,_=_>T?T:_,w=w<O?O:w,E=E<T?T:E}y=[x,_,w,E]}return["Mesh",b,d,h,v,y,p,g]}throw new Error(`Unsupported pattern kind: ${n}`)}};oy=new WeakMap,ly=new WeakMap,cy=new WeakMap,uy=new WeakMap,dy=new WeakMap,hy=new WeakMap,fy=new WeakMap,py=new WeakMap,C(bt,oy,0),C(bt,ly,1),C(bt,cy,2),C(bt,uy,3),C(bt,dy,4),C(bt,hy,8),C(bt,fy,12),C(bt,py,16);let hC=bt;function _Y(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Pr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function CY(t){if(Pr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return R0(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nb(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const fC=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,kY=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",v$=pY.bind(null,fC,kY);var yo,$1;class PY{constructor(){C(this,yo,new Map);C(this,$1,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};u(this,$1).then(()=>{for(const[i]of u(this,yo))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}u(this,yo).set(n,i)}removeEventListener(e,n){const r=u(this,yo).get(n);r==null||r(),u(this,yo).delete(n)}terminate(){for(const[,e]of u(this,yo))e==null||e();u(this,yo).clear()}}yo=new WeakMap,$1=new WeakMap;const Ob={DATA:1,ERROR:2},un={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function VI(){}function zr(t){if(t instanceof pl||t instanceof Mx||t instanceof LI||t instanceof pv||t instanceof dE)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||mt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new pl(t.message);case"InvalidPDFException":return new Mx(t.message);case"PasswordException":return new LI(t.message,t.code);case"ResponseException":return new pv(t.message,t.status,t.missing);case"UnknownErrorException":return new dE(t.message,t.details)}return new dE(t.message,t.toString())}var Gf,ws,y$,b$,w$,_w;class pg{constructor(e,n,r){C(this,ws);C(this,Gf,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",P(this,ws,y$).bind(this),{signal:u(this,Gf).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:un.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{He(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:un.CANCEL,streamId:s,reason:zr(c)}),d.promise}},r)}destroy(){var e;(e=u(this,Gf))==null||e.abort(),A(this,Gf,null)}}Gf=new WeakMap,ws=new WeakSet,y$=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){P(this,ws,w$).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Ob.DATA)i.resolve(e.data);else if(e.callback===Ob.ERROR)i.reject(zr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Ob.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Ob.ERROR,callbackId:e.callbackId,reason:zr(a)})});return}if(e.streamId){P(this,ws,b$).call(this,e);return}n(e.data)},b$=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:un.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:un.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){He(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:un.ERROR,streamId:n,reason:zr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:un.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:un.START_COMPLETE,streamId:n,reason:zr(c)})})},w$=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case un.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(zr(e.reason));break;case un.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(zr(e.reason));break;case un.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:un.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||VI).then(function(){s.postMessage({sourceName:r,targetName:i,stream:un.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:un.PULL_COMPLETE,streamId:n,reason:zr(c)})});break;case un.ENQUEUE:if(He(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case un.CLOSE:if(He(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),P(this,ws,_w).call(this,a,n);break;case un.ERROR:He(a,"error should have stream controller"),a.controller.error(zr(e.reason)),P(this,ws,_w).call(this,a,n);break;case un.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(zr(e.reason)),P(this,ws,_w).call(this,a,n);break;case un.CANCEL:if(!o)break;const l=zr(e.reason);Promise.try(o.onCancel||VI,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:un.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:un.CANCEL_COMPLETE,streamId:n,reason:zr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},_w=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var my;class x${constructor({enableHWA:e=!1}){C(this,my,!1);A(this,my,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!u(this,my)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){mt("Abstract method `_createCanvas` called.")}}my=new WeakMap;class TY extends x${constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class S${constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class GI extends S${async _fetch(e){const n=await ym(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):R0(n)}}class A${addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var id,Kf,bo,wo,dr,sd,ad,ce,or,mg,Ih,Cw,Dh,E$,pC,Mh,gg,vg,mC,yg;class NY extends A${constructor({docId:n,ownerDocument:r=globalThis.document}){super();C(this,ce);C(this,id);C(this,Kf);C(this,bo);C(this,wo);C(this,dr);C(this,sd);C(this,ad,0);A(this,wo,n),A(this,dr,r)}addFilter(n){if(!n)return"none";let r=u(this,ce,or).get(n);if(r)return r;const[i,s,a]=P(this,ce,Cw).call(this,n),o=n.length===1?i:`${i}${s}${a}`;if(r=u(this,ce,or).get(o),r)return u(this,ce,or).set(n,r),r;const l=`g_${u(this,wo)}_transfer_map_${vn(this,ad)._++}`,c=P(this,ce,Dh).call(this,l);u(this,ce,or).set(n,c),u(this,ce,or).set(o,c);const d=P(this,ce,Mh).call(this,l);return P(this,ce,vg).call(this,i,s,a,d),c}addHCMFilter(n,r){var g;const i=`${n}-${r}`,s="base";let a=u(this,ce,mg).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},u(this,ce,mg).set(s,a)),!n||!r))return a.url;const o=P(this,ce,yg).call(this,n);n=he.makeHexColor(...o);const l=P(this,ce,yg).call(this,r);if(r=he.makeHexColor(...l),u(this,ce,Ih).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const b=v/255;c[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,wo)}_hcm_filter`,f=a.filter=P(this,ce,Mh).call(this,h);P(this,ce,vg).call(this,d,d,d,f),P(this,ce,pC).call(this,f);const p=(v,b)=>{const y=o[v]/255,x=l[v]/255,w=new Array(b+1);for(let _=0;_<=b;_++)w[_]=y+_/b*(x-y);return w.join(",")};return P(this,ce,vg).call(this,p(0,5),p(1,5),p(2,5),f),a.url=P(this,ce,Dh).call(this,h),a.url}addAlphaFilter(n){let r=u(this,ce,or).get(n);if(r)return r;const[i]=P(this,ce,Cw).call(this,[n]),s=`alpha_${i}`;if(r=u(this,ce,or).get(s),r)return u(this,ce,or).set(n,r),r;const a=`g_${u(this,wo)}_alpha_map_${vn(this,ad)._++}`,o=P(this,ce,Dh).call(this,a);u(this,ce,or).set(n,o),u(this,ce,or).set(s,o);const l=P(this,ce,Mh).call(this,a);return P(this,ce,mC).call(this,i,l),o}addLuminosityFilter(n){let r=u(this,ce,or).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=P(this,ce,Cw).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=u(this,ce,or).get(s),r)return u(this,ce,or).set(n,r),r;const a=`g_${u(this,wo)}_luminosity_map_${vn(this,ad)._++}`,o=P(this,ce,Dh).call(this,a);u(this,ce,or).set(n,o),u(this,ce,or).set(s,o);const l=P(this,ce,Mh).call(this,a);return P(this,ce,E$).call(this,l),n&&P(this,ce,mC).call(this,i,l),o}addHighlightHCMFilter(n,r,i,s,a){var x;const o=`${r}-${i}-${s}-${a}`;let l=u(this,ce,mg).get(n);if((l==null?void 0:l.key)===o||(l?((x=l.filter)==null||x.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,ce,mg).set(n,l)),!r||!i))return l.url;const[c,d]=[r,i].map(P(this,ce,yg).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,g]=[s,a].map(P(this,ce,yg).bind(this));f<h&&([h,f,p,g]=[f,h,g,p]),u(this,ce,Ih).style.color="";const v=(w,_,E)=>{const k=new Array(256),O=(f-h)/E,T=w/255,N=(_-w)/(255*E);let I=0;for(let D=0;D<=E;D++){const M=Math.round(h+D*O),F=T+D*N;for(let K=I;K<=M;K++)k[K]=F;I=M+1}for(let D=I;D<256;D++)k[D]=k[I-1];return k.join(",")},b=`g_${u(this,wo)}_hcm_${n}_filter`,y=l.filter=P(this,ce,Mh).call(this,b);return P(this,ce,pC).call(this,y),P(this,ce,vg).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),y),l.url=P(this,ce,Dh).call(this,b),l.url}destroy(n=!1){var r,i,s,a;n&&((r=u(this,sd))!=null&&r.size)||((i=u(this,bo))==null||i.parentNode.parentNode.remove(),A(this,bo,null),(s=u(this,Kf))==null||s.clear(),A(this,Kf,null),(a=u(this,sd))==null||a.clear(),A(this,sd,null),A(this,ad,0))}}id=new WeakMap,Kf=new WeakMap,bo=new WeakMap,wo=new WeakMap,dr=new WeakMap,sd=new WeakMap,ad=new WeakMap,ce=new WeakSet,or=function(){return u(this,Kf)||A(this,Kf,new Map)},mg=function(){return u(this,sd)||A(this,sd,new Map)},Ih=function(){if(!u(this,bo)){const n=u(this,dr).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=u(this,dr).createElementNS(Za,"svg");i.setAttribute("width",0),i.setAttribute("height",0),A(this,bo,u(this,dr).createElementNS(Za,"defs")),n.append(i),i.append(u(this,bo)),u(this,dr).body.append(n)}return u(this,bo)},Cw=function(n){if(n.length===1){const c=n[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=c[f]/255;const h=d.join(",");return[h,h,h]}const[r,i,s]=n,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},Dh=function(n){if(u(this,id)===void 0){A(this,id,"");const r=u(this,dr).URL;r!==u(this,dr).baseURI&&(L0(r)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,id,wT(r,"")))}return`url(${u(this,id)}#${n})`},E$=function(n){const r=u(this,dr).createElementNS(Za,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},pC=function(n){const r=u(this,dr).createElementNS(Za,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Mh=function(n){const r=u(this,dr).createElementNS(Za,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),u(this,ce,Ih).append(r),r},gg=function(n,r,i){const s=u(this,dr).createElementNS(Za,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},vg=function(n,r,i,s){const a=u(this,dr).createElementNS(Za,"feComponentTransfer");s.append(a),P(this,ce,gg).call(this,a,"feFuncR",n),P(this,ce,gg).call(this,a,"feFuncG",r),P(this,ce,gg).call(this,a,"feFuncB",i)},mC=function(n,r){const i=u(this,dr).createElementNS(Za,"feComponentTransfer");r.append(i),P(this,ce,gg).call(this,i,"feFuncA",n)},yg=function(n){return u(this,ce,Ih).style.color=n,bm(getComputedStyle(u(this,ce,Ih)).getPropertyValue("color"))};class _${constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class KI extends _${async _fetch(e){const n=await ym(e,"arraybuffer");return new Uint8Array(n)}}class C${constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class qI extends C${async _fetch(e){const n=await ym(e,"arraybuffer");return new Uint8Array(n)}}Pr&&Ne("Please use the `legacy` build in Node.js environments.");async function _T(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class OY extends A${}class IY extends x${_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class DY extends S${async _fetch(e){return _T(e)}}class MY extends _${async _fetch(e){return _T(e)}}class RY extends C${async _fetch(e){return _T(e)}}const kh="__forcedDependency",{floor:YI,ceil:XI}=Math;function Ib(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const gC=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var qf,uc;class jY{constructor(e,n){C(this,qf);C(this,uc);A(this,qf,e),A(this,uc,n)}get length(){return u(this,qf).length}isEmpty(e){return u(this,qf)[e]===gC}minX(e){return u(this,uc)[e*4+0]/256}minY(e){return u(this,uc)[e*4+1]/256}maxX(e){return(u(this,uc)[e*4+2]+1)/256}maxY(e){return(u(this,uc)[e*4+3]+1)/256}}qf=new WeakMap,uc=new WeakMap;const Db=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Vr,Gr,od,Ls,ld,xo,tt,ot,So,Kr,gy,Yf,cd,ud,Ao,hr,ka,vy,vC;class LY{constructor(e,n,r=!1){C(this,vy);C(this,Vr,{__proto__:null});C(this,Gr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[kh]:[]});C(this,od,new Map);C(this,Ls,[]);C(this,ld,[]);C(this,xo,[[1,0,0,1,0,0]]);C(this,tt,[-1/0,-1/0,1/0,1/0]);C(this,ot,new Float64Array([1/0,1/0,-1/0,-1/0]));C(this,So,-1);C(this,Kr,new Set);C(this,gy,new Map);C(this,Yf,new Map);C(this,cd);C(this,ud);C(this,Ao);C(this,hr);C(this,ka);A(this,cd,e.width),A(this,ud,e.height),P(this,vy,vC).call(this,n),r&&A(this,ka,new Map)}growOperationsCount(e){e>=u(this,hr).length&&P(this,vy,vC).call(this,e,u(this,hr))}save(e){return A(this,Vr,{__proto__:u(this,Vr)}),A(this,Gr,{__proto__:u(this,Gr),transform:{__proto__:u(this,Gr).transform},moveText:{__proto__:u(this,Gr).moveText},sameLineText:{__proto__:u(this,Gr).sameLineText},[kh]:{__proto__:u(this,Gr)[kh]}}),A(this,tt,{__proto__:u(this,tt)}),u(this,Ls).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(u(this,Vr));if(n===null)return this;A(this,Vr,n),A(this,Gr,Object.getPrototypeOf(u(this,Gr))),A(this,tt,Object.getPrototypeOf(u(this,tt)));const r=u(this,Ls).pop();return r!==void 0&&((i=Db(u(this,ka),e))==null||i.dependencies.add(r),u(this,hr)[e]=u(this,hr)[r]),this}recordOpenMarker(e){return u(this,Ls).push(e),this}getOpenMarker(){return u(this,Ls).length===0?null:u(this,Ls).at(-1)}recordCloseMarker(e){var r;const n=u(this,Ls).pop();return n!==void 0&&((r=Db(u(this,ka),e))==null||r.dependencies.add(n),u(this,hr)[e]=u(this,hr)[n]),this}beginMarkedContent(e){return u(this,ld).push(e),this}endMarkedContent(e){var r;const n=u(this,ld).pop();return n!==void 0&&((r=Db(u(this,ka),e))==null||r.dependencies.add(n),u(this,hr)[e]=u(this,hr)[n]),this}pushBaseTransform(e){return u(this,xo).push(he.multiplyByDOMMatrix(u(this,xo).at(-1),e.getTransform())),this}popBaseTransform(){return u(this,xo).length>1&&u(this,xo).pop(),this}recordSimpleData(e,n){return u(this,Vr)[e]=n,this}recordIncrementalData(e,n){return u(this,Gr)[e].push(n),this}resetIncrementalData(e,n){return u(this,Gr)[e].length=0,this}recordNamedData(e,n){return u(this,od).set(e,n),this}recordSimpleDataFromNamed(e,n,r){u(this,Vr)[e]=u(this,od).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(kh,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in u(this,Vr)&&this.recordFutureForcedDependency(n,u(this,Vr)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of u(this,Kr))this.recordFutureForcedDependency(kh,e);return this}resetBBox(e){return u(this,So)!==e&&(A(this,So,e),u(this,ot)[0]=1/0,u(this,ot)[1]=1/0,u(this,ot)[2]=-1/0,u(this,ot)[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=he.multiplyByDOMMatrix(u(this,xo).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];he.axialAlignedBoundingBox([r,s,i,a],o,l);const c=he.intersect(u(this,tt),l);return c?(u(this,tt)[0]=c[0],u(this,tt)[1]=c[1],u(this,tt)[2]=c[2],u(this,tt)[3]=c[3]):(u(this,tt)[0]=u(this,tt)[1]=1/0,u(this,tt)[2]=u(this,tt)[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=u(this,tt);if(o[0]===1/0)return this;const l=he.multiplyByDOMMatrix(u(this,xo).at(-1),n.getTransform());if(o[0]===-1/0)return he.axialAlignedBoundingBox([r,s,i,a],l,u(this,ot)),this;const c=[1/0,1/0,-1/0,-1/0];return he.axialAlignedBoundingBox([r,s,i,a],l,c),u(this,ot)[0]=Math.min(u(this,ot)[0],Math.max(c[0],o[0])),u(this,ot)[1]=Math.min(u(this,ot)[1],Math.max(c[1],o[1])),u(this,ot)[2]=Math.max(u(this,ot)[2],Math.min(c[2],o[2])),u(this,ot)[3]=Math.max(u(this,ot)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,d;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&u(this,Yf).get(r),c!==!1&&(d=[0,0,0,0],he.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&he.scaleMinMax([i,0,0,-i,s,a],d),c)))return this.recordBBox(e,n,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&c===void 0&&(c=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,u(this,Yf).set(r,c),c)?this.recordBBox(e,n,d[0],d[2],d[1],d[3]):this.recordBBox(e,n,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return u(this,ot)[0]=Math.max(0,u(this,tt)[0]),u(this,ot)[1]=Math.max(0,u(this,tt)[1]),u(this,ot)[2]=Math.min(u(this,cd),u(this,tt)[2]),u(this,ot)[3]=Math.min(u(this,ud),u(this,tt)[3]),this}getSimpleIndex(e){return u(this,Vr)[e]}recordDependencies(e,n){const r=u(this,Kr),i=u(this,Vr),s=u(this,Gr);for(const a of n)a in u(this,Vr)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return u(this,od).has(n)&&u(this,Kr).add(u(this,od).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[kh]),u(this,ka)){const r=Db(u(this,ka),e),{dependencies:i}=r;u(this,Kr).forEach(i.add,i),u(this,Ls).forEach(i.add,i),u(this,ld).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(u(this,So)===e){const r=YI(u(this,ot)[0]*256/u(this,cd)),i=YI(u(this,ot)[1]*256/u(this,ud)),s=XI(u(this,ot)[2]*256/u(this,cd)),a=XI(u(this,ot)[3]*256/u(this,ud));Ib(u(this,Ao),e,r,i,s,a);for(const o of u(this,Kr))o!==e&&Ib(u(this,Ao),o,r,i,s,a);for(const o of u(this,Ls))o!==e&&Ib(u(this,Ao),o,r,i,s,a);for(const o of u(this,ld))o!==e&&Ib(u(this,Ao),o,r,i,s,a);n||(u(this,Kr).clear(),A(this,So,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(u(this,Kr));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return u(this,So)===e&&(A(this,So,-1),u(this,tt)[0]=Math.max(u(this,tt)[0],u(this,ot)[0]),u(this,tt)[1]=Math.max(u(this,tt)[1],u(this,ot)[1]),u(this,tt)[2]=Math.min(u(this,tt)[2],u(this,ot)[2]),u(this,tt)[3]=Math.min(u(this,tt)[3],u(this,ot)[3]),n||u(this,Kr).clear()),this}_takePendingDependencies(){const e=u(this,Kr);return A(this,Kr,new Set),e}_extractOperation(e){const n=u(this,gy).get(e);return u(this,gy).delete(e),n}_pushPendingDependencies(e){for(const n of e)u(this,Kr).add(n)}take(){return u(this,Yf).clear(),new jY(u(this,hr),u(this,Ao))}takeDebugMetadata(){return u(this,ka)}}Vr=new WeakMap,Gr=new WeakMap,od=new WeakMap,Ls=new WeakMap,ld=new WeakMap,xo=new WeakMap,tt=new WeakMap,ot=new WeakMap,So=new WeakMap,Kr=new WeakMap,gy=new WeakMap,Yf=new WeakMap,cd=new WeakMap,ud=new WeakMap,Ao=new WeakMap,hr=new WeakMap,ka=new WeakMap,vy=new WeakSet,vC=function(e,n){const r=new ArrayBuffer(e*4);A(this,Ao,new Uint8ClampedArray(r)),A(this,hr,new Uint32Array(r)),n&&n.length>0?(u(this,hr).set(n),u(this,hr).fill(gC,n.length)):u(this,hr).fill(gC)};var ht,Xt,Fs,Xf,Qf;const ON=class ON{constructor(e,n,r){C(this,ht);C(this,Xt);C(this,Fs);C(this,Xf,0);C(this,Qf,0);if(e instanceof ON&&u(e,Fs)===!!r)return e;A(this,ht,e),A(this,Xt,n),A(this,Fs,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return vn(this,Qf)._++,u(this,ht).save(u(this,Xt)),this}restore(e){return u(this,Qf)>0&&(u(this,ht).restore(u(this,Xt)),vn(this,Qf)._--),this}recordOpenMarker(e){return vn(this,Xf)._++,this}getOpenMarker(){return u(this,Xf)>0?u(this,Xt):u(this,ht).getOpenMarker()}recordCloseMarker(e){return vn(this,Xf)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return u(this,ht).pushBaseTransform(e),this}popBaseTransform(){return u(this,ht).popBaseTransform(),this}recordSimpleData(e,n){return u(this,ht).recordSimpleData(e,u(this,Xt)),this}recordIncrementalData(e,n){return u(this,ht).recordIncrementalData(e,u(this,Xt)),this}resetIncrementalData(e,n){return u(this,ht).resetIncrementalData(e,u(this,Xt)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return u(this,ht).recordSimpleDataFromNamed(e,n,u(this,Xt)),this}recordFutureForcedDependency(e,n){return u(this,ht).recordFutureForcedDependency(e,u(this,Xt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return u(this,ht).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return u(this,ht).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return u(this,Fs)||u(this,ht).resetBBox(u(this,Xt)),this}recordClipBox(e,n,r,i,s,a){return u(this,Fs)||u(this,ht).recordClipBox(u(this,Xt),n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return u(this,Fs)||u(this,ht).recordBBox(u(this,Xt),n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return u(this,Fs)||u(this,ht).recordCharacterBBox(u(this,Xt),n,r,i,s,a,o),this}recordFullPageBBox(e){return u(this,Fs)||u(this,ht).recordFullPageBBox(u(this,Xt)),this}getSimpleIndex(e){return u(this,ht).getSimpleIndex(e)}recordDependencies(e,n){return u(this,ht).recordDependencies(u(this,Xt),n),this}recordNamedDependency(e,n){return u(this,ht).recordNamedDependency(u(this,Xt),n),this}recordOperation(e){return u(this,ht).recordOperation(u(this,Xt),!0),this}recordShowTextOperation(e){return u(this,ht).recordShowTextOperation(u(this,Xt),!0),this}bboxToClipBoxDropOperation(e){return u(this,Fs)||u(this,ht).bboxToClipBoxDropOperation(u(this,Xt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ht=new WeakMap,Xt=new WeakMap,Fs=new WeakMap,Xf=new WeakMap,Qf=new WeakMap;let Bx=ON;const Xi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Zn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function yC(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class CT{isModifyingCurrentTransform(){return!1}getPattern(){mt("Abstract method `getPattern` called.")}}class FY extends CT{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===Zn.STROKE||i===Zn.FILL){const a=n.current.getClippedPathBoundingBox(i,Ut(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=he.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),yC(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else yC(e,this._bbox),s=this._createGradient(e);return s}}function pE(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,d=t.data,h=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=o,o=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f);const p=(l[n]+e.offsetX)*e.scaleX,g=(l[n+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(g>=x)return;const w=c[s],_=c[s+1],E=c[s+2],k=c[a],O=c[a+1],T=c[a+2],N=c[o],I=c[o+1],D=c[o+2],M=Math.round(g),F=Math.round(x);let K,Q,Y,U,z,W,ne,re;for(let X=M;X<=F;X++){if(X<b){const ge=X<g?0:(g-X)/(g-b);K=p-(p-v)*ge,Q=w-(w-k)*ge,Y=_-(_-O)*ge,U=E-(E-T)*ge}else{let ge;X>x?ge=1:b===x?ge=0:ge=(b-X)/(b-x),K=v-(v-y)*ge,Q=k-(k-N)*ge,Y=O-(O-I)*ge,U=T-(T-D)*ge}let J;X<g?J=0:X>x?J=1:J=(g-X)/(g-x),z=p-(p-y)*J,W=w-(w-N)*J,ne=_-(_-I)*J,re=E-(E-D)*J;const ue=Math.round(Math.min(K,z)),Z=Math.round(Math.max(K,z));let le=h*X+ue*4;for(let ge=ue;ge<=Z;ge++)J=(K-ge)/(K-z),J<0?J=0:J>1&&(J=1),d[le++]=Q-(Q-W)*J|0,d[le++]=Y-(Y-ne)*J|0,d[le++]=U-(U-re)*J|0,d[le++]=255}}function BY(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case V_.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<c;h++,d++)pE(t,n,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),pE(t,n,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case V_.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)pE(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class $Y extends CT{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=c/h,g=d/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},b=h+2*2,y=f+2*2,x=r.getCanvas("mesh",b,y),w=x.context,_=w.createImageData(h,f);if(n){const k=_.data;for(let O=0,T=k.length;O<T;O+=4)k[O]=n[0],k[O+1]=n[1],k[O+2]=n[2],k[O+3]=255}for(const k of this._figures)BY(_,k,v);return w.putImageData(_,2,2),{canvas:x.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){yC(e,this._bbox);const s=new Float32Array(2);if(i===Zn.SHADING)he.singularValueDecompose2dScale(Ut(e),s);else if(this.matrix){he.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;he.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else he.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===Zn.SHADING?null:this._background,n.cachedCanvases);return i!==Zn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class UY extends CT{getPattern(){return"hotpink"}}function zY(t){switch(t[0]){case"RadialAxial":return new FY(t);case"Mesh":return new $Y(t);case"Dummy":return new UY}throw new Error(`Unknown IR type: ${t[0]}`)}const QI={COLORED:1,UNCOLORED:2},U1=class U1{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var W,ne;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),xS("TilingType: "+a);const h=r[0],f=r[1],p=r[2],g=r[3],v=p-h,b=g-f,y=new Float32Array(2);he.singularValueDecompose2dScale(this.matrix,y);const[x,w]=y;he.singularValueDecompose2dScale(this.baseTransform,y);const _=x*y[0],E=w*y[1];let k=v,O=b,T=!1,N=!1;const I=Math.ceil(c*_),D=Math.ceil(d*E),M=Math.ceil(v*_),F=Math.ceil(b*E);I>=M?k=c:T=!0,D>=F?O=d:N=!0;const K=this.getSizeAndScale(k,this.ctx.canvas.width,_),Q=this.getSizeAndScale(O,this.ctx.canvas.height,E),Y=e.cachedCanvases.getCanvas("pattern",K.size,Q.size),U=Y.context,z=l.createCanvasGraphics(U,n);if(z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(z,s,o),U.translate(-K.scale*h,-Q.scale*f),z.transform(0,K.scale,0,0,Q.scale,0,0),U.save(),(W=z.dependencyTracker)==null||W.save(),this.clipBbox(z,h,f,p,g),z.baseTransform=Ut(z.ctx),z.executeOperatorList(i),z.endDrawing(),(ne=z.dependencyTracker)==null||ne.restore(),U.restore(),T||N){const re=Y.canvas;T&&(k=c),N&&(O=d);const X=this.getSizeAndScale(k,this.ctx.canvas.width,_),J=this.getSizeAndScale(O,this.ctx.canvas.height,E),ue=X.size,Z=J.size,le=e.cachedCanvases.getCanvas("pattern-workaround",ue,Z),ge=le.context,L=T?Math.floor(v/c):0,R=N?Math.floor(b/d):0;for(let $=0;$<=L;$++)for(let G=0;G<=R;G++)ge.drawImage(re,ue*$,Z*G,ue,Z,0,0,ue,Z);return{canvas:le.canvas,scaleX:X.scale,scaleY:J.scale,offsetX:h,offsetY:f}}return{canvas:Y.canvas,scaleX:K.scale,scaleY:Q.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,n,r){const i=Math.max(U1.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),he.axialAlignedBoundingBox([n,r,i,s],Ut(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case QI.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case QI.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new cY(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==Zn.SHADING&&(a=he.transform(a,n.baseTransform),this.matrix&&(a=he.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};te(U1,"MAX_PATTERN_SIZE",3e3);let bC=U1;function HY({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=zn.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],d=r>>3,h=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let g=0;g<i;g++){for(const b=e+d;e<b;e++){const y=e<f?t[e]:255;n[p++]=y&128?c:l,n[p++]=y&64?c:l,n[p++]=y&32?c:l,n[p++]=y&16?c:l,n[p++]=y&8?c:l,n[p++]=y&4?c:l,n[p++]=y&2?c:l,n[p++]=y&1?c:l}if(h===0)continue;const v=e<f?t[e++]:255;for(let b=0;b<h;b++)n[p++]=v&1<<7-b?c:l}return{srcPos:e,destPos:p}}const JI=16,ZI=100,WY=15,eD=10,Qr=16,mE=new DOMMatrix,Oi=new Float32Array(2),Qh=new Float32Array([1/0,1/0,-1/0,-1/0]);function VY(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class GY{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Mb(t,e,n,r,i,s,a,o,l,c){const[d,h,f,p,g,v]=Ut(t);if(h===0&&f===0){const x=a*d+g,w=Math.round(x),_=o*p+v,E=Math.round(_),k=(a+l)*d+g,O=Math.abs(Math.round(k)-w)||1,T=(o+c)*p+v,N=Math.abs(Math.round(T)-E)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(p),w,E),t.drawImage(e,n,r,i,s,0,0,O,N),t.setTransform(d,h,f,p,g,v),[O,N]}if(d===0&&p===0){const x=o*f+g,w=Math.round(x),_=a*h+v,E=Math.round(_),k=(o+c)*f+g,O=Math.abs(Math.round(k)-w)||1,T=(a+l)*h+v,N=Math.abs(Math.round(T)-E)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,w,E),t.drawImage(e,n,r,i,s,0,0,N,O),t.setTransform(d,h,f,p,g,v),[N,O]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(d,h),y=Math.hypot(f,p);return[b*l,y*c]}class tD{constructor(e,n,r){te(this,"alphaIsShape",!1);te(this,"fontSize",0);te(this,"fontSizeScale",1);te(this,"textMatrix",null);te(this,"textMatrixScale",1);te(this,"fontMatrix",W_);te(this,"leading",0);te(this,"x",0);te(this,"y",0);te(this,"lineX",0);te(this,"lineY",0);te(this,"charSpacing",0);te(this,"wordSpacing",0);te(this,"textHScale",1);te(this,"textRenderingMode",Vn.FILL);te(this,"textRise",0);te(this,"fillColor","#000000");te(this,"strokeColor","#000000");te(this,"patternFill",!1);te(this,"patternStroke",!1);te(this,"fillAlpha",1);te(this,"strokeAlpha",1);te(this,"lineWidth",1);te(this,"activeSMask",null);te(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=Qh.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Zn.FILL,n=null){const r=this.minMax.slice();if(e===Zn.STROKE){n||mt("Stroke bounding box must include transform."),he.singularValueDecompose2dScale(n,Oi);const i=Oi[0]*this.lineWidth/2,s=Oi[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=he.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Qh,0)}getClippedPathBoundingBox(e=Zn.FILL,n=null){return he.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function nD(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Qr,s=(n-i)/Qr,a=i===0?s:s+1,o=t.createImageData(r,Qr);let l=0,c;const d=e.data,h=o.data;let f,p,g,v;if(e.kind===Wg.GRAYSCALE_1BPP){const b=d.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),x=y.length,w=r+7>>3,_=4294967295,E=zn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?Qr:i,c=0,p=0;p<g;p++){const k=b-l;let O=0;const T=k>w?r:k*8-7,N=T&-8;let I=0,D=0;for(;O<N;O+=8)D=d[l++],y[c++]=D&128?_:E,y[c++]=D&64?_:E,y[c++]=D&32?_:E,y[c++]=D&16?_:E,y[c++]=D&8?_:E,y[c++]=D&4?_:E,y[c++]=D&2?_:E,y[c++]=D&1?_:E;for(;O<T;O++)I===0&&(D=d[l++],I=128),y[c++]=D&I?_:E,I>>=1}for(;c<x;)y[c++]=0;t.putImageData(o,0,f*Qr)}}else if(e.kind===Wg.RGBA_32BPP){for(p=0,v=r*Qr*4,f=0;f<s;f++)h.set(d.subarray(l,l+v)),l+=v,t.putImageData(o,0,p),p+=Qr;f<a&&(v=r*i*4,h.set(d.subarray(l,l+v)),t.putImageData(o,0,p))}else if(e.kind===Wg.RGB_24BPP)for(g=Qr,v=r*g,f=0;f<a;f++){for(f>=s&&(g=i,v=r*g),c=0,p=v;p--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;t.putImageData(o,0,f*Qr)}else throw new Error(`bad image kind: ${e.kind}`)}function rD(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Qr,s=(n-i)/Qr,a=i===0?s:s+1,o=t.createImageData(r,Qr);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const f=h<s?Qr:i;({srcPos:l}=HY({src:c,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),t.putImageData(o,0,h*Qr)}}function zm(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Rb(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function iD(t,e){if(e)return!0;he.singularValueDecompose2dScale(t,Oi);const n=Math.fround(ia.pixelRatio*ml.PDF_TO_CSS_UNITS);return Oi[0]<=n&&Oi[1]<=n}const KY=["butt","round","square"],qY=["miter","round","bevel"],YY={},sD={};var aa,wC,xC,SC;const IN=class IN{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,d){C(this,aa);this.ctx=e,this.current=new tD(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new GY(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ut(this.compositeCtx))}this.ctx.save(),Rb(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ut(this.ctx)}executeOperatorList(e,n,r,i,s){var y;const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const d=c-l>eD&&typeof r=="function",h=d?Date.now()+WY:0;let f=0;const p=this.commonObjs,g=this.objs;let v,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(v=o[l],b=a[l]??null,v!==Jp.dependency)b===null?this[v](l):this[v](l,...b);else for(const x of b){(y=this.dependencyTracker)==null||y.recordNamedData(x,l);const w=x.startsWith("g_")?p:g;if(!w.has(x))return w.get(x,r),l}if(l++,l===c)return l;if(d&&++f>eD){if(Date.now()>h)return r(),l;f=0}}}endDrawing(){P(this,aa,wC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),P(this,aa,xC).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),d=this.cachedCanvases.getCanvas(c,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,o,l,0,0,f,p),e=d.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){var I,D;const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=Ut(r);let c,d,h,f;if((n.bitmap||n.data)&&n.count>1){const M=n.bitmap||n.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const F=c.get(d);if(F&&!o){const K=Math.round(Math.min(l[0],l[2])+l[4]),Q=Math.round(Math.min(l[1],l[3])+l[5]);return(I=this.dependencyTracker)==null||I.recordDependencies(e,Xi.transformAndFill),{canvas:F,offsetX:K,offsetY:Q}}h=F}h||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),rD(f.context,n));let p=he.transform(l,[1/i,0,0,-1/s,0,0]);p=he.transform(p,[1,0,0,1,0,-s]);const g=Qh.slice();he.axialAlignedBoundingBox([0,0,i,s],p,g);const[v,b,y,x]=g,w=Math.round(y-v)||1,_=Math.round(x-b)||1,E=this.cachedCanvases.getCanvas("fillCanvas",w,_),k=E.context,O=v,T=b;k.translate(-O,-T),k.transform(...p),h||(h=this._scaleImage(f.canvas,ha(k)),h=h.img,c&&o&&c.set(d,h)),k.imageSmoothingEnabled=iD(Ut(k),n.interpolate),Mb(k,h,0,0,h.width,h.height,0,0,i,s),k.globalCompositeOperation="source-in";const N=he.transform(ha(k),[1,0,0,1,-O,-T]);return k.fillStyle=o?a.getPattern(r,this,N,Zn.FILL,e):a,k.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,E.canvas)),(D=this.dependencyTracker)==null||D.recordDependencies(e,Xi.transformAndFill),{canvas:E.canvas,offsetX:Math.round(O),offsetY:Math.round(T)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=KY[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=qY[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,s,a,o;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),zm(this.suspendedCtx,a),VY(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),zm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,d,h){let f=e.canvas,p=l-d,g=c-h;if(a)if(p<0||g<0||p+r>f.width||g+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),y=b.context;y.drawImage(f,-p,-g),y.globalCompositeOperation="destination-atop",y.fillStyle=a,y.fillRect(0,0,r,i),y.globalCompositeOperation="source-over",f=b.canvas,p=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,g,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,r,i),n.clip(v),n.globalCompositeOperation="destination-in",n.drawImage(f,p,g,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&zm(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&zm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Jp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=jB(s)),he.axialAlignedBoundingBox(i,Ut(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,ha(i),Zn.STROKE,e),o){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Xi.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Zn.STROKE,Ut(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,d,h;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const f=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,ha(i),Zn.FILL,e),f){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Xi.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,Xi.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=YY}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=sD}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:d}of n)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||W_,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=r;r<JI?d=JI:r>ZI&&(d=ZI),this.current.fontSizeScale=r/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,s,a){var y,x,w,_;const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,f=d&Vn.FILL_STROKE_MASK,p=!!(d&Vn.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,v=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||p||g||v)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||g||v)){o.save(),o.translate(r,i),o.scale(h,-h),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,o,c);let E;if(f===Vn.FILL||f===Vn.FILL_STROKE)if(s){E=o.getTransform(),o.setTransform(...s);const k=P(this,aa,SC).call(this,b,E,s);o.fill(k)}else o.fill(b);if(f===Vn.STROKE||f===Vn.FILL_STROKE)if(a){E||(E=o.getTransform()),o.setTransform(...a);const{a:k,b:O,c:T,d:N}=E,I=he.inverseTransform(a),D=he.transform([k,O,T,N,0,0],I);he.singularValueDecompose2dScale(D,Oi),o.lineWidth*=Math.max(Oi[0],Oi[1])/h,o.stroke(P(this,aa,SC).call(this,b,E,a))}else o.lineWidth/=h,o.stroke(b);o.restore()}else(f===Vn.FILL||f===Vn.FILL_STROKE)&&(o.fillText(n,r,i),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(f===Vn.STROKE||f===Vn.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,Xi.stroke)),o.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ut(o),x:r,y:i,fontSize:h,path:b}),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Ie(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var T,N,I,D;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Xi.showText).resetBBox(e),this.current.textRenderingMode&Vn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(T=this.dependencyTracker)==null||T.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(N=this.dependencyTracker)==null||N.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,f=n.length,p=i.vertical,g=p?1:-1,v=i.defaultVMetrics,b=s*r.fontMatrix[0],y=r.textRenderingMode===Vn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let x,w;if(r.patternFill){a.save();const M=r.fillColor.getPattern(a,this,ha(a),Zn.FILL,e);x=Ut(a),a.restore(),a.fillStyle=M}if(r.patternStroke){a.save();const M=r.strokeColor.getPattern(a,this,ha(a),Zn.STROKE,e);w=Ut(a),a.restore(),a.strokeStyle=M}let _=r.lineWidth;const E=r.textMatrixScale;if(E===0||_===0){const M=r.textRenderingMode&Vn.FILL_STROKE_MASK;(M===Vn.STROKE||M===Vn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=E;if(o!==1&&(a.scale(o,o),_/=o),a.lineWidth=_,i.isInvalidPDFjsFont){const M=[];let F=0;for(const Q of n)M.push(Q.unicode),F+=Q.width;const K=M.join("");if(a.fillText(K,0,0),this.dependencyTracker!==null){const Q=a.measureText(K);this.dependencyTracker.recordBBox(e,this.ctx,-Q.actualBoundingBoxLeft,Q.actualBoundingBoxRight,-Q.actualBoundingBoxAscent,Q.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=F*b*h,a.restore(),this.compose();return}let k=0,O;for(O=0;O<f;++O){const M=n[O];if(typeof M=="number"){k+=g*M*s/1e3;continue}let F=!1;const K=(M.isSpace?c:0)+l,Q=M.fontChar,Y=M.accent;let U,z,W=M.width;if(p){const X=M.vmetric||v,J=-(M.vmetric?X[1]:W*.5)*b,ue=X[2]*b;W=X?-X[0]:W,U=J/o,z=(k+ue)/o}else U=k/o,z=0;let ne;if(i.remeasure&&W>0){ne=a.measureText(Q);const X=ne.width*1e3/s*o;if(W<X&&this.isFontSubpixelAAEnabled){const J=W/X;F=!0,a.save(),a.scale(J,1),U/=J}else W!==X&&(U+=(W-X)/2e3*s/o)}if(this.contentVisible&&(M.isInFont||i.missingFile)){if(y&&!Y)a.fillText(Q,U,z),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,a,ne?{bbox:null}:i,s/o,U,z,()=>ne??a.measureText(Q));else if(this.paintChar(e,Q,U,z,x,w),Y){const X=U+s*Y.offset.x/o,J=z-s*Y.offset.y/o;this.paintChar(e,Y.fontChar,X,J,x,w)}}const re=p?W*b-K*d:W*b+K*d;k+=re,F&&a.restore()}p?r.y-=k:r.x+=k*h,a.restore(),this.compose(),(D=this.dependencyTracker)==null||D.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,f=i.fontMatrix||W_,p=n.length,g=i.textRenderingMode===Vn.INVISIBLE;let v,b,y,x;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const w=this.dependencyTracker;for(this.dependencyTracker=w?new Bx(w,e):null,v=0;v<p;++v){if(b=n[v],typeof b=="number"){x=l*b*a/1e3,this.ctx.translate(x,0),i.x+=x*h;continue}const _=(b.isSpace?d:0)+c,E=s.charProcOperatorList[b.operatorListId];E?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(E),this.restore()):Ne(`Type3 character "${b.operatorListId}" is not available.`);const k=[b.width,0];he.applyTransform(k,f),y=k[0]*a+_,r.translate(y,0),i.x+=y*h}r.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Ut(this.ctx),s={createCanvasGraphics:(a,o)=>new IN(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Bx(this.dependencyTracker,o,!0):null)};r=new bC(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=zY(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,ha(r),Zn.SHADING,e);const s=ha(r);if(s){const{width:o,height:l}=r.canvas,c=Qh.slice();he.axialAlignedBoundingBox([0,0,o,l],s,c);const[d,h,f,p]=c;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Xi.transform).recordDependencies(e,Xi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){mt("Should not call beginInlineImage")}beginImageData(){mt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Ut(this.ctx),r)){he.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||xS("TODO: Support non-isolated groups."),n.knockout&&Ne("Knockout groups not supported.");const i=Ut(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=Qh.slice();he.axialAlignedBoundingBox(n.bbox,Ut(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=he.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,c,d),p=f.context;p.translate(-o,-l),p.transform(...i);let g=new Path2D;const[v,b,y,x]=n.bbox;if(g.rect(v,b,y-v,x-b),n.matrix){const _=new Path2D;_.addPath(g,new DOMMatrix(n.matrix)),g=_}p.clip(g),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),zm(r,p),this.ctx=p,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Ut(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=Qh.slice();he.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,s,a){if(P(this,aa,wC).call(this),Rb(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,he.singularValueDecompose2dScale(Ut(this.ctx),Oi);const{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Oi[0],0,0,-Oi[1],0,l*Oi[1]),Rb(this.ctx)}else{Rb(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new tD(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),P(this,aa,xC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){var h,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Ut(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let g=0,v=o.length;g<v;g+=2){const b=he.transform(c,[r,i,s,a,o[g],o[g+1]]);l.drawImage(d.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Xi.transformAndFill);for(const c of n){const{data:d,width:h,height:f,transform:p}=c,g=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=g.context;v.save();const b=this.getObject(e,d,c);rD(v,b),v.globalCompositeOperation="source-in",v.fillStyle=s?i.getPattern(v,this,ha(r),Zn.FILL,e):i,v.fillRect(0,0,h,f),v.restore(),r.save(),r.transform(...p),r.scale(1,-1),Mb(r,g.canvas,0,0,h,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Ne("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let d=0,h=s.length;d<h;d+=2)c.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;nD(h,n),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,ha(s));s.imageSmoothingEnabled=iD(Ut(s),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Xi.imageXObject).recordOperation(e),Mb(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const c=n.width,d=n.height,f=this.cachedCanvases.getCanvas("inlineImage",c,d).context;nD(f,n),s=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),Mb(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Xi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===sD?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ut(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),mE.a=1/s,mE.d=1/a;const l=new Path2D;if(l.addPath(e,mE),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(d=>d/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};aa=new WeakSet,wC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},SC=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let pf=IN;for(const t in Jp)pf.prototype[t]!==void 0&&(pf.prototype[Jp[t]]=pf.prototype[t]);var yy,by;class $n{static get workerPort(){return u(this,yy)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,yy,e)}static get workerSrc(){return u(this,by)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,by,e)}}yy=new WeakMap,by=new WeakMap,C($n,yy,null),C($n,by,"");var Jf,wy;class XY{constructor({parsedData:e,rawData:n}){C(this,Jf);C(this,wy);A(this,Jf,e),A(this,wy,n)}getRaw(){return u(this,wy)}get(e){return u(this,Jf).get(e)??null}[Symbol.iterator](){return u(this,Jf).entries()}}Jf=new WeakMap,wy=new WeakMap;const Rh=Symbol("INTERNAL");var xy,Sy,Ay,Zf;class QY{constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){C(this,xy,!1);C(this,Sy,!1);C(this,Ay,!1);C(this,Zf,!0);A(this,xy,!!(e&Ti.DISPLAY)),A(this,Sy,!!(e&Ti.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(u(this,Ay))return u(this,Zf);if(!u(this,Zf))return!1;const{print:e,view:n}=this.usage;return u(this,xy)?(n==null?void 0:n.viewState)!=="OFF":u(this,Sy)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Rh&&mt("Internal method `_setVisible` called."),A(this,Ay,r),A(this,Zf,n)}}xy=new WeakMap,Sy=new WeakMap,Ay=new WeakMap,Zf=new WeakMap;var dc,lt,ep,tp,Ey,AC;class JY{constructor(e,n=Ti.DISPLAY){C(this,Ey);C(this,dc,null);C(this,lt,new Map);C(this,ep,null);C(this,tp,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,tp,e.order);for(const r of e.groups)u(this,lt).set(r.id,new QY(n,r));if(e.baseState==="OFF")for(const r of u(this,lt).values())r._setVisible(Rh,!1);for(const r of e.on)u(this,lt).get(r)._setVisible(Rh,!0);for(const r of e.off)u(this,lt).get(r)._setVisible(Rh,!1);A(this,ep,this.getHash())}}isVisible(e){if(u(this,lt).size===0)return!0;if(!e)return xS("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,lt).has(e.id)?u(this,lt).get(e.id).visible:(Ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return P(this,Ey,AC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!u(this,lt).has(n))return Ne(`Optional content group not found: ${n}`),!0;if(u(this,lt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!u(this,lt).has(n))return Ne(`Optional content group not found: ${n}`),!0;if(!u(this,lt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!u(this,lt).has(n))return Ne(`Optional content group not found: ${n}`),!0;if(!u(this,lt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!u(this,lt).has(n))return Ne(`Optional content group not found: ${n}`),!0;if(u(this,lt).get(n).visible)return!1}return!0}return Ne(`Unknown optional content policy ${e.policy}.`),!0}return Ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var s;const i=u(this,lt).get(e);if(!i){Ne(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=u(this,lt).get(o))==null||s._setVisible(Rh,!1,!0));i._setVisible(Rh,!!n,!0),A(this,dc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=u(this,lt).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}A(this,dc,null)}get hasInitialVisibility(){return u(this,ep)===null||this.getHash()===u(this,ep)}getOrder(){return u(this,lt).size?u(this,tp)?u(this,tp).slice():[...u(this,lt).keys()]:null}getGroup(e){return u(this,lt).get(e)||null}getHash(){if(u(this,dc)!==null)return u(this,dc);const e=new p$;for(const[n,r]of u(this,lt))e.update(`${n}:${r.visible}`);return A(this,dc,e.hexdigest())}[Symbol.iterator](){return u(this,lt).entries()}}dc=new WeakMap,lt=new WeakMap,ep=new WeakMap,tp=new WeakMap,Ey=new WeakSet,AC=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=P(this,Ey,AC).call(this,s);else if(u(this,lt).has(s))a=u(this,lt).get(s).visible;else return Ne(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class ZY{constructor(e,{disableRange:n=!1,disableStream:r=!1}){He(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});He(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){He(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new eX(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new tX(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class eX{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=AS(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class tX{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function nX(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let d=o(n);return d=unescape(d),d=l(d),d=c(d),s(d)}if(n=a(t),n){const d=c(n);return s(d)}if(n=r("filename","i").exec(t),n){n=n[1];let d=o(n);return d=c(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=R0(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,b,y]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,y]}const g=[];for(let v=0;v<h.length&&v in h;++v){let[b,y]=h[v];y=o(y),b&&(y=unescape(y),v===0&&(y=l(y))),g.push(y)}return g.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return i(f,g)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function k$(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function ES(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function P$({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function T$(t){const e=t.get("Content-Disposition");if(e){let n=nX(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(AS(n))return n}return null}function B0(t,e){return new pv(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function N$(t){return t===200||t===206}function O$(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function I$(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ne(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class rX{constructor(e){te(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=k$(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return He(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new iX(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new sX(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iX{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,O$(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=ES(s.url),!N$(s.status))throw B0(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=P$({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=T$(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new pl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:I$(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class sX{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,O$(s,this._withCredentials,this._abortController)).then(o=>{const l=ES(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!N$(o.status))throw B0(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:I$(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const gE=200,vE=206;function aX(t){const e=t.response;return typeof e!="string"?e:R0(e).buffer}class oX{constructor({url:e,httpHeaders:n,withCredentials:r}){te(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=k$(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=vE):i.expectedStatus=gE,n.responseType="arraybuffer",He(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||gE;if(!(s===gE&&r.expectedStatus===vE)&&s!==r.expectedStatus){r.onError(i.status);return}const o=aX(i);if(s===vE){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(Ne('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class lX{constructor(e){this._source=e,this._manager=new oX(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return He(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cX(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new uX(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class cX{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=ES(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=P$({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=T$(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=B0(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class uX{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=ES((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=B0(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const dX=/^[a-z][a-z0-9\-+.]+:/i;function hX(t){if(dX.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class fX{constructor(e){this.source=e,this.url=hX(e.url),He(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return He(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new pX(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new mX(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class pX{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=B0(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new pl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class mX{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Hm=Symbol("INITIAL_DATA");var mi,_y,EC;class D${constructor(){C(this,_y);C(this,mi,Object.create(null))}get(e,n=null){if(n){const i=P(this,_y,EC).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=u(this,mi)[e];if(!r||r.data===Hm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=u(this,mi)[e];return!!n&&n.data!==Hm}delete(e){const n=u(this,mi)[e];return!n||n.data===Hm?!1:(delete u(this,mi)[e],!0)}resolve(e,n=null){const r=P(this,_y,EC).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in u(this,mi)){const{data:r}=u(this,mi)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}A(this,mi,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,mi)){const{data:n}=u(this,mi)[e];n!==Hm&&(yield[e,n])}}}mi=new WeakMap,_y=new WeakSet,EC=function(e){var n;return(n=u(this,mi))[e]||(n[e]={...Promise.withResolvers(),data:Hm})};const gX=1e5,aD=30;var KR,hc,qr,Cy,ky,dd,Eo,Py,Ty,hd,np,rp,fc,ip,Ny,sp,fd,Oy,Iy,ap,pd,Dy,pc,op,Sl,M$,R$,_C,$i,kw,CC,j$,L$;const yn=class yn{constructor({textContentSource:e,container:n,viewport:r}){C(this,Sl);C(this,hc,Promise.withResolvers());C(this,qr,null);C(this,Cy,!1);C(this,ky,!!((KR=globalThis.FontInspector)!=null&&KR.enabled));C(this,dd,null);C(this,Eo,null);C(this,Py,0);C(this,Ty,0);C(this,hd,null);C(this,np,null);C(this,rp,0);C(this,fc,0);C(this,ip,Object.create(null));C(this,Ny,[]);C(this,sp,null);C(this,fd,[]);C(this,Oy,new WeakMap);C(this,Iy,null);var l;if(e instanceof ReadableStream)A(this,sp,e);else if(typeof e=="object")A(this,sp,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,qr,A(this,np,n)),A(this,fc,r.scale*ia.pixelRatio),A(this,rp,r.rotation),A(this,Eo,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;A(this,Iy,[1,0,0,-1,-a,o+s]),A(this,Ty,i),A(this,Py,s),P(l=yn,$i,j$).call(l),Jc(n,r),u(this,hc).promise.finally(()=>{u(yn,op).delete(this),A(this,Eo,null),A(this,ip,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=zn.platform;return Ie(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,hd).read().then(({value:n,done:r})=>{if(r){u(this,hc).resolve();return}u(this,dd)??A(this,dd,n.lang),Object.assign(u(this,ip),n.styles),P(this,Sl,M$).call(this,n.items),e()},u(this,hc).reject)};return A(this,hd,u(this,sp).getReader()),u(yn,op).add(this),e(),u(this,hc).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*ia.pixelRatio,i=e.rotation;if(i!==u(this,rp)&&(n==null||n(),A(this,rp,i),Jc(u(this,np),{rotation:i})),r!==u(this,fc)){n==null||n(),A(this,fc,r);const a={div:null,properties:null,ctx:P(s=yn,$i,kw).call(s,u(this,dd))};for(const o of u(this,fd))a.properties=u(this,Oy).get(o),a.div=o,P(this,Sl,_C).call(this,a)}}cancel(){var n;const e=new pl("TextLayer task cancelled.");(n=u(this,hd))==null||n.cancel(e).catch(()=>{}),A(this,hd,null),u(this,hc).reject(e)}get textDivs(){return u(this,fd)}get textContentItemsStr(){return u(this,Ny)}static cleanup(){if(!(u(this,op).size>0)){u(this,ap).clear();for(const{canvas:e}of u(this,pd).values())e.remove();u(this,pd).clear()}}};hc=new WeakMap,qr=new WeakMap,Cy=new WeakMap,ky=new WeakMap,dd=new WeakMap,Eo=new WeakMap,Py=new WeakMap,Ty=new WeakMap,hd=new WeakMap,np=new WeakMap,rp=new WeakMap,fc=new WeakMap,ip=new WeakMap,Ny=new WeakMap,sp=new WeakMap,fd=new WeakMap,Oy=new WeakMap,Iy=new WeakMap,ap=new WeakMap,pd=new WeakMap,Dy=new WeakMap,pc=new WeakMap,op=new WeakMap,Sl=new WeakSet,M$=function(e){var i,s;if(u(this,Cy))return;(s=u(this,Eo)).ctx??(s.ctx=P(i=yn,$i,kw).call(i,u(this,dd)));const n=u(this,fd),r=u(this,Ny);for(const a of e){if(n.length>gX){Ne("Ignoring additional textDivs for performance reasons."),A(this,Cy,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,qr);A(this,qr,document.createElement("span")),u(this,qr).classList.add("markedContent"),a.id&&u(this,qr).setAttribute("id",`${a.id}`),o.append(u(this,qr))}else a.type==="endMarkedContent"&&A(this,qr,u(this,qr).parentNode);continue}r.push(a.str),P(this,Sl,R$).call(this,a)}},R$=function(e){var v;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,fd).push(n);const i=he.transform(u(this,Iy),e.transform);let s=Math.atan2(i[1],i[0]);const a=u(this,ip)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=u(this,ky)&&a.fontSubstitution||a.fontFamily;o=yn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*P(v=yn,$i,L$).call(v,o,a,u(this,dd));let d,h;s===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=n.style;u(this,qr)===u(this,np)?(p.left=`${(100*d/u(this,Ty)).toFixed(2)}%`,p.top=`${(100*h/u(this,Py)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(u(yn,pc)*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,u(this,ky)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=a.vertical?e.height:e.width),u(this,Oy).set(n,r),u(this,Eo).div=n,u(this,Eo).properties=r,P(this,Sl,_C).call(this,u(this,Eo)),r.hasText&&u(this,qr).append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),u(this,qr).append(b)}},_C=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(u(yn,pc)>1&&(a=`scale(${1/u(yn,pc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=r;P(o=yn,$i,CC).call(o,i,d*u(this,fc),l);const{width:h}=i.measureText(n.textContent);h>0&&(a=`scaleX(${c*u(this,fc)/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},$i=new WeakSet,kw=function(e=null){let n=u(this,pd).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,pd).set(e,n),u(this,Dy).set(n,{size:0,family:""})}return n},CC=function(e,n,r){const i=u(this,Dy).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},j$=function(){if(u(this,pc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,pc,e.getBoundingClientRect().height),e.remove()},L$=function(e,n,r){const i=u(this,ap).get(e);if(i)return i;const s=P(this,$i,kw).call(this,r);s.canvas.width=s.canvas.height=aD,P(this,$i,CC).call(this,s,aD,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(zn.platform.isFirefox&&Ne("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),u(this,ap).set(e,c),c},C(yn,$i),C(yn,ap,new Map),C(yn,pd,new Map),C(yn,Dy,new WeakMap),C(yn,pc,null),C(yn,op,new Set);let Zp=yn;const vX=100;function $x(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new kC,{docId:n}=e,r=t.url?_Y(t.url):null,i=t.data?CY(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof kT?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let d=t.worker instanceof em?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!L0(t.docBaseUrl)?t.docBaseUrl:null,p=Nb(t.cMapUrl),g=t.cMapPacked!==!1,v=t.CMapReaderFactory||(Pr?DY:GI),b=Nb(t.iccUrl),y=Nb(t.standardFontDataUrl),x=t.StandardFontDataFactory||(Pr?MY:KI),w=Nb(t.wasmUrl),_=t.WasmFactory||(Pr?RY:qI),E=t.stopAtErrors!==!0,k=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,O=t.isEvalSupported!==!1,T=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Pr,N=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Pr&&(zn.platform.isFirefox||!globalThis.chrome),I=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,D=typeof t.disableFontFace=="boolean"?t.disableFontFace:Pr,M=t.fontExtraProperties===!0,F=t.enableXfa===!0,K=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,Y=t.disableStream===!0,U=t.disableAutoFetch===!0,z=t.pdfBug===!0,W=t.CanvasFactory||(Pr?IY:TY),ne=t.FilterFactory||(Pr?OY:NY),re=t.enableHWA===!0,X=t.useWasm!==!1,J=l?l.length:t.length??NaN,ue=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Pr&&!D,Z=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(v===GI&&x===KI&&_===qI&&p&&y&&w&&ag(p,document.baseURI)&&ag(y,document.baseURI)&&ag(w,document.baseURI)),le=null;aY(h);const ge={canvasFactory:new W({ownerDocument:K,enableHWA:re}),filterFactory:new ne({docId:n,ownerDocument:K}),cMapReaderFactory:Z?null:new v({baseUrl:p,isCompressed:g}),standardFontDataFactory:Z?null:new x({baseUrl:y}),wasmFactory:Z?null:new _({baseUrl:w})};d||(d=em.create({verbosity:h,port:$n.workerPort}),e._worker=d);const L={docId:n,apiVersion:"5.4.394",data:i,password:o,disableAutoFetch:U,rangeChunkSize:c,length:J,docBaseUrl:f,enableXfa:F,evaluatorOptions:{maxImageSize:k,disableFontFace:D,ignoreErrors:E,isEvalSupported:O,isOffscreenCanvasSupported:T,isImageDecoderSupported:N,canvasMaxAreaInBytes:I,fontExtraProperties:M,useSystemFonts:ue,useWasm:X,useWorkerFetch:Z,cMapUrl:p,iccUrl:b,standardFontDataUrl:y,wasmUrl:w}},R={ownerDocument:K,pdfBug:z,styleElement:le,loadingParams:{disableAutoFetch:U,enableXfa:F}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const $=d.messageHandler.sendWithPromise("GetDocRequest",L,i?[i.buffer]:null);let G;if(l)G=new ZY(l,{disableRange:Q,disableStream:Y});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const B=ag(r)?rX:Pr?fX:lX;G=new B({url:r,length:J,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:Q,disableStream:Y})}return $.then(B=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ae=new pg(n,B,d.port),se=new wX(ae,e,G,R,ge,re);e._transport=se,ae.send("Ready",null)})}).catch(e._capability.reject),e}var z1;const H1=class H1{constructor(){te(this,"_capability",Promise.withResolvers());te(this,"_transport",null);te(this,"_worker",null);te(this,"docId",`d${vn(H1,z1)._++}`);te(this,"destroyed",!1);te(this,"onPassword",null);te(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};z1=new WeakMap,C(H1,z1,0);let kC=H1;var md,My,Ry,jy,Ly;class kT{constructor(e,n,r=!1,i=null){C(this,md,Promise.withResolvers());C(this,My,[]);C(this,Ry,[]);C(this,jy,[]);C(this,Ly,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){u(this,Ly).push(e)}addProgressListener(e){u(this,jy).push(e)}addProgressiveReadListener(e){u(this,Ry).push(e)}addProgressiveDoneListener(e){u(this,My).push(e)}onDataRange(e,n){for(const r of u(this,Ly))r(e,n)}onDataProgress(e,n){u(this,md).promise.then(()=>{for(const r of u(this,jy))r(e,n)})}onDataProgressiveRead(e){u(this,md).promise.then(()=>{for(const n of u(this,Ry))n(e)})}onDataProgressiveDone(){u(this,md).promise.then(()=>{for(const e of u(this,My))e()})}transportReady(){u(this,md).resolve()}requestDataRange(e,n){mt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}md=new WeakMap,My=new WeakMap,Ry=new WeakMap,jy=new WeakMap,Ly=new WeakMap;class yX{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _o,gd,bg;class bX{constructor(e,n,r,i=!1){C(this,gd);C(this,_o,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new BI:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new D$,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new j0({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=zo.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:g=null}){var N,I,D;(N=this._stats)==null||N.time("Overall");const v=this._transport.getRenderingIntent(i,s,h,f),{renderingIntent:b,cacheKey:y}=v;A(this,_o,!1),l||(l=this._transport.getOptionalContentConfig(b));let x=this._intentStates.get(y);x||(x=Object.create(null),this._intentStates.set(y,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const w=!!(b&Ti.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(I=this._stats)==null||I.time("Page Request"),this._pumpOperatorList(v));const _=!!(this._pdfBug&&((D=globalThis.StepperManager)!=null&&D.enabled)),E=!this.recordedBBoxes&&(p||_),k=M=>{var F,K;if(x.renderTasks.delete(O),E){const Q=(F=O.gfx)==null?void 0:F.dependencyTracker.take();Q&&(O.stepper&&O.stepper.setOperatorBBoxes(Q,O.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=Q))}w&&A(this,_o,!0),P(this,gd,bg).call(this),M?(O.capability.reject(M),this._abortOperatorList({intentState:x,reason:M instanceof Error?M:new Error(M)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(K=globalThis.Stats)!=null&&K.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new PC({callback:k,params:{canvas:n,canvasContext:e,dependencyTracker:E?new LY(n,x.operatorList.length,_):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:g});(x.renderTasks||(x.renderTasks=new Set)).add(O);const T=O.task;return Promise.all([x.displayReadyCapability.promise,l]).then(([M,F])=>{var K;if(this.destroyed){k();return}if((K=this._stats)==null||K.time("Rendering"),!(F.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:M,optionalContentConfig:F}),O.operatorListChanged()}).catch(k),T}getOperatorList({intent:e="display",annotationMode:n=zo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>mv.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),A(this,_o,!1),Promise.all(e)}cleanup(e=!1){A(this,_o,!0);const n=P(this,gd,bg).call(this);return e&&n&&this._stats&&(this._stats=new BI),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&P(this,gd,bg).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();P(this,gd,bg).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof SS){let i=vX;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new pl(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}_o=new WeakMap,gd=new WeakSet,bg=function(){if(!u(this,_o)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,_o,!1),!0};var mc,Bs,Co,vd,W1,yd,bd,Ir,Pw,F$,B$,wg,lp,Tw;const It=class It{constructor({name:e=null,port:n=null,verbosity:r=oY()}={}){C(this,Ir);C(this,mc,Promise.withResolvers());C(this,Bs,null);C(this,Co,null);C(this,vd,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(u(It,bd).has(n))throw new Error("Cannot use more than one PDFWorker per port.");u(It,bd).set(n,this),P(this,Ir,F$).call(this,n)}else P(this,Ir,B$).call(this)}get promise(){return u(this,mc).promise}get port(){return u(this,Co)}get messageHandler(){return u(this,Bs)}destroy(){var e,n;this.destroyed=!0,(e=u(this,vd))==null||e.terminate(),A(this,vd,null),u(It,bd).delete(u(this,Co)),A(this,Co,null),(n=u(this,Bs))==null||n.destroy(),A(this,Bs,null)}static create(e){const n=u(this,bd).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new It(e)}static get workerSrc(){if($n.workerSrc)return $n.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>u(this,lp,Tw)?u(this,lp,Tw):(await import(this.workerSrc)).WorkerMessageHandler)())}};mc=new WeakMap,Bs=new WeakMap,Co=new WeakMap,vd=new WeakMap,W1=new WeakMap,yd=new WeakMap,bd=new WeakMap,Ir=new WeakSet,Pw=function(){u(this,mc).resolve(),u(this,Bs).send("configure",{verbosity:this.verbosity})},F$=function(e){A(this,Co,e),A(this,Bs,new pg("main","worker",e)),u(this,Bs).on("ready",()=>{}),P(this,Ir,Pw).call(this)},B$=function(){if(u(It,yd)||u(It,lp,Tw)){P(this,Ir,wg).call(this);return}let{workerSrc:e}=It;try{It._isSameOrigin(window.location,e)||(e=It._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new pg("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?u(this,mc).reject(new Error("Worker was destroyed")):P(this,Ir,wg).call(this)},s=new AbortController;n.addEventListener("error",()=>{u(this,vd)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}A(this,Bs,r),A(this,Co,n),A(this,vd,n),P(this,Ir,Pw).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{P(this,Ir,wg).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{xS("The worker has been disabled.")}P(this,Ir,wg).call(this)},wg=function(){u(It,yd)||(Ne("Setting up fake worker."),A(It,yd,!0)),It._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){u(this,mc).reject(new Error("Worker was destroyed"));return}const n=new PY;A(this,Co,n);const r=`fake${vn(It,W1)._++}`,i=new pg(r+"_worker",r,n);e.setup(i,n),A(this,Bs,new pg(r,r+"_worker",n)),P(this,Ir,Pw).call(this)}).catch(e=>{u(this,mc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},lp=new WeakSet,Tw=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(It,lp),C(It,W1,0),C(It,yd,!1),C(It,bd,new WeakMap),Pr&&(A(It,yd,!0),$n.workerSrc||($n.workerSrc="./pdf.worker.mjs")),It._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},It._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},It.fromPort=e=>{if(gY("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return It.create(e)};let em=It;var ko,Pa,cp,up,Po,wd,xg;class wX{constructor(e,n,r,i,s,a){C(this,wd);C(this,ko,new Map);C(this,Pa,new Map);C(this,cp,new Map);C(this,up,new Map);C(this,Po,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new D$,this.fontLoader=new AY({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Ie(this,"annotationStorage",new ET)}getRenderingIntent(e,n=zo.ENABLE,r=null,i=!1,s=!1){let a=Ti.DISPLAY,o=uC;switch(e){case"any":a=Ti.ANY;break;case"display":break;case"print":a=Ti.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ti.PRINT&&r instanceof g$?r:this.annotationStorage;switch(n){case zo.DISABLE:a+=Ti.ANNOTATIONS_DISABLE;break;case zo.ENABLE:break;case zo.ENABLE_FORMS:a+=Ti.ANNOTATIONS_FORMS;break;case zo.ENABLE_STORAGE:a+=Ti.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Ti.IS_EDITING),s&&(a+=Ti.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=u(this,Po))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of u(this,Pa).values())e.push(i._destroy());u(this,Pa).clear(),u(this,cp).clear(),u(this,up).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),u(this,ko).clear(),this.filterFactory.destroy(),Zp.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new pl("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{He(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}He(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{He(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}He(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new yX(r,this))}),e.on("DocException",r=>{n._capability.reject(zr(r))}),e.on("PasswordRequest",r=>{A(this,Po,Promise.withResolvers());try{if(!n.onPassword)throw zr(r);const i=s=>{s instanceof Error?u(this,Po).reject(s):u(this,Po).resolve({password:s})};n.onPassword(i,r.code)}catch(i){u(this,Po).reject(i)}return u(this,Po).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;u(this,Pa).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;Ne(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const o=new dC(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,c=new EY(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:d}=s;He(d,"The imageRef must be defined.");for(const f of u(this,Pa).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===d)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new hC(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=u(this,Pa).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=u(this,cp).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&u(this,up).set(s.refStr,e);const a=new bX(n,s,this,this._params.pdfBug);return u(this,Pa).set(n,a),a});return u(this,cp).set(n,i),i}getPageIndex(e){return fC(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return P(this,wd,xg).call(this,"GetFieldObjects")}hasJSActions(){return P(this,wd,xg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return P(this,wd,xg).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return P(this,wd,xg).call(this,"GetOptionalContentConfig").then(n=>new JY(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=u(this,ko).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new XY(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,ko).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of u(this,Pa).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,ko).clear(),this.filterFactory.destroy(!0),Zp.cleanup()}}cachedPageNumber(e){if(!fC(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,up).get(n)??null}}ko=new WeakMap,Pa=new WeakMap,cp=new WeakMap,up=new WeakMap,Po=new WeakMap,wd=new WeakSet,xg=function(e,n=null){const r=u(this,ko).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return u(this,ko).set(e,i),i};var gc;class xX{constructor(e){C(this,gc,null);te(this,"onContinue",null);te(this,"onError",null);A(this,gc,e)}get promise(){return u(this,gc).capability.promise}cancel(e=0){u(this,gc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,gc).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=u(this,gc);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}gc=new WeakMap;var vc,xd;const _u=class _u{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:g=null}){C(this,vc,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xX(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(u(_u,xd).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(_u,xd).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new pf(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),u(this,vc)&&(window.cancelAnimationFrame(u(this,vc)),A(this,vc,null)),u(_u,xd).delete(this._canvas),e||(e=new SS(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,vc,window.requestAnimationFrame(()=>{A(this,vc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(_u,xd).delete(this._canvas),this.callback())))}};vc=new WeakMap,xd=new WeakMap,C(_u,xd,new WeakSet);let PC=_u;const PT="5.4.394",$$="2cc809ade";var gi,Sd,dp,xn,Fy,hp,To,By,yc,$s,$y,ct,TC,NC,OC,yu,U$,Ml;const Hr=class Hr{constructor({editor:e=null,uiManager:n=null}){C(this,ct);C(this,gi,null);C(this,Sd,null);C(this,dp);C(this,xn,null);C(this,Fy,!1);C(this,hp,!1);C(this,To,null);C(this,By);C(this,yc,null);C(this,$s,null);var r,i;e?(A(this,hp,!1),A(this,To,e)):A(this,hp,!0),A(this,$s,(e==null?void 0:e._uiManager)||n),A(this,By,u(this,$s)._eventBus),A(this,dp,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=u(this,$s))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),u(Hr,$y)||A(Hr,$y,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ie(this,"_keyboardManager",new F0([[["Escape","mac+Escape"],Hr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hr.prototype._moveToPrevious],[["Home","mac+Home"],Hr.prototype._moveToBeginning],[["End","mac+End"],Hr.prototype._moveToEnd]]))}renderButton(){const e=A(this,gi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",u(this,To)&&(e.ariaControls=`${u(this,To).id}_colorpicker_dropdown`);const n=u(this,$s)._signal;e.addEventListener("click",P(this,ct,yu).bind(this),{signal:n}),e.addEventListener("keydown",P(this,ct,OC).bind(this),{signal:n});const r=A(this,Sd,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=u(this,dp),e.append(r),e}renderMainDropdown(){const e=A(this,xn,P(this,ct,TC).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===u(this,gi)){P(this,ct,yu).call(this,e);return}const n=e.target.getAttribute("data-color");n&&P(this,ct,NC).call(this,n,e)}_moveToNext(e){var n,r;if(!u(this,ct,Ml)){P(this,ct,yu).call(this,e);return}if(e.target===u(this,gi)){(n=u(this,xn).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=u(this,xn))==null?void 0:n.firstChild)||e.target===u(this,gi)){u(this,ct,Ml)&&this._hideDropdownFromKeyboard();return}u(this,ct,Ml)||P(this,ct,yu).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!u(this,ct,Ml)){P(this,ct,yu).call(this,e);return}(n=u(this,xn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!u(this,ct,Ml)){P(this,ct,yu).call(this,e);return}(n=u(this,xn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=u(this,xn))==null||e.classList.add("hidden"),u(this,gi).ariaExpanded="false",(n=u(this,yc))==null||n.abort(),A(this,yc,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,hp)){if(!u(this,ct,Ml)){(e=u(this,To))==null||e.unselect();return}this.hideDropdown(),u(this,gi).focus({preventScroll:!0,focusVisible:u(this,Fy)})}}updateColor(e){if(u(this,Sd)&&(u(this,Sd).style.backgroundColor=e),!u(this,xn))return;const n=u(this,$s).highlightColors.values();for(const r of u(this,xn).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=u(this,gi))==null||e.remove(),A(this,gi,null),A(this,Sd,null),(n=u(this,xn))==null||n.remove(),A(this,xn,null)}};gi=new WeakMap,Sd=new WeakMap,dp=new WeakMap,xn=new WeakMap,Fy=new WeakMap,hp=new WeakMap,To=new WeakMap,By=new WeakMap,yc=new WeakMap,$s=new WeakMap,$y=new WeakMap,ct=new WeakSet,TC=function(){const e=document.createElement("div"),n=u(this,$s)._signal;e.addEventListener("contextmenu",zi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),u(this,To)&&(e.id=`${u(this,To).id}_colorpicker_dropdown`);for(const[r,i]of u(this,$s).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",u(Hr,$y)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===u(this,dp),s.addEventListener("click",P(this,ct,NC).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",P(this,ct,OC).bind(this),{signal:n}),e},NC=function(e,n){n.stopPropagation(),u(this,By).dispatch("switchannotationeditorparams",{source:this,type:ze.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},OC=function(e){Hr._keyboardManager.exec(this,e)},yu=function(e){if(u(this,ct,Ml)){this.hideDropdown();return}if(A(this,Fy,e.detail===0),u(this,yc)||(A(this,yc,new AbortController),window.addEventListener("pointerdown",P(this,ct,U$).bind(this),{signal:u(this,$s).combinedSignal(u(this,yc))})),u(this,gi).ariaExpanded="true",u(this,xn)){u(this,xn).classList.remove("hidden");return}const n=A(this,xn,P(this,ct,TC).call(this));u(this,gi).append(n)},U$=function(e){var n;(n=u(this,xn))!=null&&n.contains(e.target)||this.hideDropdown()},Ml=function(){return u(this,xn)&&!u(this,xn).classList.contains("hidden")},C(Hr,$y,null);let yv=Hr;var Ta,Uy,fp,zy;const Cu=class Cu{constructor(e){C(this,Ta,null);C(this,Uy,null);C(this,fp,null);A(this,Uy,e),A(this,fp,e._uiManager),u(Cu,zy)||A(Cu,zy,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(u(this,Ta))return u(this,Ta);const{editorType:e,colorType:n,color:r}=u(this,Uy),i=A(this,Ta,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",u(Cu,zy)[e]),i.addEventListener("input",()=>{u(this,fp).updateParams(n,i.value)},{signal:u(this,fp)._signal}),i}update(e){u(this,Ta)&&(u(this,Ta).value=e)}destroy(){var e;(e=u(this,Ta))==null||e.remove(),A(this,Ta,null)}hideDropdown(){}};Ta=new WeakMap,Uy=new WeakMap,fp=new WeakMap,zy=new WeakMap,C(Cu,zy,null);let Ux=Cu;function oD(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Wm(t){return Math.max(0,Math.min(255,255*t))}class lD{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Wm(e),[e,e,e]}static G_HTML([e]){const n=oD(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Wm)}static RGB_HTML(e){return`#${e.map(oD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Wm(1-Math.min(1,e+i)),Wm(1-Math.min(1,r+i)),Wm(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class SX{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){mt("Abstract method `_createSVG` called.")}}class bv extends SX{_createSVG(e){return document.createElementNS(Za,e)}}const AX=9,lh=new WeakSet,EX=new Date().getTimezoneOffset()*60*1e3;class yE{static create(e){switch(e.data.annotationType){case nn.LINK:return new TT(e);case nn.TEXT:return new CX(e);case nn.WIDGET:switch(e.data.fieldType){case"Tx":return new kX(e);case"Btn":return e.data.radioButton?new W$(e):e.data.checkBox?new TX(e):new NX(e);case"Ch":return new OX(e);case"Sig":return new PX(e)}return new xh(e);case nn.POPUP:return new DC(e);case nn.FREETEXT:return new Y$(e);case nn.LINE:return new DX(e);case nn.SQUARE:return new MX(e);case nn.CIRCLE:return new RX(e);case nn.POLYLINE:return new X$(e);case nn.CARET:return new LX(e);case nn.INK:return new NT(e);case nn.POLYGON:return new jX(e);case nn.HIGHLIGHT:return new Q$(e);case nn.UNDERLINE:return new FX(e);case nn.SQUIGGLY:return new BX(e);case nn.STRIKEOUT:return new $X(e);case nn.STAMP:return new J$(e);case nn.FILEATTACHMENT:return new UX(e);default:return new Gt(e)}}}var Ad,pp,us,Hy,IC;const DN=class DN{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){C(this,Hy);C(this,Ad,null);C(this,pp,!1);C(this,us,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return DN._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],s=n[l+2]):n[l+1]===a&&(s=Math.max(s,n[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,d=l.length;c<d;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${fv}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${fv}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=u(this,us))==null?void 0:e.popup)||this.popup)==null||n.remove(),A(this,us,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(u(this,Ad)||A(this,Ad,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&P(this,Hy,IC).call(this,n);let i=((s=u(this,us))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=u(this,us).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),A(this,us,null),this.popup=null))}resetEdited(){var e;u(this,Ad)&&(P(this,Hy,IC).call(this,u(this,Ad).rect),(e=u(this,us))==null||e.popup.resetEdited(),A(this,Ad,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof xh)&&!(this instanceof TT)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof DC){const{rotation:v}=n;return!n.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const v=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(v>0||b>0){const x=`calc(${v}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=x}else if(this instanceof W$){const x=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=x}switch(n.borderStyle.style){case Nh.SOLID:a.borderStyle="solid";break;case Nh.DASHED:a.borderStyle="dashed";break;case Nh.BEVELED:Ne("Unimplemented border style: beveled");break;case Nh.INSET:Ne("Unimplemented border style: inset");break;case Nh.UNDERLINE:a.borderBottomStyle="solid";break}const y=n.borderColor||null;y?(A(this,pp,!0),a.borderColor=he.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):a.borderWidth=0}const c=he.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/d}%`,a.top=`${100*(c[1]-p)/h}%`;const{rotation:g}=n;return n.hasOwnCanvas||g===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=lD[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:lD[`${a}_rgb`](o)})};return Ie(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,y,x]=e.subarray(2,6);if(i===v&&s===b&&n===y&&r===x)return}const{style:a}=this.container;let o;if(u(this,pp)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,b=e.length;v<b;v+=8){const y=e[v],x=e[v+1],w=e[v+2],_=e[v+3],E=d.createElement("rect"),k=(w-n)/l,O=(s-x)/c,T=(y-w)/l,N=(x-_)/c;E.setAttribute("x",k),E.setAttribute("y",O),E.setAttribute("width",T),E.setAttribute("height",N),p.append(E),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${O}" width="${T}" height="${N}"/>`)}u(this,pp)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),A(this,us,new DC({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(u(this,us)||this.popup||this.data.popupRef)}get extraPopupElement(){return u(this,us)}render(){mt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!lh.has(c)){Ne(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&lh.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Ad=new WeakMap,pp=new WeakMap,us=new WeakMap,Hy=new WeakSet,IC=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Gt=DN;class _X extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Mi,bu,z$,H$;class TT extends Gt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});C(this,Mi);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),s=!0):n.attachment?(P(this,Mi,z$).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),s=!0):n.setOCGState?(P(this,Mi,H$).call(this,i,n.setOCGState,n.overlaidText),s=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&P(this,Mi,bu).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),P(this,Mi,bu).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(n[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),P(this,Mi,bu).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),P(this,Mi,bu).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!lh.has(g)){Ne(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Mi=new WeakSet,bu=function(){this.container.setAttribute("data-internal-link","")},z$=function(n,r,i="",s=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},P(this,Mi,bu).call(this)},H$=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),P(this,Mi,bu).call(this)};class CX extends Gt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class xh extends Gt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,n,r,i){var s,a,o;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":he.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||AX,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(uE*i))||1,h=c/d;a=Math.min(i,l(h/uE))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/uE))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=he.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class kX extends xh{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),lh.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",b=>{const y=this.data.defaultFieldValue??"";r.value=d.userValue=y,d.formattedValue=null});let v=b=>{const{formattedValue:y}=d;y!=null&&(b.target.value=y),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var w;if(d.focused)return;const{target:x}=y;if(g&&(x.type=f,p&&(x.step=p)),d.userValue){const _=d.userValue;if(g)if(f==="time"){const E=new Date(_),k=[E.getHours(),E.getMinutes(),E.getSeconds()];x.value=k.map(O=>O.toString().padStart(2,"0")).join(":")}else x.value=new Date(_-EX).toISOString().split(f==="date"?"T":".",1)[0];else x.value=_}d.lastCommittedValue=x.value,d.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const x={value(w){d.userValue=w.detail.value??"",g||e.setValue(n,{value:d.userValue.toString()}),w.target.value=d.userValue},formattedValue(w){const{formattedValue:_}=w.detail;d.formattedValue=_,_!=null&&w.target!==document.activeElement&&(w.target.value=_);const E={formattedValue:_};g&&(E.value=_),e.setValue(n,E)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:_}=w.detail,{target:E}=w;if(_===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",_);let k=d.userValue;!k||k.length<=_||(k=k.slice(0,_),E.value=d.userValue=k,e.setValue(n,{value:k}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(x,y)}),r.addEventListener("keydown",y=>{var _;d.commitKey=1;let x=-1;if(y.key==="Escape"?x=0:y.key==="Enter"&&!this.data.multiLine?x=2:y.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:w}=y.target;d.lastCommittedValue!==w&&(d.lastCommittedValue=w,d.userValue=w,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:x,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const b=v;v=null,r.addEventListener("blur",y=>{var _,E;if(!d.focused||!y.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(d.focused=!1);const{target:x}=y;let{value:w}=x;if(g){if(w&&f==="time"){const k=w.split(":").map(O=>parseInt(O,10));w=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),x.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();x.type="text"}d.userValue=w,d.lastCommittedValue!==w&&((E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:d.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),b(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var N;d.lastCommittedValue=null;const{data:x,target:w}=y,{value:_,selectionStart:E,selectionEnd:k}=w;let O=E,T=k;switch(y.inputType){case"deleteWordBackward":{const I=_.substring(0,E).match(/\w*[^\w]*$/);I&&(O-=I[0].length);break}case"deleteWordForward":{const I=_.substring(E).match(/^[^\w]*\w*/);I&&(T+=I[0].length);break}case"deleteContentBackward":E===k&&(O-=1);break;case"deleteContentForward":E===k&&(T+=1);break}y.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:x||"",willCommit:!1,selStart:O,selEnd:T}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(v&&r.addEventListener("blur",v),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class PX extends xh{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class TX extends xh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return lh.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const d=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class W$ extends xh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(lh.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class NX extends TT{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class OX extends xh{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");lh.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=g.has(v.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:v}=f.detail.insert,b=i.children[p],y=document.createElement("option");y.textContent=g,y.value=v,b?b.before(y):i.append(y),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:v,exportValue:b}=g,y=document.createElement("option");y.textContent=v,y.value=b,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=o(!0),f=o(!1);e.setValue(n,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Wy,MC;class DC extends Gt{constructor(n){const{data:r,elements:i,parent:s}=n,a=!!s._commentManager;super(n,{isRenderable:!a&&Gt._hasPopupData(r)});C(this,Wy);if(this.elements=i,a&&Gt._hasPopupData(r)){const o=this.popup=P(this,Wy,MC).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=P(this,Wy,MC).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${Xh}${s}`).join(",")),this.container}}Wy=new WeakSet,MC=function(){return new IX({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var vi,bc,V1,G1,mp,gp,Qt,Na,wc,Ed,vp,yp,Oa,yi,No,Oo,Jt,Io,xc,Vy,Do,bp,_d,Sc,In,Ac,je,Nw,RC,jC,LC,Ow,FC,V$,G$,K$,q$,Iw,Dw,BC;class IX{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h,commentManager:f=null}){C(this,je);C(this,vi,null);C(this,bc,P(this,je,K$).bind(this));C(this,V1,P(this,je,BC).bind(this));C(this,G1,P(this,je,Dw).bind(this));C(this,mp,P(this,je,Iw).bind(this));C(this,gp,null);C(this,Qt,null);C(this,Na,null);C(this,wc,null);C(this,Ed,null);C(this,vp,null);C(this,yp,null);C(this,Oa,!1);C(this,yi,null);C(this,No,null);C(this,Oo,null);C(this,Jt,null);C(this,Io,null);C(this,xc,null);C(this,Vy,null);C(this,Do,null);C(this,bp,null);C(this,_d,null);C(this,Sc,!1);C(this,In,null);C(this,Ac,null);A(this,Qt,e),A(this,bp,i),A(this,Na,a),A(this,Do,o),A(this,vp,l),A(this,gp,n),A(this,Vy,c),A(this,yp,d),A(this,Ed,r),A(this,vi,f),A(this,In,r[0]),A(this,wc,gv.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f||(P(this,je,Nw).call(this),u(this,Qt).hidden=!0,h&&P(this,je,Iw).call(this))}renderCommentButton(){if(u(this,Jt)){u(this,Jt).parentNode||u(this,In).container.after(u(this,Jt));return}if(u(this,Io)||P(this,je,RC).call(this),!u(this,Io))return;const{signal:e}=A(this,No,new AbortController),n=u(this,In).hasOwnCommentButton,r=()=>{u(this,vi).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{u(this,vi).toggleCommentPopup(this,!1,!0,!n)},s=()=>{u(this,vi).toggleCommentPopup(this,!1,!1)};if(n){A(this,Jt,u(this,In).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",u(this,bc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=A(this,Jt,document.createElement("button"));a.className="annotationCommentButton";const o=u(this,In).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),P(this,je,LC).call(this),P(this,je,jC).call(this),a.addEventListener("keydown",u(this,bc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=u(this,In).commentData;return e?u(this,vp)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=u(this,Jt))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=u(this,In).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return u(this,Jt)}get comment(){return u(this,Ac)||A(this,Ac,u(this,In).commentText),u(this,Ac)}set comment(e){e!==this.comment&&(u(this,In).commentText=A(this,Ac,e))}focus(){var e;(e=u(this,In).container)==null||e.focus()}get parentBoundingClientRect(){return u(this,In).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){u(this,Jt)&&(u(this,Jt).classList.toggle("selected",e),u(this,Jt).ariaExpanded=n)}setSelectedCommentButton(e){u(this,Jt).classList.toggle("selected",e)}get commentPopupPosition(){if(u(this,xc))return u(this,xc);const{x:e,y:n,height:r}=u(this,Jt).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=u(this,In).layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){A(this,xc,e)}hasDefaultPopupPosition(){return u(this,xc)===null}get commentButtonPosition(){return u(this,Io)}get commentButtonWidth(){return u(this,Jt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=u(this,xc)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;u(this,vi).showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(u(this,yi))return;const e=A(this,yi,document.createElement("div"));if(e.className="popup",u(this,gp)){const s=e.style.outlineColor=he.makeHexColor(...u(this,gp));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=u(this,bp))!=null&&r.str){const s=document.createElement("span");s.className="title",n.append(s),{dir:s.dir,str:s.textContent}=u(this,bp)}if(e.append(n),u(this,wc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,wc).valueOf()})),s.dateTime=u(this,wc).toISOString(),n.append(s)}AT({html:u(this,je,Ow)||u(this,Na).str,dir:(i=u(this,Na))==null?void 0:i.dir,className:"popupContent"},e),u(this,Qt).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(u(this,vi)){r?(this.remove(),A(this,Ac,null)):n&&(n.deleted?this.remove():(P(this,je,LC).call(this),A(this,Ac,n.text))),e&&(A(this,Io,null),P(this,je,RC).call(this),P(this,je,jC).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}P(this,je,Nw).call(this),u(this,_d)||A(this,_d,{contentsObj:u(this,Na),richText:u(this,Do)}),e&&A(this,Oo,null),n&&n.text&&(A(this,Do,P(this,je,G$).call(this,n.text)),A(this,wc,gv.toDateObject(n.date)),A(this,Na,null)),(i=u(this,yi))==null||i.remove(),A(this,yi,null)}resetEdited(){var e;u(this,_d)&&({contentsObj:vn(this,Na)._,richText:vn(this,Do)._}=u(this,_d),A(this,_d,null),(e=u(this,yi))==null||e.remove(),A(this,yi,null),A(this,Oo,null))}remove(){var e,n,r;if((e=u(this,No))==null||e.abort(),A(this,No,null),(n=u(this,yi))==null||n.remove(),A(this,yi,null),A(this,Sc,!1),A(this,Oa,!1),(r=u(this,Jt))==null||r.remove(),A(this,Jt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){A(this,Sc,this.isVisible),u(this,Sc)&&(u(this,Qt).hidden=!0)}maybeShow(){u(this,vi)||(P(this,je,Nw).call(this),u(this,Sc)&&(u(this,yi)||P(this,je,Dw).call(this),A(this,Sc,!1),u(this,Qt).hidden=!1))}get isVisible(){return u(this,vi)?!1:u(this,Qt).hidden===!1}}vi=new WeakMap,bc=new WeakMap,V1=new WeakMap,G1=new WeakMap,mp=new WeakMap,gp=new WeakMap,Qt=new WeakMap,Na=new WeakMap,wc=new WeakMap,Ed=new WeakMap,vp=new WeakMap,yp=new WeakMap,Oa=new WeakMap,yi=new WeakMap,No=new WeakMap,Oo=new WeakMap,Jt=new WeakMap,Io=new WeakMap,xc=new WeakMap,Vy=new WeakMap,Do=new WeakMap,bp=new WeakMap,_d=new WeakMap,Sc=new WeakMap,In=new WeakMap,Ac=new WeakMap,je=new WeakSet,Nw=function(){var n;if(u(this,No))return;A(this,No,new AbortController);const{signal:e}=u(this,No);for(const r of this.trigger)r.addEventListener("click",u(this,mp),{signal:e}),r.addEventListener("pointerenter",u(this,G1),{signal:e}),r.addEventListener("pointerleave",u(this,V1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of u(this,Ed))(n=r.container)==null||n.addEventListener("keydown",u(this,bc),{signal:e})},RC=function(){const e=u(this,Ed).find(n=>n.hasCommentButton);e&&A(this,Io,e._normalizePoint(e.commentButtonPosition))},jC=function(){if(u(this,In).extraPopupElement&&!u(this,In).editor)return;u(this,Jt)||this.renderCommentButton();const[e,n]=u(this,Io),{style:r}=u(this,Jt);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},LC=function(){u(this,In).extraPopupElement||(u(this,Jt)||this.renderCommentButton(),u(this,Jt).style.backgroundColor=this.commentButtonColor||"")},Ow=function(){const e=u(this,Do),n=u(this,Na);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&u(this,Do).html||null},FC=function(){var e,n,r;return((r=(n=(e=u(this,je,Ow))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},V$=function(){var e,n,r;return((r=(n=(e=u(this,je,Ow))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},G$=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:u(this,je,V$),fontSize:u(this,je,FC)?`calc(${u(this,je,FC)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},K$=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Oa))&&P(this,je,Iw).call(this)},q$=function(){if(u(this,Oo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=u(this,vp);let a=!!u(this,yp),o=a?u(this,yp):u(this,Vy);for(const g of u(this,Ed))if(!o||he.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=he.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,f=l[1];A(this,Oo,[100*(h-i)/n,100*(f-s)/r]);const{style:p}=u(this,Qt);p.left=`${u(this,Oo)[0]}%`,p.top=`${u(this,Oo)[1]}%`},Iw=function(){if(u(this,vi)){u(this,vi).toggleCommentPopup(this,!1);return}A(this,Oa,!u(this,Oa)),u(this,Oa)?(P(this,je,Dw).call(this),u(this,Qt).addEventListener("click",u(this,mp)),u(this,Qt).addEventListener("keydown",u(this,bc))):(P(this,je,BC).call(this),u(this,Qt).removeEventListener("click",u(this,mp)),u(this,Qt).removeEventListener("keydown",u(this,bc)))},Dw=function(){u(this,yi)||this.render(),this.isVisible?u(this,Oa)&&u(this,Qt).classList.add("focused"):(P(this,je,q$).call(this),u(this,Qt).hidden=!1,u(this,Qt).style.zIndex=parseInt(u(this,Qt).style.zIndex)+1e3)},BC=function(){u(this,Qt).classList.remove("focused"),!(u(this,Oa)||!this.isVisible)&&(u(this,Qt).hidden=!0,u(this,Qt).style.zIndex=parseInt(u(this,Qt).style.zIndex)-1e3)};class Y$ extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Gy;class DX extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});C(this,Gy,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=A(this,Gy,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return u(this,Gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gy=new WeakMap;var Ky;class MX extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});C(this,Ky,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=A(this,Ky,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return u(this,Ky)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ky=new WeakMap;var qy;class RX extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});C(this,qy,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=A(this,qy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return u(this,qy)}addHighlightArea(){this.container.classList.add("highlightArea")}}qy=new WeakMap;var Yy;class X$ extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});C(this,Yy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-n[0],g=n[3]-r[h+1];c.push(`${p},${g}`)}c=c.join(" ");const d=A(this,Yy,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return u(this,Yy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yy=new WeakMap;class jX extends X${constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class LX extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Xy,Cd,Qy,$C;class NT extends Gt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});C(this,Qy);C(this,Xy,null);C(this,Cd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Te.HIGHLIGHT:Te.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=P(this,Qy,$C).call(this,r,n),d=this.svgFactory.create(l,c,!0),h=A(this,Xy,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);u(this,Cd).push(g),g.setAttribute("points",i[f].join(",")),h.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:s}=n,a=u(this,Xy);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=u(this,Cd).length;o<l;o++)u(this,Cd)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=P(this,Qy,$C).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,Cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xy=new WeakMap,Cd=new WeakMap,Qy=new WeakSet,$C=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class Q$ extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Te.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class FX extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class BX extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class $X extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class J$ extends Gt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Jy,Zy,UC;class UX extends Gt{constructor(n){var i;super(n,{isRenderable:!0});C(this,Zy);C(this,Jy,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",P(this,Zy,UC).bind(this)),A(this,Jy,i);const{isMac:s}=zn.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&P(this,Zy,UC).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return u(this,Jy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jy=new WeakMap,Zy=new WeakSet,UC=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var kd,Pd,wp,Ec,e0,Td,bi,t0,sl,Mw,zC;const MN=class MN{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}){C(this,sl);C(this,kd,null);C(this,Pd,null);C(this,wp,null);C(this,Ec,new Map);C(this,e0,null);C(this,Td,null);C(this,bi,[]);C(this,t0,!1);this.div=e,A(this,kd,n),A(this,Pd,r),A(this,e0,o||null),A(this,Td,c||null),A(this,wp,d||new ET),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return u(this,Ec).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;Jc(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:u(this,Td),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new bv,annotationStorage:u(this,wp),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===nn.POPUP;if(c){const f=i.get(l.id);if(!f)continue;if(!this._commentManager){s.push(l);continue}a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=yE.create(a);if(!d.isRenderable)continue;if(!c&&(u(this,bi).push(d),l.popupRef)){const f=i.get(l.popupRef);f?f.push(d):i.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),d._isEditable&&(u(this,Ec).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await P(this,sl,Mw).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const d=yE.create(a);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${Xh}${l.id}`,l.hidden&&(h.style.visibility="hidden"),c.at(-1).container.after(h)}P(this,sl,zC).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:u(this,Td),svgFactory:new bv,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=MN._defaultBorderStyle),n.data=r;const i=yE.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${Xh}${r.id}`,u(this,bi).push(i))}await P(this,sl,Mw).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Jc(n,{rotation:e.rotation}),P(this,sl,zC).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Ec).values())}getEditableAnnotation(e){return u(this,Ec).get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new _X({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:u(this,Td),annotationStorage:u(this,wp)});return s.render(),s.contentElement.id=`${Xh}${r}`,s.createOrUpdatePopup(),u(this,bi).push(s),s}removeAnnotation(e){var i;const n=u(this,bi).findIndex(s=>s.data.id===e);if(n<0)return;const[r]=u(this,bi).splice(n,1);(i=u(this,kd))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);P(this,sl,Mw).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ie(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Nh.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};kd=new WeakMap,Pd=new WeakMap,wp=new WeakMap,Ec=new WeakMap,e0=new WeakMap,Td=new WeakMap,bi=new WeakMap,t0=new WeakMap,sl=new WeakSet,Mw=async function(){var r,i,s;if(u(this,bi).length===0)return;this.div.replaceChildren();const e=[];if(!u(this,t0)){A(this,t0,!0);for(const{contentElement:a,data:{id:o}}of u(this,bi)){const l=a.id=`${Xh}${o}`;e.push((r=u(this,e0))==null?void 0:r.getAriaAttributes(l).then(c=>{if(c)for(const[d,h]of c)a.setAttribute(d,h)}))}}u(this,bi).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[d,h,f,p]}})=>{if(a===l&&o===c)return 1;if(d===f&&h===p)return-1;const g=c,v=o,b=(o+c)/2,y=p,x=h,w=(h+p)/2;if(b>=y&&w<=v)return-1;if(w>=g&&b<=x)return 1;const _=(a+l)/2,E=(d+f)/2;return _-E});const n=document.createDocumentFragment();for(const a of u(this,bi))n.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&n.append(a.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),u(this,kd))for(const a of u(this,bi))u(this,kd).addPointerInTextLayer(a.contentElement,!1)},zC=function(){var n;if(!u(this,Pd))return;const e=this.div;for(const[r,i]of u(this,Pd)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=u(this,Ec).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}u(this,Pd).clear()};let zx=MN;const jb=/\r\n?|\n/g;var wi,n0,Nd,xi,mn,Z$,e3,t3,Rw,al,jw,Lw,n3,WC,r3;const kt=class kt extends At{constructor(n){super({...n,name:"freeTextEditor"});C(this,mn);C(this,wi,"");C(this,n0,`${this.id}-editor`);C(this,Nd,null);C(this,xi);te(this,"_colorPicker",null);this.color=n.color||kt._defaultColor||At._defaultLineColor,A(this,xi,n.fontSize||kt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const n=kt.prototype,r=a=>a.isEmpty(),i=Zc.TRANSLATE_SMALL,s=Zc.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new F0([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){At.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case ze.FREETEXT_SIZE:kt._defaultFontSize=r;break;case ze.FREETEXT_COLOR:kt._defaultColor=r;break}}updateParams(n,r){switch(n){case ze.FREETEXT_SIZE:P(this,mn,Z$).call(this,r);break;case ze.FREETEXT_COLOR:P(this,mn,e3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ze.FREETEXT_SIZE,kt._defaultFontSize],[ze.FREETEXT_COLOR,kt._defaultColor||At._defaultLineColor]]}get propertiesToUpdate(){return[[ze.FREETEXT_SIZE,u(this,xi)],[ze.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Ux(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ze.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-kt._internalPadding*n,-(kt._internalPadding+u(this,xi))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,Nd,new AbortController);const n=this._uiManager.combinedSignal(u(this,Nd));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,n0)),this._isDraggable=!0,(n=u(this,Nd))==null||n.abort(),A(this,Nd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=u(this,wi),r=A(this,wi,P(this,mn,t3).call(this).trimEnd());if(n===r)return;const i=s=>{if(A(this,wi,s),!s){this.remove();return}P(this,mn,Lw).call(this),this._uiManager.rebuild(this),P(this,mn,Rw).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),P(this,mn,Rw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){kt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,n0)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,xi)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=n+(o[0]-f)/d,v=r+this.height-(o[1]-p)/h;break;case 90:g=n+(o[0]-f)/d,v=r-(o[1]-p)/h,[l,c]=[c,-l];break;case 180:g=n-this.width+(o[0]-f)/d,v=r-(o[1]-p)/h,[l,c]=[-l,-c];break;case 270:g=n+(o[0]-f-this.height*h)/d,v=r+(o[1]-p-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(g*s,v*a,l,c)}else this._moveAfterPaste(n,r);P(this,mn,Lw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var g,v,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=P(g=kt,al,WC).call(g,r.getData("text")||"").replaceAll(jb,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(jb,"")),y!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===y){x=h;continue}x.push(P(v=kt,al,jw).call(v,w))}}d.push(l.nodeValue.slice(0,c).replaceAll(jb,""))}else if(l===this.editorDiv){let y=d,x=0;for(const w of this.editorDiv.childNodes)x++===c&&(y=h),y.push(P(b=kt,al,jw).call(b,w))}A(this,wi,`${d.join(`
`)}${s}${h.join(`
`)}`),P(this,mn,Lw).call(this);const f=new Range;let p=Math.sumPrecise(d.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(p<=x){f.setStart(y,p),f.setEnd(y,p);break}p-=x}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=kt._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let s=null;if(n instanceof Y$){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:f,popupRef:p,richText:g,contentsObj:v,creationDate:b,modificationDate:y},textContent:x,textPosition:w,parent:{page:{pageNumber:_}}}=n;if(!x||x.length===0)return null;s=n={annotationType:Te.FREETEXT,color:Array.from(c),fontSize:l,value:x.join(`
`),position:w,pageIndex:_-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null,richText:g,creationDate:b,modificationDate:y}}const a=await super.deserialize(n,r,i);return A(a,xi,n.fontSize),a.color=he.makeHexColor(...n.color),A(a,wi,P(o=kt,al,WC).call(o,n.value)),a._initialData=s,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=At._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:u(this,xi),value:P(this,mn,n3).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!P(this,mn,r3).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${u(this,xi)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of u(this,wi).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:u(this,wi)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};wi=new WeakMap,n0=new WeakMap,Nd=new WeakMap,xi=new WeakMap,mn=new WeakSet,Z$=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-u(this,xi))*this.parentScale),A(this,xi,s),P(this,mn,Rw).call(this)},i=u(this,xi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},e3=function(n){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},t3=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(P(i=kt,al,jw).call(i,s)),r=s);return n.join(`
`)},Rw=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},al=new WeakSet,jw=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(jb,"")},Lw=function(){if(this.editorDiv.replaceChildren(),!!u(this,wi))for(const n of u(this,wi).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},n3=function(){return u(this,wi).replaceAll(""," ")},WC=function(n){return n.replaceAll(" ","")},r3=function(n){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==s[l])||n.pageIndex!==a},C(kt,al),te(kt,"_freeTextDefaultContent",""),te(kt,"_internalPadding",0),te(kt,"_defaultColor",null),te(kt,"_defaultFontSize",10),te(kt,"_type","freetext"),te(kt,"_editorType",Te.FREETEXT);let HC=kt;class de{toSVGPath(){mt("Abstract method `toSVGPath` must be implemented.")}get box(){mt("Abstract getter `box` must be implemented.")}serialize(e,n){mt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}te(de,"PRECISION",1e-4);var Si,Us,xp,Sp,Ia,Fe,Od,Id,r0,i0,Ap,Ep,_c,s0,K1,q1,_n,Sg,i3,s3,a3,o3,l3,c3;const io=class io{constructor({x:e,y:n},r,i,s,a,o=0){C(this,_n);C(this,Si);C(this,Us,[]);C(this,xp);C(this,Sp);C(this,Ia,[]);C(this,Fe,new Float32Array(18));C(this,Od);C(this,Id);C(this,r0);C(this,i0);C(this,Ap);C(this,Ep);C(this,_c,[]);A(this,Si,r),A(this,Ep,s*i),A(this,Sp,a),u(this,Fe).set([NaN,NaN,NaN,NaN,e,n],6),A(this,xp,o),A(this,i0,u(io,s0)*i),A(this,r0,u(io,q1)*i),A(this,Ap,i),u(this,_c).push(e,n)}isEmpty(){return isNaN(u(this,Fe)[8])}add({x:e,y:n}){var N;A(this,Od,e),A(this,Id,n);const[r,i,s,a]=u(this,Si);let[o,l,c,d]=u(this,Fe).subarray(8,12);const h=e-c,f=n-d,p=Math.hypot(h,f);if(p<u(this,r0))return!1;const g=p-u(this,i0),v=g/p,b=v*h,y=v*f;let x=o,w=l;o=c,l=d,c+=b,d+=y,(N=u(this,_c))==null||N.push(e,n);const _=-y/g,E=b/g,k=_*u(this,Ep),O=E*u(this,Ep);return u(this,Fe).set(u(this,Fe).subarray(2,8),0),u(this,Fe).set([c+k,d+O],4),u(this,Fe).set(u(this,Fe).subarray(14,18),12),u(this,Fe).set([c-k,d-O],16),isNaN(u(this,Fe)[6])?(u(this,Ia).length===0&&(u(this,Fe).set([o+k,l+O],2),u(this,Ia).push(NaN,NaN,NaN,NaN,(o+k-r)/s,(l+O-i)/a),u(this,Fe).set([o-k,l-O],14),u(this,Us).push(NaN,NaN,NaN,NaN,(o-k-r)/s,(l-O-i)/a)),u(this,Fe).set([x,w,o,l,c,d],6),!this.isEmpty()):(u(this,Fe).set([x,w,o,l,c,d],6),Math.abs(Math.atan2(w-l,x-o)-Math.atan2(y,b))<Math.PI/2?([o,l,c,d]=u(this,Fe).subarray(2,6),u(this,Ia).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+d)/2-i)/a),[o,l,x,w]=u(this,Fe).subarray(14,18),u(this,Us).push(NaN,NaN,NaN,NaN,((x+o)/2-r)/s,((w+l)/2-i)/a),!0):([x,w,o,l,c,d]=u(this,Fe).subarray(0,6),u(this,Ia).push(((x+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),[c,d,o,l,x,w]=u(this,Fe).subarray(12,18),u(this,Us).push(((x+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,Ia),n=u(this,Us);if(isNaN(u(this,Fe)[6])&&!this.isEmpty())return P(this,_n,i3).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);P(this,_n,a3).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return P(this,_n,s3).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,s,a){return new u3(e,n,r,i,s,a)}getOutlines(){var h;const e=u(this,Ia),n=u(this,Us),r=u(this,Fe),[i,s,a,o]=u(this,Si),l=new Float32Array((((h=u(this,_c))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(u(this,_c)[f]-i)/a,l[f+1]=(u(this,_c)[f+1]-s)/o;if(l[l.length-2]=(u(this,Od)-i)/a,l[l.length-1]=(u(this,Id)-s)/o,isNaN(r[6])&&!this.isEmpty())return P(this,_n,o3).call(this,l);const c=new Float32Array(u(this,Ia).length+24+u(this,Us).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}d=P(this,_n,c3).call(this,c,d);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=n[f+p],c[d+1]=n[f+p+1],d+=2}return P(this,_n,l3).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,Si),u(this,Ap),u(this,xp),u(this,Sp))}};Si=new WeakMap,Us=new WeakMap,xp=new WeakMap,Sp=new WeakMap,Ia=new WeakMap,Fe=new WeakMap,Od=new WeakMap,Id=new WeakMap,r0=new WeakMap,i0=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,_c=new WeakMap,s0=new WeakMap,K1=new WeakMap,q1=new WeakMap,_n=new WeakSet,Sg=function(){const e=u(this,Fe).subarray(4,6),n=u(this,Fe).subarray(16,18),[r,i,s,a]=u(this,Si);return[(u(this,Od)+(e[0]-n[0])/2-r)/s,(u(this,Id)+(e[1]-n[1])/2-i)/a,(u(this,Od)+(n[0]-e[0])/2-r)/s,(u(this,Id)+(n[1]-e[1])/2-i)/a]},i3=function(){const[e,n,r,i]=u(this,Si),[s,a,o,l]=P(this,_n,Sg).call(this);return`M${(u(this,Fe)[2]-e)/r} ${(u(this,Fe)[3]-n)/i} L${(u(this,Fe)[4]-e)/r} ${(u(this,Fe)[5]-n)/i} L${s} ${a} L${o} ${l} L${(u(this,Fe)[16]-e)/r} ${(u(this,Fe)[17]-n)/i} L${(u(this,Fe)[14]-e)/r} ${(u(this,Fe)[15]-n)/i} Z`},s3=function(e){const n=u(this,Us);e.push(`L${n[4]} ${n[5]} Z`)},a3=function(e){const[n,r,i,s]=u(this,Si),a=u(this,Fe).subarray(4,6),o=u(this,Fe).subarray(16,18),[l,c,d,h]=P(this,_n,Sg).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${d} ${h} L${(o[0]-n)/i} ${(o[1]-r)/s}`)},o3=function(e){const n=u(this,Fe),[r,i,s,a]=u(this,Si),[o,l,c,d]=P(this,_n,Sg).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(h,e,u(this,Si),u(this,Ap),u(this,xp),u(this,Sp))},l3=function(e,n){const r=u(this,Us);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},c3=function(e,n){const r=u(this,Fe).subarray(4,6),i=u(this,Fe).subarray(16,18),[s,a,o,l]=u(this,Si),[c,d,h,f]=P(this,_n,Sg).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24},C(io,s0,8),C(io,K1,2),C(io,q1,u(io,s0)+u(io,K1));let Hx=io;var _p,Dd,Mo,a0,Ai,o0,an,Y1,d3;class u3 extends de{constructor(n,r,i,s,a,o){super();C(this,Y1);C(this,_p);C(this,Dd,new Float32Array(4));C(this,Mo);C(this,a0);C(this,Ai);C(this,o0);C(this,an);A(this,an,n),A(this,Ai,r),A(this,_p,i),A(this,o0,s),A(this,Mo,a),A(this,a0,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],P(this,Y1,d3).call(this,o);const[l,c,d,h]=u(this,Dd);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/d,n[f+1]=(n[f+1]-c)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-c)/h}toSVGPath(){const n=[`M${u(this,an)[4]} ${u(this,an)[5]}`];for(let r=6,i=u(this,an).length;r<i;r+=6){if(isNaN(u(this,an)[r])){n.push(`L${u(this,an)[r+4]} ${u(this,an)[r+5]}`);continue}n.push(`C${u(this,an)[r]} ${u(this,an)[r+1]} ${u(this,an)[r+2]} ${u(this,an)[r+3]} ${u(this,an)[r+4]} ${u(this,an)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],a){const o=i-n,l=s-r;let c,d;switch(a){case 0:c=de._rescale(u(this,an),n,s,o,-l),d=de._rescale(u(this,Ai),n,s,o,-l);break;case 90:c=de._rescaleAndSwap(u(this,an),n,r,o,l),d=de._rescaleAndSwap(u(this,Ai),n,r,o,l);break;case 180:c=de._rescale(u(this,an),i,r,-o,l),d=de._rescale(u(this,Ai),i,r,-o,l);break;case 270:c=de._rescaleAndSwap(u(this,an),i,s,-o,-l),d=de._rescaleAndSwap(u(this,Ai),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,Dd)}newOutliner(n,r,i,s,a,o=0){return new Hx(n,r,i,s,a,o)}getNewOutline(n,r){const[i,s,a,o]=u(this,Dd),[l,c,d,h]=u(this,_p),f=a*d,p=o*h,g=i*d+l,v=s*h+c,b=this.newOutliner({x:u(this,Ai)[0]*f+g,y:u(this,Ai)[1]*p+v},u(this,_p),u(this,o0),n,u(this,a0),r??u(this,Mo));for(let y=2;y<u(this,Ai).length;y+=2)b.add({x:u(this,Ai)[y]*f+g,y:u(this,Ai)[y+1]*p+v});return b.getOutlines()}}_p=new WeakMap,Dd=new WeakMap,Mo=new WeakMap,a0=new WeakMap,Ai=new WeakMap,o0=new WeakMap,an=new WeakMap,Y1=new WeakSet,d3=function(n){const r=u(this,an);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,c=i,d=s;const h=n?Math.max:Math.min,f=new Float32Array(4);for(let g=6,v=r.length;g<v;g+=6){const b=r[g+4],y=r[g+5];isNaN(r[g])?(he.pointBoundingBox(b,y,a),l>y?(o=b,l=y):l===y&&(o=h(o,b)),d<y?(c=b,d=y):d===y&&(c=h(c,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,he.bezierBoundingBox(i,s,...r.slice(g,g+6),f),he.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(o=f[0],l=f[1]):l===f[1]&&(o=h(o,f[0])),d<f[3]?(c=f[2],d=f[3]):d===f[3]&&(c=h(c,f[2]))),i=b,s=y}const p=u(this,Dd);p[0]=a[0]-u(this,Mo),p[1]=a[1]-u(this,Mo),p[2]=a[2]-a[0]+2*u(this,Mo),p[3]=a[3]-a[1]+2*u(this,Mo),this.firstPoint=[o,l],this.lastPoint=[c,d]};var l0,c0,u0,Cc,zs,Mr,h3,Fw,f3,p3,GC;class VC{constructor(e,n=0,r=0,i=!0){C(this,Mr);C(this,l0);C(this,c0);C(this,u0);C(this,Cc,[]);C(this,zs,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:v,y:b,width:y,height:x}of e){const w=Math.floor((v-n)/a)*a,_=Math.ceil((v+y+n)/a)*a,E=Math.floor((b-n)/a)*a,k=Math.ceil((b+x+n)/a)*a,O=[w,E,k,!0],T=[_,E,k,!1];u(this,Cc).push(O,T),he.rectBoundingBox(w,E,_,k,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,f=1/0;const p=u(this,Cc).at(i?-1:-2),g=[p[0],p[2]];for(const v of u(this,Cc)){const[b,y,x,w]=v;!w&&i?y<f?(f=y,h=b):y===f&&(h=Math.max(h,b)):w&&!i&&(y<f?(f=y,h=b):y===f&&(h=Math.min(h,b))),v[0]=(b-c)/o,v[1]=(y-d)/l,v[2]=(x-d)/l}A(this,l0,new Float32Array([c,d,o,l])),A(this,c0,[h,f]),A(this,u0,g)}getOutlines(){u(this,Cc).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of u(this,Cc))n[3]?(e.push(...P(this,Mr,GC).call(this,n)),P(this,Mr,f3).call(this,n)):(P(this,Mr,p3).call(this,n),e.push(...P(this,Mr,GC).call(this,n)));return P(this,Mr,h3).call(this,e)}}l0=new WeakMap,c0=new WeakMap,u0=new WeakMap,Cc=new WeakMap,zs=new WeakMap,Mr=new WeakSet,h3=function(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,d,h]=a;r.delete(a);let f=o,p=l;for(s=[o,c],i.push(s);;){let g;if(r.has(d))g=d;else if(r.has(h))g=h;else break;r.delete(g),[o,l,c,d,h]=g,f!==o&&(s.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}s.push(f,p)}return new zX(i,u(this,l0),u(this,c0),u(this,u0))},Fw=function(e){const n=u(this,zs);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},f3=function([,e,n]){const r=P(this,Mr,Fw).call(this,e);u(this,zs).splice(r,0,[e,n])},p3=function([,e,n]){const r=P(this,Mr,Fw).call(this,e);for(let i=r;i<u(this,zs).length;i++){const[s,a]=u(this,zs)[i];if(s!==e)break;if(s===e&&a===n){u(this,zs).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=u(this,zs)[i];if(s!==e)break;if(s===e&&a===n){u(this,zs).splice(i,1);return}}},GC=function(e){const[n,r,i]=e,s=[[n,r,i]],a=P(this,Mr,Fw).call(this,i);for(let o=0;o<a;o++){const[l,c]=u(this,zs)[o];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[d][1]=c;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>c&&s.push([n,c,p])}}}return s};var d0,Cp;class zX extends de{constructor(n,r,i,s){super();C(this,d0);C(this,Cp);A(this,Cp,n),A(this,d0,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const n=[];for(const r of u(this,Cp)){let[i,s]=r;n.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],a){const o=[],l=i-n,c=s-r;for(const d of u(this,Cp)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=n+d[f]*l,h[f+1]=s-d[f+1]*c;o.push(h)}return o}get box(){return u(this,d0)}get classNamesForOutlining(){return["highlightOutline"]}}d0=new WeakMap,Cp=new WeakMap;class KC extends Hx{newFreeDrawOutline(e,n,r,i,s,a){return new HX(e,n,r,i,s,a)}}class HX extends u3{newOutliner(e,n,r,i,s,a=0){return new KC(e,n,r,i,s,a)}}var kp,h0,Ro,Md,f0,Yr,p0,m0,Rd,Ei,_i,Yn,Pp,Tp,fr,Np,ds,g0,Re,qC,Bw,m3,g3,v3,YC,wu,gs,jh,y3,$w,Uw,b3,w3,x3,S3,A3;const Qe=class Qe extends At{constructor(n){super({...n,name:"highlightEditor"});C(this,Re);C(this,kp,null);C(this,h0,0);C(this,Ro);C(this,Md,null);C(this,f0,null);C(this,Yr,null);C(this,p0,null);C(this,m0,0);C(this,Rd,null);C(this,Ei,null);C(this,_i,null);C(this,Yn,!1);C(this,Pp,null);C(this,Tp,null);C(this,fr,null);C(this,Np,"");C(this,ds);C(this,g0,"");this.color=n.color||Qe._defaultColor,A(this,ds,n.thickness||Qe._defaultThickness),this.opacity=n.opacity||Qe._defaultOpacity,A(this,Ro,n.boxes||null),A(this,g0,n.methodOfCreation||""),A(this,Np,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(A(this,Yn,!0),P(this,Re,Bw).call(this,n),P(this,Re,wu).call(this)):u(this,Ro)&&(A(this,kp,n.anchorNode),A(this,h0,n.anchorOffset),A(this,p0,n.focusNode),A(this,m0,n.focusOffset),P(this,Re,qC).call(this),P(this,Re,wu).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Qe.prototype;return Ie(this,"_keyboardManager",new F0([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Yn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:u(this,ds),methodOfCreation:u(this,g0)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;At.initialize(n,r),Qe._defaultColor||(Qe._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case ze.HIGHLIGHT_COLOR:Qe._defaultColor=r;break;case ze.HIGHLIGHT_THICKNESS:Qe._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return u(this,Tp)}get commentButtonPosition(){return u(this,Pp)}updateParams(n,r){switch(n){case ze.HIGHLIGHT_COLOR:P(this,Re,m3).call(this,r);break;case ze.HIGHLIGHT_THICKNESS:P(this,Re,g3).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[ze.HIGHLIGHT_COLOR,Qe._defaultColor],[ze.HIGHLIGHT_THICKNESS,Qe._defaultThickness]]}get propertiesToUpdate(){return[[ze.HIGHLIGHT_COLOR,this.color||Qe._defaultColor],[ze.HIGHLIGHT_THICKNESS,u(this,ds)||Qe._defaultThickness],[ze.HIGHLIGHT_FREE,u(this,Yn)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(u(this,_i),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=u(this,f0))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,f0,new yv({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(P(this,Re,Uw).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,P(this,Re,Uw).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){P(this,Re,YC).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,Re,wu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?P(this,Re,YC).call(this):n&&(P(this,Re,wu).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,a,o;const{drawLayer:r}=this.parent;let i;u(this,Yn)?(n=(n-this.rotation+360)%360,i=P(s=Qe,gs,jh).call(s,u(this,Ei).box,n)):i=P(a=Qe,gs,jh).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(u(this,_i),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(u(this,fr),{bbox:P(o=Qe,gs,jh).call(o,u(this,Yr).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();u(this,Np)&&(n.setAttribute("aria-label",u(this,Np)),n.setAttribute("role","mark")),u(this,Yn)?n.classList.add("free"):this.div.addEventListener("keydown",P(this,Re,y3).bind(this),{signal:this._uiManager._signal});const r=A(this,Rd,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=u(this,Md),this.setDims(),zB(this,u(this,Rd),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(u(this,fr),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(u(this,fr),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:P(this,Re,$w).call(this,!0);break;case 1:case 3:P(this,Re,$w).call(this,!1);break}}select(){var n;super.select(),u(this,fr)&&((n=this.parent)==null||n.drawLayer.updateProperties(u(this,fr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),u(this,fr)&&((n=this.parent)==null||n.drawLayer.updateProperties(u(this,fr),{rootClass:{selected:!1}}),u(this,Yn)||P(this,Re,$w).call(this,!1))}get _mustFixPosition(){return!u(this,Yn)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(u(this,_i),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(u(this,fr),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),h=new AbortController,f=n.combinedSignal(h),p=g=>{h.abort(),P(this,gs,S3).call(this,n,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Ht,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",zi,{signal:f}),i.addEventListener("pointermove",P(this,gs,x3).bind(this,n),{signal:f}),this._freeHighlight=new KC({x:s,y:a},[o,l,c,d],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var v,b,y,x;let s=null;if(n instanceof Q$){const{data:{quadPoints:w,rect:_,rotation:E,id:k,color:O,opacity:T,popupRef:N,richText:I,contentsObj:D,creationDate:M,modificationDate:F},parent:{page:{pageNumber:K}}}=n;s=n={annotationType:Te.HIGHLIGHT,color:Array.from(O),opacity:T,quadPoints:w,boxes:null,pageIndex:K-1,rect:_.slice(0),rotation:E,annotationElementId:k,id:k,deleted:!1,popupRef:N,richText:I,comment:(D==null?void 0:D.str)||null,creationDate:M,modificationDate:F}}else if(n instanceof NT){const{data:{inkLists:w,rect:_,rotation:E,id:k,color:O,borderStyle:{rawWidth:T},popupRef:N,richText:I,contentsObj:D,creationDate:M,modificationDate:F},parent:{page:{pageNumber:K}}}=n;s=n={annotationType:Te.HIGHLIGHT,color:Array.from(O),thickness:T,inkLists:w,boxes:null,pageIndex:K-1,rect:_.slice(0),rotation:E,annotationElementId:k,id:k,deleted:!1,popupRef:N,richText:I,comment:(D==null?void 0:D.str)||null,creationDate:M,modificationDate:F}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=n,d=await super.deserialize(n,r,i);d.color=he.makeHexColor(...a),d.opacity=c||1,l&&A(d,ds,n.thickness),d._initialData=s,n.comment&&d.setCommentData(n);const[h,f]=d.pageDimensions,[p,g]=d.pageTranslation;if(o){const w=A(d,Ro,[]);for(let _=0;_<o.length;_+=8)w.push({x:(o[_]-p)/h,y:1-(o[_+1]-g)/f,width:(o[_+2]-o[_])/h,height:(o[_+1]-o[_+5])/f});P(v=d,Re,qC).call(v),P(b=d,Re,wu).call(b),d.rotate(d.rotation)}else if(l){A(d,Yn,!0);const w=l[0],_={x:w[0]-p,y:f-(w[1]-g)},E=new KC(_,[0,0,h,f],1,u(d,ds)/2,!0,.001);for(let T=0,N=w.length;T<N;T+=2)_.x=w[T]-p,_.y=f-(w[T+1]-g),E.add(_);const{id:k,clipPathId:O}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);P(y=d,Re,Bw).call(y,{highlightOutlines:E.getOutlines(),highlightId:k,clipPathId:O}),P(x=d,Re,wu).call(x),d.rotate(d.parentRotation)}return d}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=At._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:u(this,ds),quadPoints:P(this,Re,b3).call(this),outlines:P(this,Re,w3).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!P(this,Re,A3).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};kp=new WeakMap,h0=new WeakMap,Ro=new WeakMap,Md=new WeakMap,f0=new WeakMap,Yr=new WeakMap,p0=new WeakMap,m0=new WeakMap,Rd=new WeakMap,Ei=new WeakMap,_i=new WeakMap,Yn=new WeakMap,Pp=new WeakMap,Tp=new WeakMap,fr=new WeakMap,Np=new WeakMap,ds=new WeakMap,g0=new WeakMap,Re=new WeakSet,qC=function(){const n=new VC(u(this,Ro),.001);A(this,Ei,n.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Ei).box;const r=new VC(u(this,Ro),.0025,.001,this._uiManager.direction==="ltr");A(this,Yr,r.getOutlines());const{firstPoint:i}=u(this,Ei);A(this,Pp,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=u(this,Yr);A(this,Tp,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Bw=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(A(this,Ei,n),A(this,Yr,n.getNewOutline(u(this,ds)/2+1.5,.0025)),r>=0)A(this,_i,r),A(this,Md,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),A(this,fr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Yr).box,path:{d:u(this,Yr).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,_i),{bbox:P(f=Qe,gs,jh).call(f,u(this,Ei).box,(g-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,fr),{bbox:P(p=Qe,gs,jh).call(p,u(this,Yr).box,g),path:{d:u(this,Yr).toSVGPath()}})}const[a,o,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*v/g,this.height=c*g/v;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*v/g,this.height=c*g/v;break}}const{firstPoint:d}=n;A(this,Pp,[(d[0]-a)/l,(d[1]-o)/c]);const{lastPoint:h}=u(this,Yr);A(this,Tp,[(h[0]-a)/l,(h[1]-o)/c])},m3=function(n){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,n,Qe._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},g3=function(n){const r=u(this,ds),i=s=>{A(this,ds,s),P(this,Re,v3).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ze.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},v3=function(n){u(this,Yn)&&(P(this,Re,Bw).call(this,{highlightOutlines:u(this,Ei).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims())},YC=function(){u(this,_i)===null||!this.parent||(this.parent.drawLayer.remove(u(this,_i)),A(this,_i,null),this.parent.drawLayer.remove(u(this,fr)),A(this,fr,null))},wu=function(n=this.parent){u(this,_i)===null&&({id:vn(this,_i)._,clipPathId:vn(this,Md)._}=n.drawLayer.draw({bbox:u(this,Ei).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:u(this,Yn)},path:{d:u(this,Ei).toSVGPath()}},!1,!0),A(this,fr,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,Yn)},bbox:u(this,Yr).box,path:{d:u(this,Yr).toSVGPath()}},u(this,Yn))),u(this,Rd)&&(u(this,Rd).style.clipPath=u(this,Md)))},gs=new WeakSet,jh=function([n,r,i,s],a){switch(a){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]},y3=function(n){Qe._keyboardManager.exec(this,n)},$w=function(n){if(!u(this,kp))return;const r=window.getSelection();n?r.setPosition(u(this,kp),u(this,h0)):r.setPosition(u(this,p0),u(this,m0))},Uw=function(){return u(this,Yn)?this.rotation:0},b3=function(){if(u(this,Yn))return null;const[n,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=u(this,Ro),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:f}of a){const p=c*n+i,g=(1-d)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=p+h*n,o[l+5]=o[l+7]=g-f*r,l+=8}return o},w3=function(n){return u(this,Ei).serialize(n,P(this,Re,Uw).call(this))},x3=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},S3=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},A3=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,s)=>i!==r[s])},C(Qe,gs),te(Qe,"_defaultColor",null),te(Qe,"_defaultOpacity",1),te(Qe,"_defaultThickness",12),te(Qe,"_type","highlight"),te(Qe,"_editorType",Te.HIGHLIGHT),te(Qe,"_freeHighlightId",-1),te(Qe,"_freeHighlight",null),te(Qe,"_freeHighlightClipId","");let Wx=Qe;var jd;class E3{constructor(){C(this,jd,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){u(this,jd)[e]=n}toSVGProperties(){const e=u(this,jd);return A(this,jd,Object.create(null)),{root:e}}reset(){A(this,jd,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){mt("Not implemented")}}jd=new WeakMap;var Ci,Op,Dn,Ld,Fd,qe,XC,QC,JC,Ag,_3,zw,Eg,Lh;const Ue=class Ue extends At{constructor(n){super(n);C(this,qe);C(this,Ci,null);C(this,Op);te(this,"_colorPicker",null);te(this,"_drawId",null);A(this,Op,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(P(this,qe,XC).call(this,n),P(this,qe,Ag).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(n[s],a):n[s]=a;return n}static getDefaultDrawingOptions(n){mt("Not implemented")}static get typesMap(){mt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(u(Ue,Dn).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)n.push([i,r[s]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)n.push([i,r[s]]);return n}_updateProperty(n,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var d;s.updateProperty(r,l);const c=u(this,Ci).updateProperty(r,l);c&&P(this,qe,Eg).call(this,c),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(u(this,Ci).getPathResizingSVGProperties(P(this,qe,zw).call(this)),{bbox:P(this,qe,Lh).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(u(this,Ci).getPathResizedSVGProperties(P(this,qe,zw).call(this)),{bbox:P(this,qe,Lh).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:P(this,qe,Lh).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(u(this,Ci).getPathTranslatedSVGProperties(P(this,qe,zw).call(this),this.parentDimensions),{bbox:P(this,qe,Lh).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,Op)&&(A(this,Op,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){P(this,qe,JC).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(P(this,qe,Ag).call(this),P(this,qe,Eg).call(this,u(this,Ci).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),P(this,qe,JC).call(this)):n&&(this._uiManager.addShouldRescale(this),P(this,qe,Ag).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties({bbox:P(this,qe,Lh).call(this)},u(this,Ci).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&P(this,qe,Eg).call(this,u(this,Ci).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,s,a){mt("Not implemented")}static startDrawing(n,r,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=s;if(lr.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=n,{width:f,height:p}=a.getBoundingClientRect(),g=A(Ue,Ld,new AbortController),v=n.combinedSignal(g);if(lr.setPointer(d,c),window.addEventListener("pointerup",y=>{lr.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:v}),window.addEventListener("pointercancel",y=>{lr.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",y=>{lr.isSamePointerType(y.pointerType)&&(lr.initializeAndAddPointerId(y.pointerId),u(Ue,Dn).isCancellable()&&(u(Ue,Dn).removeLastElement(),u(Ue,Dn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",zi,{signal:v}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),a.addEventListener("touchmove",y=>{lr.isSameTimeStamp(y.timeStamp)&&Ht(y)},{signal:v}),n.toggleDrawing(),(b=r._editorUndoBar)==null||b.hide(),u(Ue,Dn)){n.drawLayer.updateProperties(this._currentDrawId,u(Ue,Dn).startNew(o,l,f,p,h));return}r.updateUIForDefaultProperties(this),A(Ue,Dn,this.createDrawerInstance(o,l,f,p,h)),A(Ue,Fd,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(u(Ue,Fd).toSVGProperties(),u(Ue,Dn).defaultSVGProperties),!0,!1)}static _drawMove(n){if(lr.isSameTimeStamp(n.timeStamp),!u(Ue,Dn))return;const{offsetX:r,offsetY:i,pointerId:s}=n;if(lr.isSamePointerId(s)){if(lr.isUsingMultiplePointers()){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,u(Ue,Dn).add(r,i)),lr.setTimeStamp(n.timeStamp),Ht(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,A(Ue,Dn,null),A(Ue,Fd,null),lr.clearPointerType(),lr.clearTimeStamp()),u(Ue,Ld)&&(u(Ue,Ld).abort(),A(Ue,Ld,null),lr.clearPointerIds())}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,u(Ue,Dn).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=u(Ue,Dn),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:ze.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(ze.DRAW_STEP),!u(Ue,Dn).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:u(Ue,Dn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:u(Ue,Fd),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,s,a,o){mt("Not implemented")}static async deserialize(n,r,i){var h,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,n),d=await super.deserialize(n,r,i);return d.createDrawingOptions(n),P(h=d,qe,XC).call(h,{drawOutlines:c}),P(f=d,qe,Ag).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(n){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return u(this,Ci).serialize([r,i,s,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ci=new WeakMap,Op=new WeakMap,Dn=new WeakMap,Ld=new WeakMap,Fd=new WeakMap,qe=new WeakSet,XC=function({drawOutlines:n,drawId:r,drawingOptions:i}){A(this,Ci,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=P(this,qe,QC).call(this,n,this.parent),P(this,qe,Eg).call(this,n.box)},QC=function(n,r){const{id:i}=r.drawLayer.draw(Ue._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},JC=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ag=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=P(this,qe,QC).call(this,u(this,Ci),n)}},_3=function([n,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(o/a),s*(a/o)];case 180:return[1-n,1-r,i,s];case 270:return[1-r,n,i*(o/a),s*(a/o)];default:return[n,r,i,s]}},zw=function(){const{x:n,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/o),s*(o/a)];case 180:return[1-n,1-r,i,s];case 270:return[r,1-n,i*(a/o),s*(o/a)];default:return[n,r,i,s]}},Eg=function(n){[this.x,this.y,this.width,this.height]=P(this,qe,_3).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Lh=function(){const{x:n,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-s,n,s,i];case 2:return[1-n-i,1-r-s,i,s];case 3:return[r,1-n-i,s,i];case 4:return[n,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),s*(c/l)];case 6:return[1-n-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-s*(c/l),i*(l/c),s*(c/l)];case 8:return[n-i,r-s,i,s];case 9:return[1-r,n-i,s,i];case 10:return[1-n,1-r,i,s];case 11:return[r-s,1-n,s,i];case 12:return[n-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-n,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),s*(c/l)];default:return[n,r,i,s]}},te(Ue,"_currentDrawId",-1),te(Ue,"_currentParent",null),C(Ue,Dn,null),C(Ue,Ld,null),C(Ue,Fd,null),te(Ue,"_INNER_MARGIN",3);let Vx=Ue;var Da,Mn,Rn,Bd,Ip,_r,Xn,hs,$d,Ud,zd,Dp,Hw;class WX{constructor(e,n,r,i,s,a){C(this,Dp);C(this,Da,new Float64Array(6));C(this,Mn);C(this,Rn);C(this,Bd);C(this,Ip);C(this,_r);C(this,Xn,"");C(this,hs,0);C(this,$d,new $0);C(this,Ud);C(this,zd);A(this,Ud,r),A(this,zd,i),A(this,Bd,s),A(this,Ip,a),[e,n]=P(this,Dp,Hw).call(this,e,n);const o=A(this,Mn,[NaN,NaN,NaN,NaN,e,n]);A(this,_r,[e,n]),A(this,Rn,[{line:o,points:u(this,_r)}]),u(this,Da).set(o,0)}updateProperty(e,n){e==="stroke-width"&&A(this,Ip,n)}isEmpty(){return!u(this,Rn)||u(this,Rn).length===0}isCancellable(){return u(this,_r).length<=10}add(e,n){[e,n]=P(this,Dp,Hw).call(this,e,n);const[r,i,s,a]=u(this,Da).subarray(2,6),o=e-s,l=n-a;return Math.hypot(u(this,Ud)*o,u(this,zd)*l)<=2?null:(u(this,_r).push(e,n),isNaN(r)?(u(this,Da).set([s,a,e,n],2),u(this,Mn).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Da)[0])&&u(this,Mn).splice(6,6),u(this,Da).set([r,i,s,a,e,n],0),u(this,Mn).push(...de.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(u(this,_r).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){A(this,Ud,r),A(this,zd,i),A(this,Bd,s),[e,n]=P(this,Dp,Hw).call(this,e,n);const a=A(this,Mn,[NaN,NaN,NaN,NaN,e,n]);A(this,_r,[e,n]);const o=u(this,Rn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,Rn).push({line:a,points:u(this,_r)}),u(this,Da).set(a,0),A(this,hs,0),this.toSVGPath(),null}getLastElement(){return u(this,Rn).at(-1)}setLastElement(e){return u(this,Rn)?(u(this,Rn).push(e),A(this,Mn,e.line),A(this,_r,e.points),A(this,hs,0),{path:{d:this.toSVGPath()}}):u(this,$d).setLastElement(e)}removeLastElement(){if(!u(this,Rn))return u(this,$d).removeLastElement();u(this,Rn).pop(),A(this,Xn,"");for(let e=0,n=u(this,Rn).length;e<n;e++){const{line:r,points:i}=u(this,Rn)[e];A(this,Mn,r),A(this,_r,i),A(this,hs,0),this.toSVGPath()}return{path:{d:u(this,Xn)}}}toSVGPath(){const e=de.svgRound(u(this,Mn)[4]),n=de.svgRound(u(this,Mn)[5]);if(u(this,_r).length===2)return A(this,Xn,`${u(this,Xn)} M ${e} ${n} Z`),u(this,Xn);if(u(this,_r).length<=6){const i=u(this,Xn).lastIndexOf("M");A(this,Xn,`${u(this,Xn).slice(0,i)} M ${e} ${n}`),A(this,hs,6)}if(u(this,_r).length===4){const i=de.svgRound(u(this,Mn)[10]),s=de.svgRound(u(this,Mn)[11]);return A(this,Xn,`${u(this,Xn)} L ${i} ${s}`),A(this,hs,12),u(this,Xn)}const r=[];u(this,hs)===0&&(r.push(`M ${e} ${n}`),A(this,hs,6));for(let i=u(this,hs),s=u(this,Mn).length;i<s;i+=6){const[a,o,l,c,d,h]=u(this,Mn).slice(i,i+6).map(de.svgRound);r.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}return A(this,Xn,u(this,Xn)+r.join(" ")),A(this,hs,u(this,Mn).length),u(this,Xn)}getOutlines(e,n,r,i){const s=u(this,Rn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),u(this,$d).build(u(this,Rn),e,n,r,u(this,Bd),u(this,Ip),i),A(this,Da,null),A(this,Mn,null),A(this,Rn,null),A(this,Xn,null),u(this,$d)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Da=new WeakMap,Mn=new WeakMap,Rn=new WeakMap,Bd=new WeakMap,Ip=new WeakMap,_r=new WeakMap,Xn=new WeakMap,hs=new WeakMap,$d=new WeakMap,Ud=new WeakMap,zd=new WeakMap,Dp=new WeakSet,Hw=function(e,n){return de._normalizePoint(e,n,u(this,Ud),u(this,zd),u(this,Bd))};var Cr,v0,y0,ki,Ma,Ra,Mp,Rp,Hd,tr,to,C3,k3,P3;class $0 extends de{constructor(){super(...arguments);C(this,tr);C(this,Cr);C(this,v0,0);C(this,y0);C(this,ki);C(this,Ma);C(this,Ra);C(this,Mp);C(this,Rp);C(this,Hd)}build(n,r,i,s,a,o,l){A(this,Ma,r),A(this,Ra,i),A(this,Mp,s),A(this,Rp,a),A(this,Hd,o),A(this,y0,l??0),A(this,ki,n),P(this,tr,k3).call(this)}get thickness(){return u(this,Hd)}setLastElement(n){return u(this,ki).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,ki).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of u(this,ki)){if(n.push(`M${de.svgRound(r[4])} ${de.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${de.svgRound(r[10])} ${de.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,c,d,h]=r.subarray(i,i+6).map(de.svgRound);n.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}}return n.join("")}serialize([n,r,i,s],a){const o=[],l=[],[c,d,h,f]=P(this,tr,C3).call(this);let p,g,v,b,y,x,w,_,E;switch(u(this,Rp)){case 0:E=de._rescale,p=n,g=r+s,v=i,b=-s,y=n+c*i,x=r+(1-d-f)*s,w=n+(c+h)*i,_=r+(1-d)*s;break;case 90:E=de._rescaleAndSwap,p=n,g=r,v=i,b=s,y=n+d*i,x=r+c*s,w=n+(d+f)*i,_=r+(c+h)*s;break;case 180:E=de._rescale,p=n+i,g=r,v=-i,b=s,y=n+(1-c-h)*i,x=r+d*s,w=n+(1-c)*i,_=r+(d+f)*s;break;case 270:E=de._rescaleAndSwap,p=n+i,g=r+s,v=-i,b=-s,y=n+(1-d-f)*i,x=r+(1-c-h)*s,w=n+(1-d)*i,_=r+(1-c)*s;break}for(const{line:k,points:O}of u(this,ki))o.push(E(k,p,g,v,b,a?new Array(k.length):null)),l.push(E(O,p,g,v,b,a?new Array(O.length):null));return{lines:o,points:l,rect:[y,x,w,_]}}static deserialize(n,r,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:d}){const h=[];let f,p,g,v,b;switch(c){case 0:b=de._rescale,f=-n/i,p=r/s+1,g=1/i,v=-1/s;break;case 90:b=de._rescaleAndSwap,f=-r/s,p=-n/i,g=1/s,v=1/i;break;case 180:b=de._rescale,f=n/i+1,p=-r/s,g=-1/i,v=1/s;break;case 270:b=de._rescaleAndSwap,f=r/s+1,p=n/i+1,g=-1/s,v=-1/i;break}if(!o){o=[];for(const x of l){const w=x.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const _=new Float32Array(3*(w-2));o.push(_);let[E,k,O,T]=x.subarray(0,4);_.set([NaN,NaN,NaN,NaN,E,k],0);for(let N=4;N<w;N+=2){const I=x[N],D=x[N+1];_.set(de.createBezierPoints(E,k,O,T,I,D),(N-2)*3),[E,k,O,T]=[O,T,I,D]}}}for(let x=0,w=o.length;x<w;x++)h.push({line:b(o[x].map(_=>_??NaN),f,p,g,v),points:b(l[x].map(_=>_??NaN),f,p,g,v)});const y=new this.prototype.constructor;return y.build(h,i,s,1,c,d,a),y}get box(){return u(this,Cr)}updateProperty(n,r){return n==="stroke-width"?P(this,tr,P3).call(this,r):null}updateParentDimensions([n,r],i){const[s,a]=P(this,tr,to).call(this);A(this,Ma,n),A(this,Ra,r),A(this,Mp,i);const[o,l]=P(this,tr,to).call(this),c=o-s,d=l-a,h=u(this,Cr);return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(n){return A(this,v0,n),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,Cr).map(de.svgRound).join(" ")}get defaultProperties(){const[n,r]=u(this,Cr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=u(this,Cr);let i=0,s=0,a=0,o=0,l=0,c=0;switch(u(this,v0)){case 90:s=r/n,a=-n/r,l=n;break;case 180:i=-1,o=-1,l=n,c=r;break;case 270:s=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${de.svgRound(l)} ${de.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,s]){const[a,o]=P(this,tr,to).call(this),[l,c,d,h]=u(this,Cr);if(Math.abs(d-a)<=de.PRECISION||Math.abs(h-o)<=de.PRECISION){const b=n+i/2-(l+d/2),y=r+s/2-(c+h/2);return{path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:`${this.rotationTransform} translate(${b} ${y})`}}}const f=(i-2*a)/(d-2*a),p=(s-2*o)/(h-2*o),g=d/i,v=h/s;return{path:{"transform-origin":`${de.svgRound(l)} ${de.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${v}) translate(${de.svgRound(a)} ${de.svgRound(o)}) scale(${f} ${p}) translate(${de.svgRound(-a)} ${de.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,s]){const[a,o]=P(this,tr,to).call(this),l=u(this,Cr),[c,d,h,f]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=s,Math.abs(h-a)<=de.PRECISION||Math.abs(f-o)<=de.PRECISION){const y=n+i/2-(c+h/2),x=r+s/2-(d+f/2);for(const{line:w,points:_}of u(this,ki))de._translate(w,y,x,w),de._translate(_,y,x,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),g=(s-2*o)/(f-2*o),v=-p*(c+a)+n+a,b=-g*(d+o)+r+o;if(p!==1||g!==1||v!==0||b!==0)for(const{line:y,points:x}of u(this,ki))de._rescale(y,v,b,p,g,y),de._rescale(x,v,b,p,g,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[s,a]=i,o=u(this,Cr),l=n-o[0],c=r-o[1];if(u(this,Ma)===s&&u(this,Ra)===a)for(const{line:d,points:h}of u(this,ki))de._translate(d,l,c,d),de._translate(h,l,c,h);else{const d=u(this,Ma)/s,h=u(this,Ra)/a;A(this,Ma,s),A(this,Ra,a);for(const{line:f,points:p}of u(this,ki))de._rescale(f,l,c,d,h,f),de._rescale(p,l,c,d,h,p);o[2]*=d,o[3]*=h}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(n)} ${de.svgRound(r)}`}}}get defaultSVGProperties(){const n=u(this,Cr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(n[0])} ${de.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Cr=new WeakMap,v0=new WeakMap,y0=new WeakMap,ki=new WeakMap,Ma=new WeakMap,Ra=new WeakMap,Mp=new WeakMap,Rp=new WeakMap,Hd=new WeakMap,tr=new WeakSet,to=function(n=u(this,Hd)){const r=u(this,y0)+n/2*u(this,Mp);return u(this,Rp)%180===0?[r/u(this,Ma),r/u(this,Ra)]:[r/u(this,Ra),r/u(this,Ma)]},C3=function(){const[n,r,i,s]=u(this,Cr),[a,o]=P(this,tr,to).call(this,0);return[n+a,r+o,i-2*a,s-2*o]},k3=function(){const n=A(this,Cr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of u(this,ki)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)he.pointBoundingBox(s[l],s[l+1],n);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[d,h,f,p,g,v]=s.subarray(l,l+6);he.bezierBoundingBox(a,o,d,h,f,p,g,v,n),a=g,o=v}}const[r,i]=P(this,tr,to).call(this);n[0]=pr(n[0]-r,0,1),n[1]=pr(n[1]-i,0,1),n[2]=pr(n[2]+r,0,1),n[3]=pr(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},P3=function(n){const[r,i]=P(this,tr,to).call(this);A(this,Hd,n);const[s,a]=P(this,tr,to).call(this),[o,l]=[s-r,a-i],c=u(this,Cr);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class _S extends E3{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:At._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new _S(this._viewParameters);return e.updateAll(this),e}}var X1,T3;const nf=class nf extends Vx{constructor(n){super({...n,name:"inkEditor"});C(this,X1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){At.initialize(n,r),this._defaultDrawingOptions=new _S(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ie(this,"typesMap",new Map([[ze.INK_THICKNESS,"stroke-width"],[ze.INK_COLOR,"stroke"],[ze.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,s,a){return new WX(n,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,s,a,o){return $0.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){let s=null;if(n instanceof NT){const{data:{inkLists:o,rect:l,rotation:c,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:g,richText:v,contentsObj:b,creationDate:y,modificationDate:x},parent:{page:{pageNumber:w}}}=n;s=n={annotationType:Te.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:g,richText:v,comment:(b==null?void 0:b.str)||null,creationDate:y,modificationDate:x}}const a=await super.deserialize(n,r,i);return a._initialData=s,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Ux(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ze.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=nf.getDefaultDrawingOptions({stroke:he.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(n),{color:At._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!P(this,X1,T3).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};X1=new WeakSet,T3=function(n){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,l)=>o!==r[l])||n.thickness!==i||n.opacity!==s||n.pageIndex!==a},te(nf,"_type","ink"),te(nf,"_editorType",Te.INK),te(nf,"_defaultDrawingOptions",null);let ZC=nf;class ek extends $0{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Lb=8,Vm=3;var Wd,Je,tk,Hs,N3,O3,nk,Ww,I3,D3,M3,rk,ik,R3;class Ba{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=200,f=d.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:g,actualBoundingBoxAscent:v,actualBoundingBoxDescent:b,fontBoundingBoxAscent:y,fontBoundingBoxDescent:x,width:w}=d.measureText(e),_=1.5,E=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||0,w)*_),k=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||h,Math.abs(y)+Math.abs(x)||h)*_);c=new OffscreenCanvas(E,k),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,E,k),d.fillStyle="black",d.fillText(e,E*(_-1)/2,k*(3-_)/2);const O=P(this,Je,rk).call(this,d.getImageData(0,0,E,k).data),T=P(this,Je,M3).call(this,O),N=P(this,Je,ik).call(this,T),I=P(this,Je,nk).call(this,O,E,k,N);return this.processDrawnLines({lines:{curves:I,width:E,height:k},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=P(this,Je,R3).call(this,e),[c,d]=P(this,Je,D3).call(this,a,o,l,Math.hypot(o,l)*u(this,Wd).sigmaSFactor,u(this,Wd).sigmaR,u(this,Wd).kernelSize),h=P(this,Je,ik).call(this,d),f=P(this,Je,nk).call(this,c,o,l,h);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:d}=e,h=e.thickness??0,f=[],p=Math.min(n/c,r/d),g=p/n,v=p/r,b=[];for(const{points:x}of l){const w=a?P(this,Je,I3).call(this,x):x;if(!w)continue;b.push(w);const _=w.length,E=new Float32Array(_),k=new Float32Array(3*(_===2?2:_-2));if(f.push({line:k,points:E}),_===2){E[0]=w[0]*g,E[1]=w[1]*v,k.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[O,T,N,I]=w;O*=g,T*=v,N*=g,I*=v,E.set([O,T,N,I],0),k.set([NaN,NaN,NaN,NaN,O,T],0);for(let D=4;D<_;D+=2){const M=E[D]=w[D]*g,F=E[D+1]=w[D+1]*v;k.set(de.createBezierPoints(O,T,N,I,M,F),(D-2)*3),[O,T,N,I]=[N,I,M,F]}}if(f.length===0)return null;const y=o?new ek:new $0;return y.build(f,n,r,1,i,o?0:h,s),{outline:y,newCurves:b,areContours:o,thickness:h,width:c,height:d}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const w of e){l+=w.length;for(let _=2,E=w.length;_<E;_++){const k=w[_]-w[_-2];a=Math.min(a,k),o=Math.max(o,k)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const d=e.length,h=Lb+Vm*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=d,f[p++]=c.BYTES_PER_ELEMENT;for(const w of e)f[p++]=w.length-2,f[p++]=w[0],f[p++]=w[1];const g=new CompressionStream("deflate-raw"),v=g.writable.getWriter();await v.ready,v.write(f);const b=c.prototype.constructor;for(const w of e){const _=new b(w.length-2);for(let E=2,k=w.length;E<k;E++)_[E-2]=w[E]-w[E-2];v.write(_)}v.close();const y=await new Response(g.readable).arrayBuffer(),x=new Uint8Array(y);return TB(x)}static async decompressSignature(e){try{const n=mY(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const w of r)a||(a=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),a.set(w,o),o+=w.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],h=l[3],f=l[4]===0,p=l[5],g=l[6],v=l[7],b=[],y=(Lb+Vm*g)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(v){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(a.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(a.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(a.buffer,y);break}o=0;for(let w=0;w<g;w++){const _=l[Vm*w+Lb],E=new Float32Array(_+2);b.push(E);for(let k=0;k<Vm-1;k++)E[k]=l[Vm*w+Lb+k+1];for(let k=0;k<_;k++)E[k+2]=E[k]+x[o++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(n){return Ne(`decompressSignature: ${n}`),null}}}Wd=new WeakMap,Je=new WeakSet,tk=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},Hs=new WeakMap,N3=function(e,n,r,i,s,a,o){const l=P(this,Je,tk).call(this,r,i,s,a);for(let c=0;c<8;c++){const d=(-c+l-o+16)%8,h=u(this,Hs)[2*d],f=u(this,Hs)[2*d+1];if(e[(r+h)*n+(i+f)]!==0)return d}return-1},O3=function(e,n,r,i,s,a,o){const l=P(this,Je,tk).call(this,r,i,s,a);for(let c=0;c<8;c++){const d=(c+l+o+16)%8,h=u(this,Hs)[2*d],f=u(this,Hs)[2*d+1];if(e[(r+h)*n+(i+f)]!==0)return d}return-1},nk=function(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*n]=a[d*n+n-1]=0;for(let d=0;d<n;d++)a[d]=a[n*r-1-d]=0;let o=1,l;const c=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<n-1;h++){const f=d*n+h,p=a[f];if(p===0)continue;let g=d,v=h;if(p===1&&a[f-1]===0)o+=1,v-=1;else if(p>=1&&a[f+1]===0)o+=1,v+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const b=[h,d],y=v===h+1,x={isHole:y,points:b,id:o,parent:0};c.push(x);let w;for(const D of c)if(D.id===l){w=D;break}w?w.isHole?x.parent=y?w.parent:l:x.parent=y?l:w.parent:x.parent=y?l:0;const _=P(this,Je,N3).call(this,a,n,d,h,g,v,0);if(_===-1){a[f]=-o,a[f]!==1&&(l=Math.abs(a[f]));continue}let E=u(this,Hs)[2*_],k=u(this,Hs)[2*_+1];const O=d+E,T=h+k;g=O,v=T;let N=d,I=h;for(;;){const D=P(this,Je,O3).call(this,a,n,N,I,g,v,1);E=u(this,Hs)[2*D],k=u(this,Hs)[2*D+1];const M=N+E,F=I+k;b.push(F,M);const K=N*n+I;if(a[K+1]===0?a[K]=-o:a[K]===1&&(a[K]=o),M===d&&F===h&&N===O&&I===T){a[f]!==1&&(l=Math.abs(a[f]));break}else g=N,v=I,N=M,I=F}}}return c},Ww=function(e,n,r,i){if(r-n<=4){for(let O=n;O<r-2;O+=2)i.push(e[O],e[O+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),d=o/c,h=l/c,f=d*a-h*s,p=l/o,g=1/c,v=Math.atan(p),b=Math.cos(v),y=Math.sin(v),x=g*(Math.abs(b)+Math.abs(y)),w=g*(1-x+x**2),_=Math.max(Math.atan(Math.abs(y+b)*w),Math.atan(Math.abs(y-b)*w));let E=0,k=n;for(let O=n+2;O<r-2;O+=2){const T=Math.abs(f-d*e[O+1]+h*e[O]);T>E&&(k=O,E=T)}E>(c*_)**2?(P(this,Je,Ww).call(this,e,n,k+2,i),P(this,Je,Ww).call(this,e,k,r,i)):i.push(s,a)},I3=function(e){const n=[],r=e.length;return P(this,Je,Ww).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},D3=function(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let v=0;v<a;v++){const b=(v-c)**2;for(let y=0;y<a;y++)o[v*a+y]=Math.exp((b+(y-c)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let v=0;v<256;v++)d[v]=Math.exp(v**2/h);const f=e.length,p=new Uint8Array(f),g=new Uint32Array(256);for(let v=0;v<r;v++)for(let b=0;b<n;b++){const y=v*n+b,x=e[y];let w=0,_=0;for(let k=0;k<a;k++){const O=v+k-c;if(!(O<0||O>=r))for(let T=0;T<a;T++){const N=b+T-c;if(N<0||N>=n)continue;const I=e[O*n+N],D=o[k*a+T]*d[Math.abs(I-x)];w+=I*D,_+=D}}const E=p[y]=Math.round(w/_);g[E]++}return[p,g]},M3=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},rk=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},ik=function(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},R3=function(e){const n=e,{width:r,height:i}=e,{maxDim:s}=u(this,Wd);let a=r,o=i;if(r>s||i>s){let f=r,p=i,g=Math.log2(Math.max(r,i)/s);const v=Math.floor(g);g=g===v?v-1:v;for(let y=0;y<g;y++){a=Math.ceil(f/2),o=Math.ceil(p/2);const x=new OffscreenCanvas(a,o);x.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==n&&e.close(),e=x.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=c.getImageData(0,0,a,o).data;return[P(this,Je,rk).call(this,d),a,o]},C(Ba,Je),C(Ba,Wd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),C(Ba,Hs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class OT extends E3{constructor(){super(),super.updateProperties({fill:At._defaultLineColor,"stroke-width":0})}clone(){const e=new OT;return e.updateAll(this),e}}class IT extends _S{constructor(e){super(e),super.updateProperties({stroke:At._defaultLineColor,"stroke-width":1})}clone(){const e=new IT(this._viewParameters);return e.updateAll(this),e}}var kc,ja,Pc,Vd;const ui=class ui extends Vx{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});C(this,kc,!1);C(this,ja,null);C(this,Pc,null);C(this,Vd,null);this._willKeepAspectRatio=!0,A(this,Pc,n.signatureData||null),A(this,ja,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){At.initialize(n,r),this._defaultDrawingOptions=new OT,this._defaultDrawnSignatureOptions=new IT(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ie(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!u(this,ja)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(u(this,Pc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:d}=u(this,Pc),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,g=Ba.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:p,innerMargin:ui._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,d,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:u(this,ja)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){A(this,Vd,n),this.addEditToolbar()}getUuid(){return u(this,Vd)}get description(){return u(this,ja)}set description(n){A(this,ja,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:s,height:a}=u(this,Pc),o=Math.max(s,a),l=Ba.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,s){const{x:a,y:o}=this,{outline:l}=A(this,Pc,n);A(this,kc,l instanceof ek),this.description=i;let c;u(this,kc)?c=ui.getDefaultDrawingOptions():(c=ui._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,d]=this.pageDimensions;let h=r/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Ba.process(n,r,i,s,ui._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return Ba.extractContoursFromText(n,r,i,s,a,ui._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return Ba.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:ui._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=ui.getDefaultDrawingOptions():(this._drawingOptions=ui._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:u(this,kc),color:[0,0,0],thickness:u(this,kc)?0:s});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=u(this,Vd),a.isCopy=!0):a.lines=r,u(this,ja)&&(a.accessibilityData={type:"Figure",alt:u(this,ja)}),a}static deserializeDraw(n,r,i,s,a,o){return o.areContours?ek.deserialize(n,r,i,s,a,o):$0.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){var a;const s=await super.deserialize(n,r,i);return A(s,kc,n.areContours),s.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",A(s,Vd,n.uuid),s}};kc=new WeakMap,ja=new WeakMap,Pc=new WeakMap,Vd=new WeakMap,te(ui,"_type","signature"),te(ui,"_editorType",Te.SIGNATURE),te(ui,"_defaultDrawingOptions",null);let sk=ui;var Mt,jn,Tc,jo,Nc,jp,Lo,Gd,La,Pi,Lp,Ye,_g,Cg,Vw,Gw,Kw,ok,qw,j3;class ak extends At{constructor(n){super({...n,name:"stampEditor"});C(this,Ye);C(this,Mt,null);C(this,jn,null);C(this,Tc,null);C(this,jo,null);C(this,Nc,null);C(this,jp,"");C(this,Lo,null);C(this,Gd,!1);C(this,La,null);C(this,Pi,!1);C(this,Lp,!1);A(this,jo,n.bitmapUrl),A(this,Nc,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){At.initialize(n,r)}static isHandlingMimeForPasting(n){return Rx.includes(n)}static paste(n,r){r.pasteEditor({mode:Te.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;u(this,jn)&&(A(this,Mt,null),this._uiManager.imageManager.deleteId(u(this,jn)),(n=u(this,Lo))==null||n.remove(),A(this,Lo,null),u(this,La)&&(clearTimeout(u(this,La)),A(this,La,null))),super.remove()}rebuild(){if(!this.parent){u(this,jn)&&P(this,Ye,Vw).call(this);return}super.rebuild(),this.div!==null&&(u(this,jn)&&u(this,Lo)===null&&P(this,Ye,Vw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(u(this,Tc)||u(this,Mt)||u(this,jo)||u(this,Nc)||u(this,jn)||u(this,Gd))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),u(this,Gd)||(u(this,Mt)?P(this,Ye,Gw).call(this):P(this,Ye,Vw).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(A(this,jn,i),s&&A(this,Mt,s),A(this,Gd,!1),P(this,Ye,Gw).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;u(this,La)!==null&&clearTimeout(u(this,La)),A(this,La,setTimeout(()=>{A(this,La,null),P(this,Ye,ok).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:s,height:a}=u(this,Mt),o=new ia;let l=u(this,Mt),c=s,d=a,h=null;if(r){if(s>r||a>r){const O=Math.min(r/s,r/a);c=Math.floor(s*O),d=Math.floor(a*O)}h=document.createElement("canvas");const p=h.width=Math.ceil(c*o.sx),g=h.height=Math.ceil(d*o.sy);u(this,Pi)||(l=P(this,Ye,Kw).call(this,p,g));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":yY.isDarkMode&&(b="#8f8f9d",y="#42414d");const x=15,w=x*o.sx,_=x*o.sy,E=new OffscreenCanvas(w*2,_*2),k=E.getContext("2d");k.fillStyle=b,k.fillRect(0,0,w*2,_*2),k.fillStyle=y,k.fillRect(0,0,w,_),k.fillRect(w,_,w,_),v.fillStyle=v.createPattern(E,"repeat"),v.fillRect(0,0,p,g),v.drawImage(l,0,0,l.width,l.height,0,0,p,g)}let f=null;if(i){let p,g;if(o.symmetric&&l.width<n&&l.height<n)p=l.width,g=l.height;else if(l=u(this,Mt),s>n||a>n){const y=Math.min(n/s,n/a);p=Math.floor(s*y),g=Math.floor(a*y),u(this,Pi)||(l=P(this,Ye,Kw).call(this,p,g))}const b=new OffscreenCanvas(p,g).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,p,g),f={width:p,height:g,data:b.getImageData(0,0,p,g).data}}return{canvas:h,width:c,height:d,imageData:f}}static async deserialize(n,r,i){var b;let s=null,a=!1;if(n instanceof J$){const{data:{rect:y,rotation:x,id:w,structParent:_,popupRef:E,richText:k,contentsObj:O,creationDate:T,modificationDate:N},container:I,parent:{page:{pageNumber:D}},canvas:M}=n;let F,K;M?(delete n.canvas,{id:F,bitmap:K}=i.imageManager.getFromCanvas(I.id,M),M.remove()):(a=!0,n._hasNoCanvas=!0);const Q=((b=await r._structTree.getAriaAttributes(`${Xh}${w}`))==null?void 0:b.get("aria-label"))||"";s=n={annotationType:Te.STAMP,bitmapId:F,bitmap:K,pageIndex:D-1,rect:y.slice(0),rotation:x,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:Q},isSvg:!1,structParent:_,popupRef:E,richText:k,comment:(O==null?void 0:O.str)||null,creationDate:T,modificationDate:N}}const o=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,o),A(o,Gd,!0)):h&&i.imageManager.isValidId(h)?(A(o,jn,h),c&&A(o,Mt,c)):A(o,jo,d),A(o,Pi,f);const[g,v]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/v,p&&(o.altTextData=p),o._initialData=s,n.comment&&o.setCommentData(n),A(o,Lp,!!s),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:u(this,jn),isSvg:u(this,Pi)});if(this.addComment(i),n)return i.bitmapUrl=P(this,Ye,qw).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=P(this,Ye,j3).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=u(this,Pi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(u(this,jn)))r.stamps.set(u(this,jn),{area:o,serialized:i}),i.bitmap=P(this,Ye,qw).call(this,!1);else if(u(this,Pi)){const l=r.stamps.get(u(this,jn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=P(this,Ye,qw).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Mt=new WeakMap,jn=new WeakMap,Tc=new WeakMap,jo=new WeakMap,Nc=new WeakMap,jp=new WeakMap,Lo=new WeakMap,Gd=new WeakMap,La=new WeakMap,Pi=new WeakMap,Lp=new WeakMap,Ye=new WeakSet,_g=function(n,r=!1){if(!n){this.remove();return}A(this,Mt,n.bitmap),r||(A(this,jn,n.id),A(this,Pi,n.isSvg)),n.file&&A(this,jp,n.file.name),P(this,Ye,Gw).call(this)},Cg=function(){if(A(this,Tc,null),this._uiManager.enableWaiting(!1),!!u(this,Lo)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Mt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Mt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Vw=function(){if(u(this,jn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,jn)).then(i=>P(this,Ye,_g).call(this,i,!0)).finally(()=>P(this,Ye,Cg).call(this));return}if(u(this,jo)){const i=u(this,jo);A(this,jo,null),this._uiManager.enableWaiting(!0),A(this,Tc,this._uiManager.imageManager.getFromUrl(i).then(s=>P(this,Ye,_g).call(this,s)).finally(()=>P(this,Ye,Cg).call(this)));return}if(u(this,Nc)){const i=u(this,Nc);A(this,Nc,null),this._uiManager.enableWaiting(!0),A(this,Tc,this._uiManager.imageManager.getFromFile(i).then(s=>P(this,Ye,_g).call(this,s)).finally(()=>P(this,Ye,Cg).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Rx.join(",");const r=this._uiManager._signal;A(this,Tc,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),P(this,Ye,_g).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>P(this,Ye,Cg).call(this))),n.click()},Gw=function(){var c;const{div:n}=this;let{width:r,height:i}=u(this,Mt);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const d=Math.min(o*s/r,o*a/i);r*=d,i*=d}this._uiManager.enableWaiting(!1);const l=A(this,Lo,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),P(this,Ye,ok).call(this),u(this,Lp)||(this.parent.addUndoableEditor(this),A(this,Lp,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,jp)&&this.div.setAttribute("aria-description",u(this,jp)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Kw=function(n,r){const{width:i,height:s}=u(this,Mt);let a=i,o=s,l=u(this,Mt);for(;a>2*n||o>2*r;){const c=a,d=o;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=h.transferToImageBitmap()}return l},ok=function(){const[n,r]=this.parentDimensions,{width:i,height:s}=this,a=new ia,o=Math.ceil(i*n*a.sx),l=Math.ceil(s*r*a.sy),c=u(this,Lo);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const d=u(this,Pi)?u(this,Mt):P(this,Ye,Kw).call(this,o,l),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},qw=function(n){if(n){if(u(this,Pi)){const s=this._uiManager.imageManager.getSvgUrl(u(this,jn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=u(this,Mt),r.getContext("2d").drawImage(u(this,Mt),0,0),r.toDataURL()}if(u(this,Pi)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*ml.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*ml.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(u(this,Mt),0,0,u(this,Mt).width,u(this,Mt).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(u(this,Mt))},j3=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=n.pageIndex===r,a=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},te(ak,"_type","stamp"),te(ak,"_editorType",Te.STAMP);var Kd,Fp,Oc,Ic,Fo,Xr,Dc,Bp,$p,Ws,Bo,Ln,$o,Mc,Up,ye,Rc,pt,lk,L3,pa,ck,uk,Yw;const Is=class Is{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){C(this,pt);C(this,Kd);C(this,Fp,!1);C(this,Oc,null);C(this,Ic,null);C(this,Fo,null);C(this,Xr,new Map);C(this,Dc,!1);C(this,Bp,!1);C(this,$p,!1);C(this,Ws,null);C(this,Bo,null);C(this,Ln,null);C(this,$o,null);C(this,Mc,null);C(this,Up,-1);C(this,ye);const h=[...u(Is,Rc).values()];if(!Is._initialized){Is._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),A(this,ye,e),this.pageIndex=n,this.div=r,A(this,Kd,s),A(this,Oc,a),this.viewport=c,A(this,Ln,l),this.drawLayer=o,this._structTree=i,u(this,ye).addLayer(this)}get isEmpty(){return u(this,Xr).size===0}get isInvisible(){return this.isEmpty&&u(this,ye).getMode()===Te.NONE}updateToolbar(e){u(this,ye).updateToolbar(e)}updateMode(e=u(this,ye).getMode()){switch(P(this,pt,Yw).call(this),e){case Te.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Te.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Te.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of u(Is,Rc).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=u(this,Ln))==null?void 0:n.div)}setEditingState(e){u(this,ye).setEditingState(e)}addCommands(e){u(this,ye).addCommands(e)}cleanUndoStack(e){u(this,ye).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=u(this,Oc))==null||n.togglePointerEvents(e)}async enable(){var r;A(this,$p,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=u(this,Mc))==null||r.abort(),A(this,Mc,null);const e=new Set;for(const i of u(this,pt,lk))i.enableEditing(),i.show(!0),i.annotationElementId&&(u(this,ye).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=u(this,Oc);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),u(this,ye).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}A(this,$p,!1),u(this,ye)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(A(this,Bp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),u(this,Ln)&&!u(this,Mc)){A(this,Mc,new AbortController);const s=u(this,ye).combinedSignal(u(this,Mc));u(this,Ln).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:d}=a,h=u(this,Up);if(d-h>500){A(this,Up,d);return}A(this,Up,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const v=new RegExp(`^${fv}[0-9]+$`);for(const y of p)if(v.test(y.id)){g=y.id;break}if(!g)return;const b=u(this,Xr).get(g);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=u(this,Oc),n=[];if(e){const s=new Map,a=new Map;for(const l of u(this,pt,lk)){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(u(this,ye).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=a.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=s.get(c),d&&(u(this,ye).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}P(this,pt,Yw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of u(Is,Rc).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(n),A(this,Bp,!1)}getEditableAnnotation(e){var n;return((n=u(this,Oc))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,ye).getActive()!==e&&u(this,ye).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,Ln))!=null&&e.div&&!u(this,$o)){A(this,$o,new AbortController);const n=u(this,ye).combinedSignal(u(this,$o));u(this,Ln).div.addEventListener("pointerdown",P(this,pt,L3).bind(this),{signal:n}),u(this,Ln).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,Ln))!=null&&e.div&&u(this,$o)&&(u(this,$o).abort(),A(this,$o,null),u(this,Ln).div.classList.remove("highlighting"))}enableClick(){if(u(this,Ic))return;A(this,Ic,new AbortController);const e=u(this,ye).combinedSignal(u(this,Ic));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=u(this,Ic))==null||e.abort(),A(this,Ic,null)}attach(e){u(this,Xr).set(e.id,e);const{annotationElementId:n}=e;n&&u(this,ye).isDeletedAnnotationElement(n)&&u(this,ye).removeDeletedAnnotationElement(e)}detach(e){var n;u(this,Xr).delete(e.id),(n=u(this,Kd))==null||n.removePointerInTextLayer(e.contentDiv),!u(this,Bp)&&e.annotationElementId&&u(this,ye).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,ye).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,ye).addDeletedAnnotationElement(e.annotationElementId),At.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,ye).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!u(this,$p)),u(this,ye).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!u(this,Fo)&&(e._focusEventsAllowed=!1,A(this,Fo,setTimeout(()=>{A(this,Fo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,ye)._signal}),n.focus())},0))),e._structTreeParentId=(r=u(this,Kd))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of u(this,Xr).values())if(n.uid===e)return n;return null}getNextId(){return u(this,ye).getId()}combinedSignal(e){return u(this,ye).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,pt,pa))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await u(this,ye).updateMode(e.mode);const{offsetX:r,offsetY:i}=P(this,pt,uk).call(this),s=this.getNextId(),a=P(this,pt,ck).call(this,{parent:this,id:s,x:r,y:i,uiManager:u(this,ye),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=u(Is,Rc).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,u(this,ye)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=P(this,pt,ck).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:u(this,ye),isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(P(this,pt,uk).call(this),!0,e)}setSelected(e){u(this,ye).setSelected(e)}toggleSelected(e){u(this,ye).toggleSelected(e)}unselect(e){u(this,ye).unselect(e)}pointerup(e){var i;const{isMac:n}=zn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!u(this,Dc)||(A(this,Dc,!1),(i=u(this,pt,pa))!=null&&i.isDrawer&&u(this,pt,pa).supportMultipleDrawings))return;if(!u(this,Fp)){A(this,Fp,!0);return}const r=u(this,ye).getMode();if(r===Te.STAMP||r===Te.SIGNATURE){u(this,ye).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(u(this,ye).getMode()===Te.HIGHLIGHT&&this.enableTextSelection(),u(this,Dc)){A(this,Dc,!1);return}const{isMac:n}=zn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(A(this,Dc,!0),(i=u(this,pt,pa))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=u(this,ye).getActive();A(this,Fp,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),u(this,Ws)){u(this,pt,pa).startDrawing(this,u(this,ye),!1,e);return}u(this,ye).setCurrentDrawingSession(this),A(this,Ws,new AbortController);const n=u(this,ye).combinedSignal(u(this,Ws));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(A(this,Bo,null),this.commitOrRemove())},{signal:n}),u(this,pt,pa).startDrawing(this,u(this,ye),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&A(this,Bo,n);return}u(this,Bo)&&setTimeout(()=>{var n;(n=u(this,Bo))==null||n.focus(),A(this,Bo,null)},0)}endDrawingSession(e=!1){return u(this,Ws)?(u(this,ye).setCurrentDrawingSession(null),u(this,Ws).abort(),A(this,Ws,null),A(this,Bo,null),u(this,pt,pa).endDrawing(e)):null}findNewParent(e,n,r){const i=u(this,ye).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return u(this,Ws)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,Ws)&&u(this,pt,pa).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=u(this,ye).getActive())==null?void 0:e.parent)===this&&(u(this,ye).commitOrRemove(),u(this,ye).setActiveEditor(null)),u(this,Fo)&&(clearTimeout(u(this,Fo)),A(this,Fo,null));for(const r of u(this,Xr).values())(n=u(this,Kd))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,u(this,Xr).clear(),u(this,ye).removeLayer(this)}render({viewport:e}){this.viewport=e,Jc(this.div,e);for(const n of u(this,ye).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){u(this,ye).commitOrRemove(),P(this,pt,Yw).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Jc(this.div,{rotation:r}),n!==r)for(const i of u(this,Xr).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return u(this,ye).viewParameters.realScale}};Kd=new WeakMap,Fp=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,Fo=new WeakMap,Xr=new WeakMap,Dc=new WeakMap,Bp=new WeakMap,$p=new WeakMap,Ws=new WeakMap,Bo=new WeakMap,Ln=new WeakMap,$o=new WeakMap,Mc=new WeakMap,Up=new WeakMap,ye=new WeakMap,Rc=new WeakMap,pt=new WeakSet,lk=function(){return u(this,Xr).size!==0?u(this,Xr).values():u(this,ye).getEditors(this.pageIndex)},L3=function(e){u(this,ye).unselectAll();const{target:n}=e;if(n===u(this,Ln).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&u(this,Ln).div.contains(n)){const{isMac:r}=zn.platform;if(e.button!==0||e.ctrlKey&&r)return;u(this,ye).showAllEditors("highlight",!0,!0),u(this,Ln).div.classList.add("free"),this.toggleDrawing(),Wx.startHighlighting(this,u(this,ye).direction==="ltr",{target:u(this,Ln).div,x:e.x,y:e.y}),u(this,Ln).div.addEventListener("pointerup",()=>{u(this,Ln).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,ye)._signal}),e.preventDefault()}},pa=function(){return u(Is,Rc).get(u(this,ye).getMode())},ck=function(e){const n=u(this,pt,pa);return n?new n.prototype.constructor(e):null},uk=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,d=(a+l)/2-n,[h,f]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:f}},Yw=function(){for(const e of u(this,Xr).values())e.isEmpty()&&e.remove()},te(Is,"_initialized",!1),C(Is,Rc,new Map([HC,ZC,ak,Wx,sk].map(e=>[e._editorType,e])));let Gx=Is;var Vs,kr,qd,b0,Q1,F3,Ya,dk,B3,hk;const bn=class bn{constructor({pageIndex:e}){C(this,Ya);C(this,Vs,null);C(this,kr,new Map);C(this,qd,new Map);this.pageIndex=e}setParent(e){if(!u(this,Vs)){A(this,Vs,e);return}if(u(this,Vs)!==e){if(u(this,kr).size>0)for(const n of u(this,kr).values())n.remove(),e.append(n);A(this,Vs,e)}}static get _svgFactory(){return Ie(this,"_svgFactory",new bv)}draw(e,n=!1,r=!1){const i=vn(bn,b0)._++,s=P(this,Ya,dk).call(this),a=bn._svgFactory.createElement("defs");s.append(a);const o=bn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&u(this,qd).set(i,o);const c=r?P(this,Ya,B3).call(this,a,l):null,d=bn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),u(this,kr).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=vn(bn,b0)._++,i=P(this,Ya,dk).call(this),s=bn._svgFactory.createElement("defs");i.append(s);const a=bn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=bn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=bn._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=bn._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=bn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),u(this,kr).set(r,i),r}finalizeDraw(e,n){u(this,qd).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?u(this,kr).get(e):e;if(o){if(r&&P(this,Ya,hk).call(this,o,r),i&&P(l=bn,Q1,F3).call(l,o,i),s){const{classList:c}=o;for(const[d,h]of Object.entries(s))c.toggle(d,h)}if(a){const d=o.firstChild.firstChild;P(this,Ya,hk).call(this,d,a)}}}updateParent(e,n){if(n===this)return;const r=u(this,kr).get(e);r&&(u(n,Vs).append(r),u(this,kr).delete(e),u(n,kr).set(e,r))}remove(e){u(this,qd).delete(e),u(this,Vs)!==null&&(u(this,kr).get(e).remove(),u(this,kr).delete(e))}destroy(){A(this,Vs,null);for(const e of u(this,kr).values())e.remove();u(this,kr).clear(),u(this,qd).clear()}};Vs=new WeakMap,kr=new WeakMap,qd=new WeakMap,b0=new WeakMap,Q1=new WeakSet,F3=function(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Ya=new WeakSet,dk=function(){const e=bn._svgFactory.create(1,1,!0);return u(this,Vs).append(e),e.setAttribute("aria-hidden",!0),e},B3=function(e,n){const r=bn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=bn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},hk=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},C(bn,Q1),C(bn,b0,0);let Kx=bn;globalThis._pdfjsTestingUtils={HighlightOutliner:VC};globalThis.pdfjsLib={AbortException:pl,AnnotationEditorLayer:Gx,AnnotationEditorParamsType:ze,AnnotationEditorType:Te,AnnotationEditorUIManager:Zc,AnnotationLayer:zx,AnnotationMode:zo,AnnotationType:nn,applyOpacity:MB,build:$$,ColorPicker:yv,createValidAbsoluteUrl:bT,CSSConstants:DB,DOMSVGFactory:bv,DrawLayer:Kx,FeatureTest:zn,fetchData:ym,findContrastColor:RB,getDocument:$x,getFilenameFromUrl:NB,getPdfFilenameFromUrl:OB,getRGB:bm,getUuid:xT,getXfaPageViewport:IB,GlobalWorkerOptions:$n,ImageKind:Wg,InvalidPDFException:Mx,isDataScheme:L0,isPdfFile:AS,isValidExplicitDest:v$,MathClamp:pr,noContextMenu:zi,normalizeUnicode:PB,OPS:Jp,OutputScale:ia,PasswordResponses:CB,PDFDataRangeTransport:kT,PDFDateString:gv,PDFWorker:em,PermissionFlag:_B,PixelsPerInch:ml,RenderingCancelledException:SS,renderRichText:AT,ResponseException:pv,setLayerDimensions:Jc,shadow:Ie,SignatureExtractor:Ba,stopEvent:Ht,SupportedImageMimeTypes:Rx,TextLayer:Zp,TouchManager:vv,updateUrlHash:wT,Util:he,VerbosityLevel:M0,version:PT,XfaLayer:ST};const $3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:pl,AnnotationEditorLayer:Gx,AnnotationEditorParamsType:ze,AnnotationEditorType:Te,AnnotationEditorUIManager:Zc,AnnotationLayer:zx,AnnotationMode:zo,AnnotationType:nn,CSSConstants:DB,ColorPicker:yv,DOMSVGFactory:bv,DrawLayer:Kx,FeatureTest:zn,GlobalWorkerOptions:$n,ImageKind:Wg,InvalidPDFException:Mx,MathClamp:pr,OPS:Jp,OutputScale:ia,PDFDataRangeTransport:kT,PDFDateString:gv,PDFWorker:em,PasswordResponses:CB,PermissionFlag:_B,PixelsPerInch:ml,RenderingCancelledException:SS,ResponseException:pv,SignatureExtractor:Ba,SupportedImageMimeTypes:Rx,TextLayer:Zp,TouchManager:vv,Util:he,VerbosityLevel:M0,XfaLayer:ST,applyOpacity:MB,build:$$,createValidAbsoluteUrl:bT,fetchData:ym,findContrastColor:RB,getDocument:$x,getFilenameFromUrl:NB,getPdfFilenameFromUrl:OB,getRGB:bm,getUuid:xT,getXfaPageViewport:IB,isDataScheme:L0,isPdfFile:AS,isValidExplicitDest:v$,noContextMenu:zi,normalizeUnicode:PB,renderRichText:AT,setLayerDimensions:Jc,shadow:Ie,stopEvent:Ht,updateUrlHash:wT,version:PT},Symbol.toStringTag,{value:"Module"})),Ot=(...t)=>{},Zi=(...t)=>{},U3=()=>{try{if(!$3||!$n){Zi("PDF.js library not available yet");return}if($n.workerSrc){Ot("PDF.js worker already configured:",$n.workerSrc);return}const t=PT||"5.4.394",e=`https://unpkg.com/pdfjs-dist@${t}/build/pdf.worker.min.mjs`;$n.workerSrc=e,Ot("PDF.js worker configured:",e,"Version:",t)}catch{}};U3();function VX({expenses:t,onFilterByCard:e,scrollToTable:n}){const[r,i]=S.useState(D0()),[s,a]=S.useState(!1),[o,l]=S.useState({cardName:"",creditLimit:"",currentBalance:"",dueDate:""}),[c,d]=S.useState(""),h=E=>{const k=new Date,O=k.getMonth(),T=k.getFullYear();return t.filter(N=>{const I=new Date(N.date),D=I.getMonth()===O&&I.getFullYear()===T,M=N.note&&N.note.toLowerCase().includes(E.toLowerCase());return D&&M}).reduce((N,I)=>N+(Number(I.amount)||0),0)},f=E=>{e&&e(E),n&&n()},p={chase:"/Chase-Logo-2.svg",citi:"/Citi-Logo-6.svg","capital one":"/Capital-One-Logo-1.svg",discover:"/Discover-Logo-3.svg","bank of america":"/Bank-of-America-Logo-5.svg"};S.useEffect(()=>{const E=o.cardName.toLowerCase(),k=Object.keys(p).find(O=>E.includes(O.toLowerCase()));d(k?p[k]:"")},[o.cardName]);function g(E){const k=E.toLowerCase(),O=Object.keys(p).find(T=>k.includes(T.toLowerCase()));return O?p[O]:""}function v(E){if(E.preventDefault(),!o.cardName||!o.creditLimit||!o.currentBalance||!o.dueDate)return;const k=g(o.cardName),O={cardName:o.cardName,creditLimit:Number(o.creditLimit),currentBalance:Number(o.currentBalance),dueDate:o.dueDate,logo:k},T=tY(O);i(T),l({cardName:"",creditLimit:"",currentBalance:"",dueDate:""}),d(""),a(!1)}function b(E){const k=nY(E);i(k)}function y(E){return!E.creditLimit||E.creditLimit===0?0:Math.round(E.currentBalance/E.creditLimit*100)}function x(E){return E<30?"#10b981":E<=80?"#F4A261":"#ef4444"}function w(E){return E?new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}const _=E=>Number.isFinite(E)?`$${E.toFixed(2)}`:"$0.00";return m.jsxs("section",{className:"card col-12 credit-card-tracker-card",style:{marginTop:"40px"},children:[m.jsxs("div",{className:"credit-card-tracker-header",children:[m.jsxs("div",{className:"credit-card-tracker-title-section",children:[m.jsx(gB,{className:"credit-card-tracker-icon"}),m.jsx("h3",{className:"chart-title",children:"Credit Card Tracker"})]}),!s&&m.jsx("button",{className:"btn secondary",onClick:()=>a(!0),style:{padding:"8px 16px",fontSize:"14px",margin:0},children:"Add Credit Card"})]}),s&&m.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px"},children:m.jsxs("form",{onSubmit:v,className:"row",style:{gap:"8px",flexWrap:"wrap",alignItems:"flex-end"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",flex:"1",minWidth:"120px",gap:"10px"},children:[m.jsx("input",{className:"input",type:"text",placeholder:"Card Name",value:o.cardName,onChange:E=>l({...o,cardName:E.target.value}),style:{flex:"1",minWidth:"0"},required:!0}),c&&m.jsx("img",{src:c,alt:"Bank logo",style:{width:"45px",height:"auto",objectFit:"contain",verticalAlign:"middle"}})]}),m.jsx("input",{className:"input",type:"number",step:"0.01",placeholder:"Credit Limit",value:o.creditLimit,onChange:E=>l({...o,creditLimit:E.target.value}),style:{flex:"1",minWidth:"120px"},required:!0}),m.jsx("input",{className:"input",type:"number",step:"0.01",placeholder:"Current Balance",value:o.currentBalance,onChange:E=>l({...o,currentBalance:E.target.value}),style:{flex:"1",minWidth:"120px"},required:!0}),m.jsx("input",{className:"input",type:"date",placeholder:"Due Date",value:o.dueDate,onChange:E=>l({...o,dueDate:E.target.value}),style:{flex:"1",minWidth:"140px"},required:!0}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("button",{className:"btn",type:"submit",style:{margin:0},children:"Add"}),m.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{a(!1),l({cardName:"",creditLimit:"",currentBalance:"",dueDate:""}),d("")},style:{margin:0},children:"Cancel"})]})]})}),r.length===0&&!s&&m.jsx("div",{className:"center",style:{margin:"1rem 0"},children:m.jsx("p",{className:"muted",children:"No credit card data yet."})}),r.length>0&&m.jsx("div",{className:"credit-cards-grid",children:r.map(E=>{const k=y(E),O=x(k),T=h(E.cardName);return m.jsxs("div",{className:"credit-card-item",children:[m.jsxs("div",{className:"credit-card-header",children:[m.jsx("div",{className:"credit-card-title-section",children:E.logo||g(E.cardName)?m.jsx("img",{src:E.logo||g(E.cardName),alt:`${E.cardName} logo`,className:"credit-card-logo"}):m.jsx("h4",{className:"credit-card-name",children:E.cardName})}),m.jsx("button",{onClick:()=>b(E.id),type:"button",className:"credit-card-delete-btn",title:"Delete card","aria-label":"Delete card",children:m.jsx(z_,{size:18})})]}),m.jsxs("div",{className:"credit-card-balance-section",children:[m.jsxs("div",{className:"credit-card-balance-row",children:[m.jsx("span",{className:"credit-card-balance-label",children:"Balance"}),m.jsx("span",{className:"credit-card-balance-value",children:_(E.currentBalance)})]}),m.jsxs("div",{className:"credit-card-balance-row",children:[m.jsx("span",{className:"credit-card-balance-label",children:"Limit"}),m.jsx("span",{className:"credit-card-balance-value",children:_(E.creditLimit)})]}),m.jsxs("div",{className:"credit-card-balance-row",children:[m.jsx("span",{className:"credit-card-balance-label",children:"Utilization"}),m.jsxs("span",{className:"credit-card-balance-value",children:[k,"%"]})]})]}),m.jsx("div",{className:"credit-card-divider credit-card-monthly-divider"}),m.jsxs("div",{className:"credit-card-monthly-section",children:[m.jsx("span",{className:"credit-card-monthly-label",children:"This month's charges:"}),m.jsxs("span",{className:"credit-card-monthly-value",children:["$",T.toFixed(2)]})]}),m.jsx("div",{className:"credit-card-progress-container",children:m.jsx("div",{className:"credit-card-progress-bar",style:{width:`${Math.min(100,k)}%`,backgroundColor:O}})}),m.jsxs("div",{className:"credit-card-footer",children:[m.jsxs("span",{className:"credit-card-due-date",children:["Due: ",w(E.dueDate)]}),m.jsxs("button",{onClick:()=>f(E.cardName),type:"button",className:"btn secondary credit-card-view-btn credit-card-view-btn-pill",children:[m.jsx(sg,{size:14}),m.jsx("span",{children:"View transactions"})]})]})]},E.id)})})]})}function GX(){const[t,e]=S.useState(0),n=["Uncategorized","Food","Bills","Travel","Shopping","Entertainment","Health","Income","Miscellaneous","Other"],[r,i]=S.useState({amount:"",category:"",date:new Date().toISOString().slice(0,10),note:""}),[s,a]=S.useState(""),[o,l]=S.useState("all"),[c,d]=S.useState(""),[h,f]=S.useState(null),[p,g]=S.useState(null),[v,b]=S.useState(null),[y,x]=S.useState(!1),[w,_]=S.useState(null),[E,k]=S.useState([]),[O,T]=S.useState(!1),[N,I]=S.useState(0),[D,M]=S.useState([]),[F,K]=S.useState(!1),[Q,Y]=S.useState([]),[U,z]=S.useState(!1),[W,ne]=S.useState(0),[re,X]=S.useState(!1),[J,ue]=S.useState(!1),[Z,le]=S.useState(null),[ge,L]=S.useState(!1),[R,$]=S.useState(null),[G,B]=S.useState(""),[ae,se]=S.useState([]),[fe,ve]=S.useState([]),We=S.useRef(null),xe=()=>{We.current&&We.current.scrollIntoView({behavior:"smooth",block:"start"})},Ge={STARBUCKS:"Starbucks",UBER:"Uber","UBER *TRIP":"Uber",AMZN:"Amazon","AMAZON MKTPLACE":"Amazon",MCDONALDS:"McDonald's"},gn=j=>{if(!j)return j;const q=j.toUpperCase().trim();for(const[ee,be]of Object.entries(Ge))if(q.includes(ee))return be;let V=j.trim();return V=V.replace(/#\d+/g,""),V=V.replace(/\s+\d+$/,""),V=V.replace(/\s+/g," ").trim(),V},Nt=j=>{if(!j||typeof j!="string")return"Other";const q=j.toLowerCase().trim();return["grocery","grocery store","supermarket","restaurant","burger","coffee","cafe","pizza","food","dining","fast food","starbucks","mcdonald","subway","chipotle","taco","dunkin","panera","deli","bakery","pizza hut","domino"].some(Ee=>q.includes(Ee))?"Food":["electric","electricity","gas bill","utility","utilities","water","wifi","internet","phone","cell phone","mobile","cable","tv","television","internet service","power","energy","heating","cooling","trash","sewer"].some(Ee=>q.includes(Ee))?"Bills":["uber","lyft","taxi","cab","gas station","gas","fuel","exxon","shell","chevron","bp","mobil","parking","metro","subway","bus","train","transit","toll","ezpass"].some(Ee=>q.includes(Ee))?"Travel":["amazon","target","walmart","clothing","store","mall","online shopping","retail","shop","purchase","buy","merchandise","department store","costco","best buy","home depot","lowes","nike","adidas"].some(Ee=>q.includes(Ee))?"Shopping":["movie","cinema","theater","netflix","spotify","hulu","disney","streaming","game","gaming","concert","show","ticket","event","entertainment","amc","regal"].some(Ee=>q.includes(Ee))?"Entertainment":["payroll","deposit","salary","paycheck","income","direct deposit","wage","payment received","refund","reimbursement"].some(Ee=>q.includes(Ee))?"Income":["pharmacy","cvs","walgreens","rite aid","doctor","hospital","medical","health","dental","vision","prescription","clinic","urgent care"].some(Ee=>q.includes(Ee))?"Health":"Other"},Sr=j=>{d(j),a(""),l("all")},Ps=(j,q)=>{var ee,be;if(!j)return null;if(q){if(q==="application/pdf"||q==="application/x-pdf")return"PDF";if((q==="text/csv"||q==="application/csv"||q==="text/plain")&&((ee=j.split(".").pop())==null?void 0:ee.toLowerCase())==="csv")return"CSV"}const V=(be=j.split(".").pop())==null?void 0:be.toLowerCase();if(!V)return"UNKNOWN";switch(V){case"csv":return"CSV";case"pdf":return"PDF";default:return"UNKNOWN"}},ln=j=>{if(Ot("parseCSV called with text length:",(j==null?void 0:j.length)||0),!j||typeof j!="string"){console.error("parseCSV: Invalid CSV text provided",typeof j),k([]);return}sY.parse(j,{header:!0,skipEmptyLines:!0,transformHeader:q=>q.trim().toLowerCase(),complete:q=>{var be,Se;Ot("Results:",{dataLength:((be=q.data)==null?void 0:be.length)||0,errors:((Se=q.errors)==null?void 0:Se.length)||0,meta:q.meta});const V=[],ee=[];q.data&&q.data.length>0&&q.data[0],q.data.forEach((ke,Me)=>{try{if(Object.keys(ke).length===0||Object.values(ke).every(_t=>!_t||_t.toString().trim()===""))return;let we=null,Ee=null,Ve=null;const Et=["date","transaction date","trans_date","posted date","posting date","transaction_date","trans date","post date","date posted"];for(const _t of Et)if(ke[_t]&&ke[_t].toString().trim()){we=ke[_t].toString().trim();break}const yt=["description","merchant","transaction","details","memo","payee","vendor","name","merchant name","payee name","transaction description"];for(const _t of yt)if(ke[_t]&&ke[_t].toString().trim()){Ee=ke[_t].toString().trim();break}const $e=["amount","transaction amount","debit","credit","balance","value","total","transaction_amount"];for(const _t of $e)if(ke[_t]!==null&&ke[_t]!==void 0&&ke[_t].toString().trim()!==""){let $r=ke[_t].toString().trim();$r=$r.replace(/[,$]/g,"");const _h=$r.startsWith("(")&&$r.endsWith(")");_h&&($r="-"+$r.slice(1,-1)),!_h&&$r.startsWith("-");const Ol=parseFloat($r);if(!isNaN(Ol)){Ve=Ol;break}}if(we||Ee||Ve!==null&&Ve!==0){const _t=Ee?gn(Ee):"";V.push({date:we||"",description:_t,amount:Ve!==null?Ve:0,category:Nt(_t),rawRow:ke})}}catch(we){ee.push({row:Me+1,error:we.message})}}),ee.length>0,Ot(`Setting parsedTransactions with ${V.length} transactions`),k(V),Ot(` Parsed ${V.length} transactions from CSV`),V.length===0?Zi("CSV might have different column structure. Available columns:",q.data&&q.data.length>0?Object.keys(q.data[0]):"none"):Ot("Sample transactions:",V.slice(0,3))},error:q=>{console.error("CSV parsing error:",q),console.error("Error details:",{message:q.message,code:q.code,type:q.type}),k([]),$(`Failed to parse CSV file: ${q.message||"Unknown error"}`)}})},Br=(j,q,V)=>Promise.race([j,new Promise((ee,be)=>setTimeout(()=>be(new Error(V)),q))]),cn=async j=>{try{if(!j||!(j instanceof ArrayBuffer))throw new Error("Invalid PDF file: ArrayBuffer is required");if(j.byteLength===0)throw new Error("Invalid PDF file: File is empty");if(!$3||typeof $x!="function")throw new Error("PDF.js library is not available");if((!$n||!$n.workerSrc)&&(Zi("PDF.js worker not configured, reconfiguring..."),U3(),!$n||!$n.workerSrc))throw new Error("Failed to configure PDF.js worker. Please refresh the page and try again.");let V;try{V=$x({data:j,verbosity:0,stopAtErrors:!1,maxImageSize:1024*1024})}catch(we){throw console.error("Failed to create PDF loading task:",we),new Error("Failed to initialize PDF processing. The file may be corrupted.")}let ee;try{if(!V||!V.promise)throw new Error("PDF loading task is invalid");ee=await Br(V.promise,15e3,"PDF loading timed out after 15 seconds")}catch(we){if(console.error("PDF loading failed:",we),V&&V.destroy)try{V.destroy()}catch(Ee){Zi("Failed to destroy PDF loading task:",Ee)}throw new Error(we.message||"Failed to load PDF document")}if(!ee||!ee.numPages)throw new Error("Invalid PDF: Could not read PDF structure");let be="";const Se=50,ke=Math.min(ee.numPages||1,Se);if(!ee.numPages||ee.numPages===0)throw new Error("PDF has no pages");for(let we=1;we<=ke;we++)try{if(we>Se){Zi(`Reached maximum page limit (${Se}), stopping extraction`);break}let Ee;try{Ee=await Br(ee.getPage(we),5e3,`Page ${we} extraction timed out`)}catch(Et){Zi(`Failed to get page ${we}:`,Et.message);continue}if(!Ee){Zi(`Page ${we} is null or undefined`);continue}let Ve;try{Ve=await Br(Ee.getTextContent(),5e3,`Page ${we} text extraction timed out`)}catch(Et){Zi(`Failed to extract text from page ${we}:`,Et.message);continue}if(Ve&&Ve.items&&Array.isArray(Ve.items))try{const Et=Ve.items.map(yt=>{try{return yt&&yt.str?String(yt.str):""}catch{return""}}).filter(yt=>yt&&yt.length>0).join(" ");Et&&Et.trim().length>0&&(be+=Et+`
`)}catch(Et){Zi(`Error processing text from page ${we}:`,Et.message)}else Zi(`Page ${we} has no text content`)}catch(Ee){Zi(`Error processing page ${we}:`,Ee.message)}ee.numPages>Se;const Me=be.trim();if(!Me||Me.length===0)throw new Error("PDF extraction completed but no text was found. The PDF may be image-based or corrupted.");return Ot("=== PDF DIAGNOSTIC: Raw Extracted Text ==="),Ot("Length:",Me.length,"characters"),Ot("First 2000 characters:",Me.substring(0,2e3)),Ot("Full text:",Me),Ot("=== End Raw Text ==="),Me}catch(V){throw console.error("Error extracting text from PDF:",V),V.message.includes("timeout")?new Error("PDF processing timed out. The file may be too large or corrupted. Please try a smaller file."):V.message.includes("Invalid PDF")?new Error("Invalid PDF file. Please ensure the file is a valid PDF document."):V.message.includes("password")?new Error("This PDF is password-protected. Please remove the password and try again."):new Error(`Failed to process PDF: ${V.message}`)}},Nn=async()=>{if(!Z){$("No PDF file content available. Please upload a PDF file first.");return}if(!(Z instanceof ArrayBuffer)){$("Invalid PDF file format. Please try uploading the file again.");return}if(Z.byteLength===0){$("PDF file is empty. Please try a different file.");return}try{$(null),ue(!0),L(!0);let j;try{j=await cn(Z)}catch(V){throw new Error(V.message||"Failed to extract text from PDF")}if(!j||typeof j!="string"||j.trim().length===0)throw new Error("No text found in PDF. The PDF may be image-based.");B(j);let q=[];try{q=Nm(j),Array.isArray(q)||(q=[])}catch(V){console.error("Error parsing PDF transactions:",V),q=[]}ue(!1),Y(q),X(!1),q.length===0&&$("No transactions found in PDF. The PDF may not contain transaction data in a recognizable format.")}catch(j){console.error("PDF processing error:",j);const q=(j==null?void 0:j.message)||(j==null?void 0:j.toString())||"Failed to process PDF";$(q),ue(!1),L(!1),Y([]),B("")}},Ts=async()=>{await Nn()},Nm=j=>{try{if(!j||typeof j!="string")return[];const q=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),V=/(\d{2}\/\d{2}\/\d{4})/g,ee=[];let be;for(;(be=V.exec(q))!==null;)ee.push({index:be.index,date:be[1]});if(ee.length===0)return[];const Se=Me=>{if(!Me||typeof Me!="string")return"Other";const we=Me.toLowerCase();return/(deposit|payroll|paycheck|salary)/.test(we)?"Income":/grocery/.test(we)?"Food":/(rent|bill|electric|utilities|internet)/.test(we)?"Bills":/(gas|uber|lyft|metro)/.test(we)?"Travel":/(shopping|store|gift)/.test(we)?"Shopping":/(restaurant|coffee|cafe)/.test(we)?"Entertainment":/(pharmacy|hospital|clinic|health)/.test(we)?"Health":/(atm|withdrawal|transfer)/.test(we)?"Miscellaneous":"Other"},ke=[];for(let Me=0;Me<ee.length;Me++){const{index:we,date:Ee}=ee[Me],Ve=we,Et=Me+1<ee.length?ee[Me+1].index:q.length;let yt=q.substring(Ve,Et).trim();if(!yt.startsWith(Ee))continue;let $e=yt.slice(Ee.length).trim();if(!$e||/opening balance/i.test($e)||/closing balance/i.test($e))continue;const _t=$e.match(/([+\-]?\$\d{1,3}(?:,\d{3})*(?:\.\d{2})?)/);if(!_t)continue;const $r=_t[1],_h=_t.index;let Ol=$e.substring(0,_h).trim();if(Ol=Ol.replace(/\s+/g," "),!Ol)continue;let Qa=$r,LN=1;Qa.startsWith("+")?Qa=Qa.slice(1):Qa.startsWith("-")&&(LN=-1,Qa=Qa.slice(1)),Qa=Qa.replace("$","").replace(/,/g,"");let ob=parseFloat(Qa);if(isNaN(ob))continue;ob=LN*ob;const mH=Se(Ol);ke.push({date:Ee,description:Ol,amount:ob,category:mH})}return ke}catch(q){return console.error("Error in parsePDFTransactions:",q),[]}},rb=async(j,q,V)=>{Ot("File:",j.name),Ot("Size:",j.size,"bytes"),_(null),k([]),Y([]),X(!1),ue(!1),$(null);try{q==="CSV"?(Ot(" Processing CSV file..."),Ot("CSV content type:",typeof V),Ot("CSV content length:",(V==null?void 0:V.length)||0),typeof V!="string"&&(console.error("CSV content is not a string, converting..."),V instanceof ArrayBuffer?V=new TextDecoder().decode(V):V=String(V)),_(V),Ot("Calling parseCSV with content length:",V.length),ln(V),Ot(" CSV processing initiated - PapaParse started")):q==="PDF"||(Zi("Unknown file type:",q),_(V))}catch(ee){console.error("Error processing file:",ee),q==="PDF"&&($(ee.message||"Failed to process PDF"),ue(!1))}},Nl=j=>{if(!j){console.error("No file provided");return}const q=Ps(j.name,j.type);if(!q||q==="UNKNOWN"){console.error("Unknown file type for file:",j.name,"MIME type:",j.type),b(null),x(!1),$("Unsupported file type. Please upload a CSV or PDF file.");return}b(q),g(j),x(!0),_(null),k([]),Y([]),X(!1),ue(!1),le(null),L(!1),$(null),B("");const V=new FileReader,ee=q;V.onload=async be=>{try{const Se=be.target.result;if(!Se)throw new Error("FileReader returned empty content");if(ee==="PDF")try{if(!(Se instanceof ArrayBuffer))throw new Error("Invalid PDF file format");if(Se.byteLength===0)throw new Error("PDF file is empty");le(Se),$(null),L(!1),ue(!1)}catch(ke){$(`Invalid PDF file: ${ke.message||ke}`),le(null),L(!1),ue(!1)}else try{await rb(j,ee,Se)}catch(ke){$(`Failed to process ${ee} file: ${ke.message||ke}`)}}catch(Se){$(`An unexpected error occurred: ${Se.message||Se}. Please try again.`),ee==="PDF"&&(ue(!1),L(!1))}},V.onerror=be=>{var Se,ke;$(`Failed to read file: ${((ke=(Se=be.target)==null?void 0:Se.error)==null?void 0:ke.message)||"Unknown error"}. Please try a different file.`)},V.onloadstart=()=>{x(!0)};try{ee==="PDF"?V.readAsArrayBuffer(j):V.readAsText(j)}catch(be){x(!1),b(null),_(null),$(`Failed to start reading file: ${be.message||be}. Please try again.`)}},oi=j=>{const q=(j.date||"").toString().trim().toLowerCase(),V=(j.description||"").toString().trim().toLowerCase(),ee=j.amount!==null?j.amount.toString():"0";return`${q}|${V}|${ee}`},fu=()=>{if(!E||E.length===0)return;const j=ei(),q=new Set(j.map(ee=>{const be=(ee.date||"").toString().trim().toLowerCase(),Se=(ee.note||"").toString().trim().toLowerCase(),ke=(ee.amount||0).toString();return`${be}|${Se}|${ke}`})),V=[];if(E.forEach(ee=>{const be=oi(ee);if(q.has(be))return;let Se=ee.date;if(ee.date&&ee.date.toString().trim()){const we=ee.date.toString().trim();if(/^\d{4}-\d{2}-\d{2}$/.test(we))Se=we;else{const Ee=new Date(we);if(isNaN(Ee.getTime()))Se=new Date().toISOString().split("T")[0];else{const Ve=Ee.getFullYear(),Et=String(Ee.getMonth()+1).padStart(2,"0"),yt=String(Ee.getDate()).padStart(2,"0");Se=`${Ve}-${Et}-${yt}`}}}else Se=new Date().toISOString().split("T")[0];const ke=Nt(ee.description);ee.description&&Ot(`Categorized "${ee.description}" as "${ke}"`);const Me={id:crypto.randomUUID(),date:Se,amount:Number(ee.amount)||0,category:ke,note:ee.description||""};V.push(Me),q.add(be)}),V.length>0){const ee=[...j,...V];Dx(ee),I(V.length),T(!0),M(V),K(!0),Pb("CSV",V.length),Om(),k([]),g(null),b(null),x(!1),_(null);const be=document.getElementById("bank-statement-file");be&&(be.value=""),e(Se=>Se+1),Ot(`Imported ${V.length} transactions`)}else{I(0),T(!0),Pb("CSV",0),Om(),k([]),g(null),b(null),x(!1),_(null);const ee=document.getElementById("bank-statement-file");ee&&(ee.value="")}},pu=(j,q,V)=>{const ee=[...Q];ee[j]={...ee[j],[q]:V},Y(ee),X(!1)},oH=j=>{const q=Q.filter((V,ee)=>ee!==j);Y(q),X(!1)},lH=()=>{if(!Q||Q.length===0||!re)return;const j=ei(),q=new Set(j.map(ee=>{const be=(ee.date||"").toString().trim().toLowerCase(),Se=(ee.note||"").toString().trim().toLowerCase(),ke=(ee.amount||0).toString();return`${be}|${Se}|${ke}`})),V=[];if(Q.forEach(ee=>{const be=oi(ee);if(q.has(be))return;let Se=ee.date;if(ee.date&&ee.date.toString().trim()){const we=ee.date.toString().trim();if(/^\d{4}-\d{2}-\d{2}$/.test(we))Se=we;else{let Ee;if(we.includes("/")){const Ve=we.split("/");if(Ve.length===3){const Et=parseInt(Ve[0])-1,yt=parseInt(Ve[1]);let $e=parseInt(Ve[2]);$e<100&&($e=$e<50?2e3+$e:1900+$e),Ee=new Date($e,Et,yt)}else Ee=new Date(we)}else if(we.includes("-")){const Ve=we.split("-");if(Ve.length===3){const Et=parseInt(Ve[0])-1,yt=parseInt(Ve[1]);let $e=parseInt(Ve[2]);$e<100&&($e=$e<50?2e3+$e:1900+$e),Ee=new Date($e,Et,yt)}else Ee=new Date(we)}else Ee=new Date(we);if(isNaN(Ee.getTime()))Se=new Date().toISOString().split("T")[0];else{const Ve=Ee.getFullYear(),Et=String(Ee.getMonth()+1).padStart(2,"0"),yt=String(Ee.getDate()).padStart(2,"0");Se=`${Ve}-${Et}-${yt}`}}}else Se=new Date().toISOString().split("T")[0];const ke=ee.category||Nt(ee.description),Me={id:crypto.randomUUID(),date:Se,amount:Number(ee.amount)||0,category:ke,note:ee.description||""};V.push(Me),q.add(be)}),V.length>0){const ee=[...j,...V];Dx(ee),ne(V.length),z(!0),Pb("PDF",V.length),Om(),Y([]),X(!1),ue(!1),le(null),L(!1),$(null),g(null),b(null),x(!1),_(null);const be=document.getElementById("bank-statement-file");be&&(be.value=""),e(Se=>Se+1)}else{ne(0),z(!0),Pb("PDF",0),Om(),Y([]),X(!1),ue(!1),le(null),L(!1),$(null),g(null),b(null),x(!1),_(null);const ee=document.getElementById("bank-statement-file");ee&&(ee.value="")}},cH=j=>{if(!j||j.length===0)return[];const q={};j.forEach(ee=>{const be=(ee.description||"").trim();if(!be)return;const Se=gn(be),ke=Math.abs(Number(ee.amount)||0),Me=new Date(ee.date);!isNaN(Me.getTime())&&ke>0&&(q[Se]||(q[Se]=[]),q[Se].push({date:Me,amount:ke}))});const V=[];return Object.entries(q).forEach(([ee,be])=>{if(be.length<2)return;const Se=[...be].sort((Me,we)=>Me.date-we.date),ke=[];Se.forEach(Me=>{let we=!1;for(let Ee of ke){const Ve=Ee.reduce((yt,$e)=>yt+$e.amount,0)/Ee.length;if(Math.abs((Me.amount-Ve)/Ve)<=.1){Ee.push(Me),we=!0;break}}we||ke.push([Me])}),ke.forEach(Me=>{if(Me.length<2)return;const we=[];for(let $e=1;$e<Me.length;$e++){const $r=(Me[$e].date-Me[$e-1].date)/(1e3*60*60*24);we.push($r)}let Ee=0,Ve=0;for(let $e of we)$e>=6&&$e<=8&&Ee++,$e>=30&&$e<=32&&Ve++;const Et=Math.ceil(we.length/2);let yt=null;if(Ee>=Et&&Ee>0?yt="weekly":Ve>=Et&&Ve>0&&(yt="monthly"),yt){const $e=Me.reduce(($r,_h)=>$r+_h.amount,0)/Me.length,_t=Me[Me.length-1].date;V.push({merchant:ee,averageAmount:Math.round($e*100)/100,frequency:yt,lastCharge:_t})}})}),V.sort((ee,be)=>be.lastCharge-ee.lastCharge)},ua=S.useMemo(()=>ei().sort((j,q)=>new Date(q.date)-new Date(j.date)),[t]),ib=S.useMemo(()=>Jq(),[t]),uH=S.useMemo(()=>bh(),[t]);S.useEffect(()=>{const j=cH(ua);se(j)},[ua]);const Om=()=>{const q=[...yB()].sort((V,ee)=>ee.timestamp-V.timestamp);ve(q)};S.useEffect(()=>{Om()},[]);const sb=S.useMemo(()=>{let j=ua;if(c&&(j=j.filter(q=>(q.note||"").toLowerCase().includes(c.toLowerCase()))),s&&(j=j.filter(q=>(q.category||"Uncategorized")===s)),o!=="all"){const q=new Date,V=new Date(q.getFullYear(),q.getMonth(),q.getDate());j=j.filter(ee=>{const be=new Date(ee.date),Se=new Date(be.getFullYear(),be.getMonth(),be.getDate());switch(o){case"today":return Se.getTime()===V.getTime();case"week":const ke=new Date(V);return ke.setDate(ke.getDate()-7),Se>=ke;case"month":return be.getMonth()===q.getMonth()&&be.getFullYear()===q.getFullYear();case"year":return be.getFullYear()===q.getFullYear();default:return!0}})}return j},[ua,s,o,c]),dH=S.useMemo(()=>sb.reduce((j,q)=>j+(Number(q.amount)||0),0),[sb]);ua.reduce((j,q)=>j+(Number(q.amount)||0),0);const ab=uH.reduce((j,q)=>j+(Number(q.limit)||0),0),RN=ab>0?Math.max(0,ab-ib.sum):0,jN=new Date().getUTCDate(),hH=jN>0?ib.sum/jN:0;function fH(j){if(j.preventDefault(),!r.amount)return;const q=r.note?gn(r.note):"";Yq({...r,amount:Number(r.amount),category:r.category||"Uncategorized",note:q,description:q}),i(V=>({...V,amount:"",note:"",category:""})),e(V=>V+1)}function pH(j){Xq(j),e(q=>q+1)}return m.jsx("div",{className:"dashboard-container dash",children:m.jsxs("div",{className:"grid",children:[m.jsxs("section",{className:"card col-12 spending-overview-card spending-hero-card",children:[m.jsxs("div",{className:"spending-hero-header",children:[m.jsxs("div",{className:"spending-hero-title-section",children:[m.jsx(hq,{className:"spending-hero-icon"}),m.jsx("h2",{className:"spending-hero-title",children:"Spending Overview"})]}),m.jsx("span",{className:"spending-hero-badge",children:"Spending Summary"})]}),m.jsxs("div",{className:"spending-hero-content",children:[m.jsxs("div",{className:"spending-hero-main-metric",children:[m.jsx("div",{className:"spending-hero-main-label",children:"Total Spent"}),m.jsxs("div",{className:"spending-hero-main-value",children:["$",ib.sum.toFixed(2)]})]}),m.jsxs("div",{className:"spending-hero-secondary-metrics",children:[ib.sum>0&&m.jsxs("div",{className:"spending-hero-metric",children:[m.jsx("div",{className:"spending-hero-metric-label",children:"Avg Daily Spend"}),m.jsxs("div",{className:"spending-hero-metric-value",children:["$",hH.toFixed(2)]})]}),ua.length>0&&m.jsxs("div",{className:"spending-hero-metric",children:[m.jsx("div",{className:"spending-hero-metric-label",children:"Transactions"}),m.jsx("div",{className:"spending-hero-metric-value",children:ua.filter(j=>{const q=new Date(j.date),V=new Date;return q.getMonth()===V.getMonth()&&q.getFullYear()===V.getFullYear()}).length})]})]}),ab>0&&m.jsxs("div",{className:"overview-budget-info",children:[m.jsx("p",{className:"overview-budget-label",children:"Remaining budget"}),m.jsxs("p",{className:`overview-budget-value ${RN<=ab*.2?"negative":""}`,children:["$",RN.toFixed(2)]})]})]})]}),m.jsxs("section",{className:"card col-12 spending-form-card",style:{marginTop:"40px"},children:[m.jsx("h3",{className:"chart-title",children:"Add Transaction"}),m.jsxs("form",{className:"spending-form",onSubmit:fH,children:[m.jsxs("div",{className:"spending-input-wrapper",children:[m.jsx(zg,{className:"spending-input-icon"}),m.jsx("input",{className:"input spending-input",type:"number",step:"0.01",placeholder:"Amount",value:r.amount,onChange:j=>i({...r,amount:j.target.value})})]}),m.jsxs("div",{className:"spending-input-wrapper",children:[m.jsx(Mq,{className:"spending-input-icon"}),m.jsxs("select",{className:"input spending-input spending-select",value:r.category,onChange:j=>i({...r,category:j.target.value}),children:[m.jsx("option",{value:"",children:"Select Category"}),n.map(j=>m.jsx("option",{value:j,children:j},j))]})]}),m.jsxs("div",{className:"spending-input-wrapper",children:[m.jsx(OI,{className:"spending-input-icon"}),m.jsx("input",{className:"input spending-input",type:"date",value:r.date,onChange:j=>i({...r,date:j.target.value})})]}),m.jsxs("div",{className:"spending-input-wrapper",children:[m.jsx(bq,{className:"spending-input-icon"}),m.jsx("input",{className:"input spending-input",type:"text",placeholder:"Note",value:r.note,onChange:j=>i({...r,note:j.target.value})})]}),m.jsx("button",{className:"btn spending-submit-btn",type:"submit",children:"Add"})]})]}),m.jsxs("section",{className:"card col-12 upload-file-selection-card",style:{marginTop:"40px"},children:[m.jsxs("div",{className:"upload-dropzone-container",children:[m.jsx("div",{className:"upload-dropzone-icon-wrapper",children:m.jsx(DI,{className:"upload-dropzone-icon"})}),m.jsx("h3",{className:"upload-dropzone-title",children:"Upload Bank Statement"}),m.jsx("p",{className:"upload-dropzone-subtitle",children:"Upload your CSV or PDF bank statement"}),m.jsx("div",{className:"upload-dropzone-divider"}),m.jsxs("div",{className:"file-type-selectors",children:[m.jsxs("div",{className:"file-type-pill file-type-pill-active",children:[m.jsx(II,{size:16}),m.jsx("span",{children:"CSV"})]}),m.jsxs("div",{className:"file-type-pill file-type-pill-active",children:[m.jsx(lE,{size:16}),m.jsx("span",{children:"PDF"})]})]}),m.jsxs("label",{htmlFor:"bank-statement-file",className:"upload-file-button",children:[m.jsx(DI,{size:18}),m.jsx("span",{children:"Choose File"})]})]}),m.jsx("input",{id:"bank-statement-file",type:"file",accept:".csv,.pdf",onChange:j=>{var q;try{const V=((q=j.target.files)==null?void 0:q[0])||null;if(Ot("File input onChange triggered, file:",V?V.name:"null"),g(V),V){Ot("File selected, starting readFile process..."),T(!1),I(0),K(!1),M([]),Y([]),X(!1),z(!1),ne(0),ue(!1),le(null),L(!1),$(null);try{Nl(V),Ot("readFile called successfully")}catch(ee){console.error("Error calling readFile:",ee),$(`Failed to read file: ${ee.message||ee}`),x(!1),b(null)}}else b(null),x(!1),_(null),k([]),T(!1),I(0),K(!1),M([]),Y([]),X(!1),z(!1),ne(0),ue(!1),le(null),L(!1),$(null)}catch(V){console.error("Error in file input onChange:",V),console.error("Error stack:",V.stack),$(`Failed to read file: ${V.message||V}. Please try again.`),x(!1),b(null),_(null),ue(!1),L(!1),g(null)}},style:{position:"absolute",width:0,height:0,opacity:0,pointerEvents:"none"}}),p&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",backgroundColor:"rgba(244, 162, 97, 0.08)",border:"1px solid rgba(244, 162, 97, 0.2)",borderRadius:"8px",marginTop:"8px"},children:[m.jsx(lE,{size:18,color:"var(--primary)"}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsx("p",{style:{margin:0,fontSize:"14px",fontWeight:500,color:"var(--text)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:p.name}),y&&v&&m.jsxs("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"var(--muted)"},children:["Type: ",v]})]}),y&&m.jsx(gq,{size:20,color:"#10b981"})]}),v==="PDF"&&y&&Z&&!ge&&!J&&!R&&m.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"rgba(244, 162, 97, 0.05)",border:"1px solid var(--border)",borderRadius:"8px"},children:[m.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"var(--text)",fontWeight:500},children:"PDF file is ready. Click below to extract text and parse transactions."}),m.jsx("button",{className:"btn",type:"button",onClick:Nn,style:{width:"100%",maxWidth:"280px",padding:"12px 24px",fontSize:"15px",fontWeight:600},children:"Process PDF"})]}),v==="PDF"&&y&&R&&!J&&Z&&m.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"rgba(244, 162, 97, 0.05)",border:"1px solid var(--border)",borderRadius:"8px"},children:[m.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"var(--text)",fontWeight:500},children:"PDF processing failed. Would you like to try again?"}),m.jsx("button",{className:"btn",type:"button",onClick:Nn,style:{width:"100%",maxWidth:"280px",padding:"12px 24px",fontSize:"15px",fontWeight:600},children:"Retry Processing"})]}),v==="PDF"&&J&&m.jsxs("div",{style:{marginTop:"16px",padding:"20px",backgroundColor:"rgba(244, 162, 97, 0.05)",border:"1px solid var(--border)",borderRadius:"8px",textAlign:"center"},children:[m.jsx("div",{style:{display:"inline-block",width:"24px",height:"24px",border:"3px solid rgba(244, 162, 97, 0.3)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginBottom:"12px"}}),m.jsx("p",{style:{margin:0,fontSize:"14px",fontWeight:500,color:"var(--text)"},children:"Processing PDF..."}),m.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"var(--muted)"},children:"Extracting text and parsing transactions"})]}),v==="PDF"&&ge&&R&&!J&&m.jsxs("div",{style:{marginTop:"16px",padding:"20px",backgroundColor:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"8px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[m.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:m.jsx(MI,{size:16,color:"#ef4444"})}),m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{margin:0,fontSize:"15px",fontWeight:600,color:"#ef4444",marginBottom:"4px"},children:"Unable to process PDF"}),m.jsx("p",{style:{margin:0,fontSize:"13px",color:"var(--text)",lineHeight:"1.5"},children:R})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[m.jsx("button",{className:"btn",type:"button",onClick:Ts,style:{padding:"10px 20px",fontSize:"14px",fontWeight:600},children:"Try Again"}),m.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{$(null),L(!1),ue(!1),Y([])},style:{padding:"10px 20px",fontSize:"14px",border:"1px solid var(--border)",color:"var(--text)",backgroundColor:"transparent"},children:"Cancel"})]})]})]}),y&&v==="CSV"&&m.jsxs("section",{className:"card col-12 upload-preview-card",style:{marginTop:"24px",opacity:y?1:0,transition:"opacity 0.3s ease"},children:[m.jsx("h3",{style:{margin:0,marginBottom:"8px",fontSize:"20px",fontWeight:700,color:"var(--text)"},children:"Preview"}),m.jsx("div",{style:{marginTop:"16px",borderTop:"1px solid rgba(0, 0, 0, 0.08)",paddingTop:"16px"},children:y&&m.jsxs("div",{children:[m.jsx("h4",{style:{margin:0,marginBottom:"12px",fontSize:"16px",fontWeight:600,color:"var(--text)"},children:E.length>0?"Detected Transactions":"Parsing CSV File..."}),E.length>0?m.jsxs(m.Fragment,{children:[m.jsxs("p",{className:"muted",style:{marginTop:0,marginBottom:"16px",fontSize:"13px"},children:["Showing first ",Math.min(10,E.length)," of ",E.length," transactions"]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"2px solid var(--border)",textAlign:"left"},children:[m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Date"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Description"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px",textAlign:"right"},children:"Amount"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Category"})]})}),m.jsx("tbody",{children:E.slice(0,10).map((j,q)=>m.jsxs("tr",{style:{borderBottom:"1px solid var(--border)"},children:[m.jsx("td",{style:{padding:"12px",fontSize:"13px"},children:j.date||""}),m.jsx("td",{style:{padding:"12px",fontSize:"13px",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.description||""}),m.jsx("td",{style:{padding:"12px",textAlign:"right",fontSize:"13px",fontWeight:500},children:j.amount!==null&&j.amount!==0?`$${Math.abs(j.amount).toFixed(2)}`:""}),m.jsx("td",{style:{padding:"12px",textAlign:"center"},children:m.jsx("span",{style:{display:"inline-block",backgroundColor:"rgba(244, 162, 97, 0.15)",color:"var(--primary)",padding:"4px 10px",borderRadius:"999px",fontSize:"12px",fontWeight:600},children:j.category||"Other"})})]},q))})]})})]}):m.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",color:"var(--muted)"},children:[m.jsx("div",{style:{display:"inline-block",width:"20px",height:"20px",border:"3px solid rgba(244, 162, 97, 0.3)",borderTopColor:"var(--primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginBottom:"12px"}}),m.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Parsing CSV file..."}),m.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"12px",opacity:.7},children:"Extracting transactions from your file"})]})]})})]}),v==="PDF"&&Q.length>0&&m.jsxs("section",{className:"card col-12 pdf-correction-card",style:{marginTop:"24px"},children:[m.jsx("h3",{style:{margin:0,marginBottom:"8px",fontSize:"20px",fontWeight:700,color:"var(--text)"},children:"Correct Before Import"}),m.jsx("p",{className:"muted",style:{marginTop:0,marginBottom:"20px",fontSize:"14px"},children:'Edit or delete transactions before importing. Click "Approve All" when ready.'}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"500px",overflowY:"auto",padding:"8px",border:"1px solid var(--border)",borderRadius:"8px",backgroundColor:"rgba(244, 162, 97, 0.02)"},children:Q.map((j,q)=>m.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsxs("div",{className:"correction-transaction-row",style:{display:"grid",gridTemplateColumns:"1fr 2fr 1fr auto",gap:"12px",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--muted)",marginBottom:"4px"},children:"Date"}),m.jsx("input",{type:"text",className:"input",value:j.date||"",onChange:V=>pu(q,"date",V.target.value),placeholder:"MM/DD/YYYY",style:{width:"100%",fontSize:"13px",padding:"6px 10px"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--muted)",marginBottom:"4px"},children:"Description"}),m.jsx("input",{type:"text",className:"input",value:j.description||"",onChange:V=>pu(q,"description",V.target.value),placeholder:"Transaction description",style:{width:"100%",fontSize:"13px",padding:"6px 10px"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--muted)",marginBottom:"4px"},children:"Amount"}),m.jsx("input",{type:"number",step:"0.01",className:"input",value:j.amount||"",onChange:V=>pu(q,"amount",parseFloat(V.target.value)||0),placeholder:"0.00",style:{width:"100%",fontSize:"13px",padding:"6px 10px"}})]}),m.jsx("div",{style:{alignSelf:"flex-end"},children:m.jsx("button",{type:"button",onClick:()=>oH(q),style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px",color:"#ef4444",display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",borderRadius:"6px",width:"36px",height:"36px"},onMouseEnter:V=>{V.currentTarget.style.color="#dc2626",V.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)"},onMouseLeave:V=>{V.currentTarget.style.color="#ef4444",V.currentTarget.style.backgroundColor="transparent"},title:"Delete transaction","aria-label":"Delete transaction",children:m.jsx(z_,{size:18})})})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:500,color:"var(--muted)",marginBottom:"4px"},children:"Category"}),m.jsx("select",{className:"input",value:j.category||"Other",onChange:V=>pu(q,"category",V.target.value),style:{width:"100%",fontSize:"13px",padding:"6px 10px"},children:n.map(V=>m.jsx("option",{value:V,children:V},V))})]})]},q))}),m.jsxs("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"12px"},children:[m.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{X(!0)},disabled:Q.length===0,style:{minWidth:"140px",opacity:Q.length===0?.6:1,cursor:Q.length===0?"not-allowed":"pointer"},children:"Approve All"}),m.jsx("p",{className:"muted",style:{margin:0,fontSize:"13px"},children:re?" Transactions approved. Ready to import.":"Review and approve transactions before importing."})]}),m.jsx("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid var(--border)"},children:m.jsx("button",{className:"btn",type:"button",onClick:lH,disabled:!re||Q.length===0,style:{marginTop:0,width:"auto",minWidth:"180px",opacity:re&&Q.length>0?1:.6,cursor:re&&Q.length>0?"pointer":"not-allowed"},children:"Import PDF Transactions"})})]}),U&&m.jsx("section",{className:"card col-12 pdf-import-success-card",children:m.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{fontSize:"20px",color:"#10b981"},children:""}),m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{margin:0,fontSize:"14px",color:"#10b981",fontWeight:500,marginBottom:"4px"},children:"PDF transactions imported successfully."}),W>0&&m.jsxs("p",{style:{margin:0,fontSize:"12px",color:"var(--muted)"},children:[W," ",W===1?"transaction":"transactions"," added to your spending records."]}),W===0&&m.jsx("p",{style:{margin:0,fontSize:"12px",color:"var(--muted)"},children:"All transactions were duplicates and were skipped."})]}),m.jsx("button",{type:"button",onClick:()=>z(!1),style:{background:"transparent",border:"none",color:"var(--muted)",cursor:"pointer",padding:"4px 8px",fontSize:"18px",lineHeight:1,borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:j=>{j.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.05)",j.currentTarget.style.color="var(--text)"},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color="var(--muted)"},"aria-label":"Dismiss",children:""})]})}),v==="CSV"&&E.length>0&&m.jsxs("section",{className:"card col-12 csv-preview-card",children:[m.jsx("h3",{children:"Transaction Preview"}),m.jsxs("p",{className:"muted",style:{marginTop:"4px",marginBottom:"16px",fontSize:"13px"},children:["Showing first ",Math.min(5,E.length)," of ",E.length," transactions"]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"2px solid var(--border)",textAlign:"left"},children:[m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Date"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Description"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px",textAlign:"right"},children:"Amount"}),m.jsx("th",{style:{padding:"10px 12px",fontWeight:600,color:"var(--text)",fontSize:"13px"},children:"Category"})]})}),m.jsx("tbody",{children:E.slice(0,5).map((j,q)=>m.jsxs("tr",{style:{borderBottom:"1px solid var(--border)",transition:"background-color 0.2s ease"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="rgba(244, 162, 97, 0.05)"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="transparent"},children:[m.jsx("td",{style:{padding:"12px",color:"var(--text)",fontSize:"13px"},children:j.date||m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("td",{style:{padding:"12px",color:"var(--text)",fontSize:"13px"},children:j.description||m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("td",{style:{padding:"12px",textAlign:"right",color:j.amount!==0?"var(--text)":"var(--muted)",fontSize:"13px",fontWeight:j.amount!==0?500:400},children:j.amount!==null&&j.amount!==0?`$${j.amount.toFixed(2)}`:m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("td",{style:{padding:"12px",color:"var(--text)",fontSize:"13px"},children:j.category||"Other"})]},q))})]})}),E.length>5&&m.jsxs("p",{style:{marginTop:"12px",marginBottom:0,fontSize:"12px",color:"var(--muted)",fontStyle:"italic"},children:["... and ",E.length-5," more transactions"]}),m.jsxs("div",{style:{marginTop:"24px",paddingTop:"20px",borderTop:"1px solid var(--border)"},children:[m.jsx("p",{className:"muted",style:{marginBottom:"16px",fontSize:"13px",lineHeight:"1.5"},children:"Review the data above and click Import to add these transactions to your spending records."}),m.jsx("button",{className:"btn",type:"button",onClick:fu,style:{marginTop:0,width:"auto",minWidth:"160px"},children:"Import Transactions"})]})]}),O&&m.jsx("section",{className:"card col-12 import-success-card",children:m.jsxs("div",{style:{padding:"16px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{fontSize:"20px",color:"#10b981"},children:""}),m.jsxs("div",{style:{flex:1},children:[m.jsx("p",{style:{margin:0,fontSize:"14px",color:"#10b981",fontWeight:500,marginBottom:"4px"},children:"Transactions imported successfully."}),N>0&&m.jsxs("p",{style:{margin:0,fontSize:"12px",color:"var(--muted)"},children:[N," ",N===1?"transaction":"transactions"," added to your spending records."]}),N===0&&m.jsx("p",{style:{margin:0,fontSize:"12px",color:"var(--muted)"},children:"All transactions were duplicates and were skipped."})]}),m.jsx("button",{type:"button",onClick:()=>T(!1),style:{background:"transparent",border:"none",color:"var(--muted)",cursor:"pointer",padding:"4px 8px",fontSize:"18px",lineHeight:1,borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:j=>{j.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.05)",j.currentTarget.style.color="var(--text)"},onMouseLeave:j=>{j.currentTarget.style.backgroundColor="transparent",j.currentTarget.style.color="var(--muted)"},"aria-label":"Dismiss",children:""})]})}),fe.length>0&&m.jsxs("section",{className:"card col-12 upload-history-card",style:{marginTop:"40px"},children:[m.jsx("h3",{className:"chart-title",children:"Upload History"}),m.jsx("p",{className:"muted upload-history-subtitle",children:"Recent file uploads and imports"}),m.jsx("div",{className:"upload-history-list upload-history-timeline",children:fe.map((j,q)=>{const V=new Date(j.timestamp),ee=V.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),be=V.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Se=j.fileType==="CSV"?II:lE;return m.jsxs("div",{className:`upload-history-item upload-history-timeline-item ${q<fe.length-1?"upload-history-item-border":""}`,children:[m.jsx("div",{className:"upload-history-timeline-line"}),m.jsx("div",{className:"upload-history-icon-small",children:m.jsx(Se,{size:20})}),m.jsx("span",{className:"upload-history-type-inline",children:j.fileType}),m.jsx("span",{className:"upload-history-divider",children:""}),m.jsxs("span",{className:"upload-history-date-inline",children:[ee," at ",be]}),m.jsx("span",{className:"upload-history-divider",children:""}),j.importedCount===0?m.jsx("span",{className:"upload-history-empty",children:"No transactions imported"}):m.jsxs("span",{className:"upload-history-count-inline",children:[j.importedCount," ",j.importedCount===1?"transaction":"transactions"]})]},j.id)})})]}),F&&D.length>0&&m.jsxs("section",{className:"card col-12 import-summary-card",children:[m.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:m.jsxs("div",{children:[m.jsx("h3",{style:{margin:0,marginBottom:"4px",fontSize:"20px",fontWeight:600},children:"Imported Transactions Summary"}),m.jsxs("p",{className:"muted",style:{margin:0,fontSize:"13px"},children:["You have imported ",D.length," ",D.length===1?"new transaction":"new transactions","."]})]})}),m.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"16px"},children:[m.jsx("div",{style:{display:"grid",gap:"12px"},children:D.slice(0,10).map((j,q)=>m.jsxs("div",{className:"import-summary-item",style:{padding:"12px",backgroundColor:"rgba(244, 162, 97, 0.05)",border:"1px solid var(--border)",borderRadius:"8px",display:"grid",gridTemplateColumns:"1fr 2fr auto auto",gap:"12px",alignItems:"center",transition:"all 0.2s ease"},onMouseEnter:V=>{V.currentTarget.style.backgroundColor="rgba(244, 162, 97, 0.1)",V.currentTarget.style.borderColor="var(--primary)"},onMouseLeave:V=>{V.currentTarget.style.backgroundColor="rgba(244, 162, 97, 0.05)",V.currentTarget.style.borderColor="var(--border)"},children:[m.jsx("div",{style:{fontSize:"13px",color:"var(--text)"},children:j.date?new Date(j.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("div",{style:{fontSize:"13px",color:"var(--text)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j.note||m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("div",{style:{fontSize:"13px",fontWeight:500,color:j.amount!==0?"var(--text)":"var(--muted)",textAlign:"right"},children:j.amount!==null&&j.amount!==0?`$${j.amount.toFixed(2)}`:m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:""})}),m.jsx("div",{style:{fontSize:"12px",color:"var(--primary)",backgroundColor:"rgba(244, 162, 97, 0.15)",padding:"4px 8px",borderRadius:"6px",textAlign:"center",fontWeight:500,whiteSpace:"nowrap"},children:j.category||"Other"})]},j.id||q))}),D.length>10&&m.jsxs("p",{style:{marginTop:"12px",marginBottom:0,fontSize:"12px",color:"var(--muted)",fontStyle:"italic",textAlign:"center"},children:["... and ",D.length-10," more transactions (showing first 10)"]})]}),m.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"12px",borderTop:"1px solid var(--border)"},children:m.jsx("button",{className:"btn secondary",type:"button",onClick:()=>{K(!1),M([])},style:{marginTop:0,width:"auto",minWidth:"120px",padding:"8px 16px",fontSize:"14px"},children:"Hide Summary"})})]}),m.jsxs("section",{className:"card col-12 recent-table-card",ref:We,style:{marginTop:"40px"},children:[m.jsxs("div",{className:"recent-table-header",children:[m.jsx("h3",{className:"chart-title",children:"Recent Transactions"}),c&&m.jsx("button",{onClick:()=>d(""),className:"btn secondary clear-filter-btn",children:"Clear card filter"})]}),ua.length>0&&m.jsxs("div",{className:"expense-filters",children:[m.jsxs("div",{className:"filter-select-wrapper",children:[m.jsx(xq,{className:"filter-icon"}),m.jsxs("select",{className:"input filter-select",value:s,onChange:j=>a(j.target.value),children:[m.jsx("option",{value:"",children:"All Categories"}),n.map(j=>m.jsx("option",{value:j,children:j},j))]})]}),m.jsxs("div",{className:"filter-select-wrapper",children:[m.jsx(OI,{className:"filter-icon"}),m.jsxs("select",{className:"input filter-select",value:o,onChange:j=>l(j.target.value),children:[m.jsx("option",{value:"all",children:"All Time"}),m.jsx("option",{value:"today",children:"Today"}),m.jsx("option",{value:"week",children:"Last 7 Days"}),m.jsx("option",{value:"month",children:"This Month"}),m.jsx("option",{value:"year",children:"This Year"})]})]}),m.jsxs("div",{className:"filtered-total",children:[m.jsx("span",{className:"filtered-total-label",children:"Filtered total:"}),m.jsxs("span",{className:"filtered-total-value",children:["$",dH.toFixed(2)]})]})]}),ua.length===0?m.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:"No expenses yet."}):sb.length===0?m.jsx("p",{className:"muted",style:{marginTop:"0.25rem"},children:"No expenses match the selected filters."}):m.jsx("div",{className:"table-container",children:m.jsxs("table",{className:"expenses-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Date"}),m.jsx("th",{children:"Category"}),m.jsx("th",{className:"text-right",children:"Amount"}),m.jsx("th",{children:"Note"}),m.jsx("th",{style:{width:"50px"}})]})}),m.jsx("tbody",{children:sb.map(j=>{const q={Travel:"#F4A261",Food:"#10b981",Bills:"#3B82F6",Shopping:"#8B5CF6",Income:"#14B8A6",Other:"#6b7280",Uncategorized:"#6b7280",Entertainment:"#EC4899",Health:"#EF4444",Miscellaneous:"#6b7280"},V=q[j.category]||q.Other,ee=Number(j.amount),be=j.category==="Income",Se=!be&&ee>0;return m.jsxs("tr",{className:"expense-row",onClick:()=>f(j),children:[m.jsx("td",{children:new Date(j.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),m.jsx("td",{children:m.jsxs("div",{className:"expense-category-cell",children:[m.jsx("span",{className:"expense-category-dot",style:{backgroundColor:V}}),j.category||"Uncategorized"]})}),m.jsxs("td",{className:`text-right amount-cell ${be?"amount-income":Se?"amount-expense":""}`,children:["$",ee.toFixed(2)]}),m.jsx("td",{className:"note-cell",children:j.note||m.jsx("span",{className:"muted-text",children:""})}),m.jsx("td",{className:"action-cell",onClick:ke=>ke.stopPropagation(),children:m.jsx("button",{onClick:()=>pH(j.id),type:"button",className:"expense-delete-btn",title:"Delete expense","aria-label":"Delete expense",children:m.jsx(z_,{size:14})})})]},j.id)})})]})})]}),h&&m.jsx("div",{className:"expense-modal-overlay",onClick:()=>f(null),children:m.jsxs("div",{className:"expense-modal",onClick:j=>j.stopPropagation(),children:[m.jsxs("div",{className:"expense-modal-header",children:[m.jsx("h3",{style:{margin:0},children:"Expense Details"}),m.jsx("button",{className:"expense-modal-close",onClick:()=>f(null),"aria-label":"Close",children:m.jsx(MI,{size:20})})]}),m.jsxs("div",{className:"expense-modal-content",children:[m.jsxs("div",{className:"expense-detail-item",children:[m.jsx("span",{className:"expense-detail-label",children:"Amount"}),m.jsxs("span",{className:"expense-detail-value",children:["$",Number(h.amount).toFixed(2)]})]}),m.jsxs("div",{className:"expense-detail-item",children:[m.jsx("span",{className:"expense-detail-label",children:"Category"}),m.jsx("span",{className:"expense-detail-value",children:h.category||"Uncategorized"})]}),m.jsxs("div",{className:"expense-detail-item",children:[m.jsx("span",{className:"expense-detail-label",children:"Date"}),m.jsx("span",{className:"expense-detail-value",children:new Date(h.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{className:"expense-detail-item",children:[m.jsx("span",{className:"expense-detail-label",children:"Note"}),m.jsx("span",{className:"expense-detail-value",children:h.note||m.jsx("span",{style:{color:"var(--muted)",fontStyle:"italic"},children:"No note"})})]})]})]})}),m.jsx(VX,{expenses:ua,onFilterByCard:Sr,scrollToTable:xe})]})})}function cD({title:t,storageKey:e,prefix:n}){const[r,i]=S.useState(()=>JSON.parse(localStorage.getItem(e)||"[]")),[s,a]=S.useState("");function o(d){d.preventDefault();const h=parseFloat(s);if(!h||h<=0)return;const f=[...r,h];i(f),localStorage.setItem(e,JSON.stringify(f)),window.dispatchEvent(new Event("incomeUpdated")),a("")}function l(){const d=e.includes("expected")?"expected":"actual",h=Zq(d);i(h),window.dispatchEvent(new Event("incomeUpdated"))}const c=r.reduce((d,h)=>d+h,0);return m.jsxs("div",{children:[m.jsxs("h4",{style:{marginBottom:"0.5rem"},children:[t,": ",m.jsxs("span",{style:{fontWeight:800,color:"green"},children:["$",c.toFixed(2)]})]}),r.map((d,h)=>m.jsxs("div",{style:{marginBottom:"1rem"},children:["Paycheck ",h+1,": $",d.toFixed(2)]},h)),m.jsxs("form",{onSubmit:o,style:{marginTop:"0.5rem"},children:[m.jsxs("label",{style:{marginRight:"0.5rem"},children:[n," ",r.length+1,":"]}),m.jsx("input",{className:"input",type:"number",step:"0.01",placeholder:"$ amount",value:s,onChange:d=>a(d.target.value),style:{width:120,marginRight:"0.5rem"}}),m.jsx("button",{className:"btn",type:"submit",children:"Add"}),m.jsx("button",{className:"btn danger",onClick:l,style:{marginLeft:"0.5rem"},children:"Delete Last Entry"})]})]})}function uD(t,e){return e.filter(n=>(n.category||"")===t).reduce((n,r)=>n+(Number(r.amount)||0),0)}function KX(){const[t,e]=S.useState(0),[n,r]=S.useState({name:"",limit:"",type:""}),i=S.useMemo(()=>bh(),[t]),{recurring:s,variable:a,total:o}=S.useMemo(()=>bB(),[t]),l=S.useMemo(()=>ei(),[t]);function c(p){if(p.preventDefault(),!n.name||!n.type){window.alert(" Please write a category name and select either 'Recurring' or 'Variable' before adding a budget.");return}Kq({name:n.name,limit:Number(n.limit||0),type:n.type}),r({name:"",limit:"",type:""}),e(g=>g+1)}function d(p){qq(p),e(g=>g+1)}const h=i.filter(p=>p.type==="recurring"),f=i.filter(p=>p.type!=="recurring");return m.jsx("div",{className:"dashboard-container dash",children:m.jsxs("div",{className:"grid",children:[m.jsxs("section",{className:"card col-12",children:[m.jsx("h2",{children:"Budget"}),m.jsxs("form",{className:"row",onSubmit:c,style:{flexDirection:"column",gap:"0.75rem",alignItems:"flex-start"},children:[m.jsx("input",{className:"input",placeholder:"Category name (e.g., Groceries)",value:n.name,onChange:p=>r({...n,name:p.target.value}),style:{width:"100%",maxWidth:500}}),m.jsxs("div",{className:"row",style:{gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("input",{className:"input",type:"number",step:"0.01",placeholder:"Monthly limit (optional)",value:n.limit,onChange:p=>r({...n,limit:p.target.value}),style:{maxWidth:220}}),m.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[m.jsx("input",{type:"radio",name:"budgetType",value:"recurring",checked:n.type==="recurring",onChange:p=>r({...n,type:p.target.value})}),"Recurring (monthly)"]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[m.jsx("input",{type:"radio",name:"budgetType",value:"variable",checked:n.type==="variable",onChange:p=>r({...n,type:p.target.value})}),"Variable"]})]}),m.jsx("button",{className:"btn",type:"submit",children:"Add"})]})]})]}),m.jsxs("section",{className:"card col-12 center",children:[m.jsx("h3",{children:"Total Budgeted"}),m.jsxs("div",{style:{fontSize:36,fontWeight:800,marginTop:4},children:["$",o.toFixed(2)]})]}),m.jsx("section",{className:"card col-12",children:m.jsxs("div",{className:"two-col",children:[m.jsxs("div",{className:"center",children:[m.jsx("h4",{style:{margin:0},children:"Recurring Expenses"}),m.jsxs("div",{style:{fontSize:24,fontWeight:700,color:"#2563eb",marginTop:4},children:["$",s.toFixed(2)]})]}),m.jsxs("div",{className:"center",children:[m.jsx("h4",{style:{margin:0},children:"Variable Expenses"}),m.jsxs("div",{style:{fontSize:24,fontWeight:700,color:"#f59e0b",marginTop:4},children:["$",a.toFixed(2)]})]})]})}),m.jsxs("section",{className:"card col-6",children:[m.jsx("h3",{children:"Recurring"}),h.length===0?m.jsx("p",{className:"muted",children:"No recurring budgets yet."}):m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Category"}),m.jsx("th",{children:"Limit"}),m.jsx("th",{children:"Spent"}),m.jsx("th",{children:"Remaining"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:h.map(p=>{const g=uD(p.name,l),v=(Number(p.limit)||0)-g;return m.jsxs("tr",{children:[m.jsx("td",{children:p.name}),m.jsx("td",{children:p.limit?`$${Number(p.limit).toFixed(2)}`:m.jsx("span",{className:"pill",children:"No limit"})}),m.jsxs("td",{children:["$",g.toFixed(2)]}),m.jsx("td",{style:{color:v<0?"#ef4444":"#22c55e"},children:Number.isFinite(v)?`$${v.toFixed(2)}`:""}),m.jsx("td",{children:m.jsx("button",{className:"btn danger",onClick:()=>d(p.id),children:"Delete"})})]},p.id)})})]})]}),m.jsxs("section",{className:"card col-6",children:[m.jsx("h3",{children:"Variable"}),f.length===0?m.jsx("p",{className:"muted",children:"No variable budgets yet."}):m.jsxs("table",{className:"table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Category"}),m.jsx("th",{children:"Limit"}),m.jsx("th",{children:"Spent"}),m.jsx("th",{children:"Remaining"}),m.jsx("th",{})]})}),m.jsx("tbody",{children:f.map(p=>{const g=uD(p.name,l),v=(Number(p.limit)||0)-g;return m.jsxs("tr",{children:[m.jsx("td",{children:p.name}),m.jsx("td",{children:p.limit?`$${Number(p.limit).toFixed(2)}`:m.jsx("span",{className:"pill",children:"No limit"})}),m.jsxs("td",{children:["$",g.toFixed(2)]}),m.jsx("td",{style:{color:v<0?"#ef4444":"#22c55e"},children:Number.isFinite(v)?`$${v.toFixed(2)}`:""}),m.jsx("td",{children:m.jsx("button",{className:"btn danger",onClick:()=>d(p.id),children:"Delete"})})]},p.id)})})]})]}),m.jsxs("section",{className:"card col-12",children:[m.jsx("h3",{children:"Income Tracker"}),m.jsx("p",{className:"muted",style:{marginBottom:"1rem"},children:"Track your actual and expected income below."}),m.jsxs("div",{className:"two-col",children:[m.jsx(cD,{title:"Actual Income",storageKey:"cv_income_actual_v1",prefix:"Paycheck"}),m.jsx(cD,{title:"Expected Income",storageKey:"cv_income_expected_v1",prefix:"Expected Paycheck"})]})]})]})})}function z3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=z3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=z3(t))&&(r&&(r+=" "),r+=e);return r}var qX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function DT(t){if(typeof t!="string")return!1;var e=qX;return e.includes(t)}var YX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function H3(t){if(typeof t!="string")return!1;var e=YX;return e.includes(t)}function W3(t){return typeof t=="string"&&t.startsWith("data-")}function As(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H3(r)||W3(r)});return Object.fromEntries(e)}function tm(t){if(t==null)return null;if(S.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return As(e)}return typeof t=="object"&&!Array.isArray(t)?As(t):null}function jr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return H3(r)||W3(r)||DT(r)});return Object.fromEntries(e)}function XX(t){return t==null?null:S.isValidElement(t)?jr(t.props):typeof t=="object"&&!Array.isArray(t)?jr(t):null}var QX=["children","width","height","viewBox","className","style","title","desc"];function fk(){return fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fk.apply(null,arguments)}function JX(t,e){if(t==null)return{};var n,r,i=ZX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V3=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=t,d=JX(t,QX),h=s||{width:r,height:i,x:0,y:0},f=Ze("recharts-surface",a);return S.createElement("svg",fk({},jr(d),{className:f,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),S.createElement("title",null,l),S.createElement("desc",null,c),n)}),eQ=["children","className"];function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pk.apply(null,arguments)}function tQ(t,e){if(t==null)return{};var n,r,i=nQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hi=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=tQ(t,eQ),s=Ze("recharts-layer",r);return S.createElement("g",pk({className:s},jr(i),{ref:e}),n)}),rQ=S.createContext(null);function xt(t){return function(){return t}}const G3=Math.cos,qx=Math.sin,ca=Math.sqrt,Yx=Math.PI,CS=2*Yx,mk=Math.PI,gk=2*mk,xu=1e-6,iQ=gk-xu;function K3(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return K3;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?K3:sQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,h=o-n,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>xu)if(!(Math.abs(h*l-c*d)>xu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,v=l*l+c*c,b=p*p+g*g,y=Math.sqrt(v),x=Math.sqrt(f),w=s*Math.tan((mk-Math.acos((v+f-b)/(2*y*x)))/2),_=w/x,E=w/y;Math.abs(_-1)>xu&&this._append`L${e+_*d},${n+_*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xu||Math.abs(this._y1-d)>xu)&&this._append`L${c},${d}`,r&&(f<0&&(f=f%gk+gk),f>iQ?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=d}`:f>xu&&this._append`A${r},${r},0,${+(f>=mk)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function MT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aQ(e)}function RT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function q3(t){this._context=t}q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function kS(t){return new q3(t)}function Y3(t){return t[0]}function X3(t){return t[1]}function Q3(t,e){var n=xt(!0),r=null,i=kS,s=null,a=MT(o);t=typeof t=="function"?t:t===void 0?Y3:xt(t),e=typeof e=="function"?e:e===void 0?X3:xt(e);function o(l){var c,d=(l=RT(l)).length,h,f=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,c,l),+e(h,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:xt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Fb(t,e,n){var r=null,i=xt(!0),s=null,a=kS,o=null,l=MT(c);t=typeof t=="function"?t:t===void 0?Y3:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?X3:xt(+n);function c(h){var f,p,g,v=(h=RT(h)).length,b,y=!1,x,w=new Array(v),_=new Array(v);for(s==null&&(o=a(x=l())),f=0;f<=v;++f){if(!(f<v&&i(b=h[f],f,h))===y)if(y=!y)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(w[g],_[g]);o.lineEnd(),o.areaEnd()}y&&(w[f]=+t(b,f,h),_[f]=+e(b,f,h),o.point(r?+r(b,f,h):w[f],n?+n(b,f,h):_[f]))}if(x)return o=null,x+""||null}function d(){return Q3().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:xt(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:xt(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:xt(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:xt(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:xt(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class J3{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function oQ(t){return new J3(t,!0)}function lQ(t){return new J3(t,!1)}const jT={draw(t,e){const n=ca(e/Yx);t.moveTo(n,0),t.arc(0,0,n,0,CS)}},cQ={draw(t,e){const n=ca(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Z3=ca(1/3),uQ=Z3*2,dQ={draw(t,e){const n=ca(e/uQ),r=n*Z3;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},hQ={draw(t,e){const n=ca(e),r=-n/2;t.rect(r,r,n,n)}},fQ=.8908130915292852,e4=qx(Yx/10)/qx(7*Yx/10),pQ=qx(CS/10)*e4,mQ=-G3(CS/10)*e4,gQ={draw(t,e){const n=ca(e*fQ),r=pQ*n,i=mQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=CS*s/5,o=G3(a),l=qx(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},bE=ca(3),vQ={draw(t,e){const n=-ca(e/(bE*3));t.moveTo(0,n*2),t.lineTo(-bE*n,-n),t.lineTo(bE*n,-n),t.closePath()}},Qi=-.5,Ji=ca(3)/2,vk=1/ca(12),yQ=(vk/2+1)*3,bQ={draw(t,e){const n=ca(e/yQ),r=n/2,i=n*vk,s=r,a=n*vk+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Qi*r-Ji*i,Ji*r+Qi*i),t.lineTo(Qi*s-Ji*a,Ji*s+Qi*a),t.lineTo(Qi*o-Ji*l,Ji*o+Qi*l),t.lineTo(Qi*r+Ji*i,Qi*i-Ji*r),t.lineTo(Qi*s+Ji*a,Qi*a-Ji*s),t.lineTo(Qi*o+Ji*l,Qi*l-Ji*o),t.closePath()}};function wQ(t,e){let n=null,r=MT(i);t=typeof t=="function"?t:xt(t||jT),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:xt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:xt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Xx(){}function Qx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function t4(t){this._context=t}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xQ(t){return new t4(t)}function n4(t){this._context=t}n4.prototype={areaStart:Xx,areaEnd:Xx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SQ(t){return new n4(t)}function r4(t){this._context=t}r4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AQ(t){return new r4(t)}function i4(t){this._context=t}i4.prototype={areaStart:Xx,areaEnd:Xx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EQ(t){return new i4(t)}function dD(t){return t<0?-1:1}function hD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(dD(s)+dD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function fD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Jx(t){this._context=t}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wE(this,this._t0,fD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wE(this,fD(this,n=hD(this,t,e)),n);break;default:wE(this,this._t0,n=hD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function s4(t){this._context=new a4(t)}(s4.prototype=Object.create(Jx.prototype)).point=function(t,e){Jx.prototype.point.call(this,e,t)};function a4(t){this._context=t}a4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function _Q(t){return new Jx(t)}function CQ(t){return new s4(t)}function o4(t){this._context=t}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pD(t),i=pD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function kQ(t){return new o4(t)}function PS(t,e){this._context=t,this._t=e}PS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function PQ(t){return new PS(t,.5)}function TQ(t){return new PS(t,0)}function NQ(t){return new PS(t,1)}function nm(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function yk(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function OQ(t,e){return t[e]}function IQ(t){const e=[];return e.key=t,e}function DQ(){var t=xt([]),e=yk,n=nm,r=OQ;function i(s){var a=Array.from(t.apply(this,arguments),IQ),o,l=a.length,c=-1,d;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(h,a[o].key,c,s)]).data=h;for(o=0,d=RT(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:xt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:xt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?yk:typeof s=="function"?s:xt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??nm,i):n},i}function MQ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}nm(t,e)}}function RQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}nm(t,e)}}function jQ(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],h=d[r][1]||0,f=d[r-1][1]||0,p=(h-f)/2,g=0;g<o;++g){var v=t[e[g]],b=v[r][1]||0,y=v[r-1][1]||0;p+=b-y}l+=h,c+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,nm(t,e)}}var TS={},l4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(l4);var LT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(LT);var NS={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(NS);var OS={},c4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(c4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c4,n=NS;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];c?h==="\\"&&o+1<a?(o++,l+=i[o]):h===c?c="":l+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,s.push(l),l=""):l+=h:h==="["?(d=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}t.toPath=r})(OS);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l4,n=LT,r=NS,i=OS;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function a(o,l,c){if(l.length===0)return c;let d=o;for(let h=0;h<l.length;h++){if(d==null||e.isUnsafeProperty(l[h]))return c;d=d[l[h]]}return d===void 0?c:d}t.get=s})(TS);var LQ=TS.get;const ch=Xa(LQ);var br=t=>t===0?0:t>0?1:-1,sa=t=>typeof t=="number"&&t!=+t,gl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,_e=t=>(typeof t=="number"||t instanceof Number)&&!sa(t),Ka=t=>_e(t)||typeof t=="string",FQ=0,wv=t=>{var e=++FQ;return"".concat(t||"").concat(e)},Fi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(e)&&typeof e!="string")return r;var s;if(gl(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return sa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},u4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function yr(t,e,n){return _e(t)&&_e(e)?t+n*(e-t):e}function d4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ch(r,e))===n)}var Cn=t=>t===null||typeof t>"u",U0=t=>Cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),BQ=["type","size","sizeType"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bk.apply(null,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=UQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=zQ(t,"string");return typeof e=="symbol"?e:e+""}function zQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HQ(t,e){if(t==null)return{};var n,r,i=WQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var h4={symbolCircle:jT,symbolCross:cQ,symbolDiamond:dQ,symbolSquare:hQ,symbolStar:gQ,symbolTriangle:vQ,symbolWye:bQ},VQ=Math.PI/180,GQ=t=>{var e="symbol".concat(U0(t));return h4[e]||jT},KQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*VQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qQ=(t,e)=>{h4["symbol".concat(U0(t))]=e},f4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=HQ(t,BQ),s=gD(gD({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var f=GQ(a),p=wQ().type(f).size(KQ(n,r,a)),g=p();if(g!==null)return g},{className:l,cx:c,cy:d}=s,h=jr(s);return c===+c&&d===+d&&n===+n?S.createElement("path",bk({},h,{className:Ze("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};f4.registerSymbol=qQ;var FT=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{DT(i)&&(r[i]=s=>n[i](n,s))}),r},YQ=(t,e,n)=>r=>(t(e,n,r),null),p4=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];DT(i)&&typeof s=="function"&&(r||(r={}),r[i]=YQ(s,e,n))}),r},m4={},g4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(g4);var BT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(BT);var v4={},IS={},y4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(y4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y4;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(IS);var b4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(b4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IS,n=b4;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(v4);var w4={},x4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TS;function n(r){return function(i){return e.get(i,r)}}t.property=n})(x4);var S4={},$T={},A4={},UT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(UT);var zT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zT);var HT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(HT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UT,n=zT,r=HT;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):s(d,h,function p(g,v,b,y,x,w){const _=f(g,v,b,y,x,w);return _!==void 0?!!_:s(g,v,p,w)},new Map)}function s(d,h,f,p){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,f,p);case"function":return Object.keys(h).length>0?s(d,{...h},f,p):r.eq(d,h);default:return e.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,f,p){if(h==null)return!0;if(Array.isArray(h))return l(d,h,f,p);if(h instanceof Map)return o(d,h,f,p);if(h instanceof Set)return c(d,h,f,p);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let v=0;v<g.length;v++){const b=g[v];if(!n.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!f(d[b],h[b],b,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function o(d,h,f,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,v]of h.entries()){const b=d.get(g);if(f(b,v,g,d,h,p)===!1)return!1}return!0}function l(d,h,f,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let v=0;v<h.length;v++){const b=h[v];let y=!1;for(let x=0;x<d.length;x++){if(g.has(x))continue;const w=d[x];let _=!1;if(f(w,b,v,d,h,p)&&(_=!0),_){g.add(x),y=!0;break}}if(!y)return!1}return!0}function c(d,h,f,p){return h.size===0?!0:d instanceof Set?l([...d],[...h],f,p):!1}t.isMatchWith=i,t.isSetMatch=c})(A4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})($T);var E4={},WT={},_4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(_4);var VT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(VT);var GT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",E="[object Int8Array]",k="[object Int16Array]",O="[object Int32Array]",T="[object BigInt64Array]",N="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=_,t.booleanTag=i,t.dataViewTag=v,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=N,t.float64ArrayTag=I,t.functionTag=h,t.int16ArrayTag=k,t.int32ArrayTag=O,t.int8ArrayTag=E,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=x,t.uint32ArrayTag=w,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=y})(GT);var C4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(C4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_4,n=VT,r=GT,i=zT,s=C4;function a(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,f,p=new Map,g=void 0){const v=g==null?void 0:g(d,h,f,p);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const b=new Array(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,f,p,g);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;p.set(d,b);for(const[y,x]of d)b.set(y,o(x,y,f,p,g));return b}if(d instanceof Set){const b=new Set;p.set(d,b);for(const y of d)b.add(o(y,void 0,f,p,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,b);for(let y=0;y<d.length;y++)b[y]=o(d[y],y,f,p,g);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,b),l(b,d,f,p,g),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return p.set(d,b),l(b,d,f,p,g),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return p.set(d,b),l(b,d,f,p,g),b}if(d instanceof Error){const b=new d.constructor;return p.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,f,p,g),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return p.set(d,b),l(b,d,f,p,g),b}if(d instanceof Number){const b=new Number(d.valueOf());return p.set(d,b),l(b,d,f,p,g),b}if(d instanceof String){const b=new String(d.valueOf());return p.set(d,b),l(b,d,f,p,g),b}if(typeof d=="object"&&c(d)){const b=Object.create(Object.getPrototypeOf(d));return p.set(d,b),l(b,d,f,p,g),b}return d}function l(d,h,f=d,p,g){const v=[...Object.keys(h),...e.getSymbols(h)];for(let b=0;b<v.length;b++){const y=v[b],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=o(h[y],y,f,p,g))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(WT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WT;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(E4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$T,n=E4;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(S4);var k4={},P4={},T4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WT,n=GT;function r(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const d=s==null?void 0:s(a,o,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(T4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T4;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(P4);var N4={},KT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(KT);var O4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VT;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(O4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LT,n=KT,r=O4,i=OS;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let d=0;d<l.length;d++){const h=l[d];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=s})(N4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$T,n=NS,r=P4,i=TS,s=N4;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?s.has(c,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(k4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BT,n=x4,r=S4,i=k4;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(w4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g4,n=BT,r=v4,i=w4;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(m4);var XQ=m4.uniqBy;const vD=Xa(XQ);function QQ(t,e,n){return e===!0?vD(t,n):typeof e=="function"?vD(t,e):t}var I4={exports:{}},D4={},M4={exports:{}},R4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=S;function JQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZQ=typeof Object.is=="function"?Object.is:JQ,eJ=rm.useState,tJ=rm.useEffect,nJ=rm.useLayoutEffect,rJ=rm.useDebugValue;function iJ(t,e){var n=e(),r=eJ({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return nJ(function(){i.value=n,i.getSnapshot=e,xE(i)&&s({inst:i})},[t,n,e]),tJ(function(){return xE(i)&&s({inst:i}),t(function(){xE(i)&&s({inst:i})})},[t]),rJ(n),n}function xE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ZQ(t,n)}catch{return!0}}function sJ(t,e){return e()}var aJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sJ:iJ;R4.useSyncExternalStore=rm.useSyncExternalStore!==void 0?rm.useSyncExternalStore:aJ;M4.exports=R4;var oJ=M4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=S,lJ=oJ;function cJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uJ=typeof Object.is=="function"?Object.is:cJ,dJ=lJ.useSyncExternalStore,hJ=DS.useRef,fJ=DS.useEffect,pJ=DS.useMemo,mJ=DS.useDebugValue;D4.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=hJ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=pJ(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,uJ(d,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(d=p,g):(d=p,h=v)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=dJ(t,s[0],s[1]);return fJ(function(){a.hasValue=!0,a.value=o},[o]),mJ(o),o};I4.exports=D4;var gJ=I4.exports,qT=S.createContext(null),vJ=t=>t,tn=()=>{var t=S.useContext(qT);return t?t.store.dispatch:vJ},Xw=()=>{},yJ=()=>Xw,bJ=(t,e)=>t===e;function Ae(t){var e=S.useContext(qT);return gJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:yJ,e?e.store.getState:Xw,e?e.store.getState:Xw,e?t:Xw,bJ)}function wJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function SJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var yD=t=>Array.isArray(t)?t:[t];function AJ(t){const e=Array.isArray(t[0])?t[0]:t;return SJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function EJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var _J=class{constructor(t){this.value=t}deref(){return this.value}},CJ=typeof WeakRef<"u"?WeakRef:_J,kJ=0,bD=1;function Bb(){return{s:kJ,v:void 0,o:null,p:null}}function j4(t,e={}){let n=Bb();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var h;let o=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(g);b===void 0?(o=Bb(),v.set(g,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(g);b===void 0?(o=Bb(),v.set(g,o)):o=b}}const c=o;let d;if(o.s===bD)d=o.v;else if(d=t.apply(null,arguments),s++,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new CJ(d):d}return c.s=bD,c.v=d,d}return a.clearCache=()=>{n=Bb(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function PJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),wJ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:p=j4,argsMemoizeOptions:g=[]}=d,v=yD(f),b=yD(g),y=AJ(i),x=h(function(){return s++,c.apply(null,arguments)},...v),w=p(function(){a++;const E=EJ(y,arguments);return o=x.apply(null,E),o},...b);return Object.assign(w,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var H=PJ(j4),TJ=Object.assign((t,e=H)=>{xJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>TJ}),L4={},F4={},B4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(B4);var $4={},YT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(YT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YT,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})($4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B4,n=$4,r=OS;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,g)=>{let v=p;for(let b=0;b<g.length&&v!=null;++b)v=v[g[b]];return v},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:c(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?c(g,p):typeof g=="object"?g[p]:g,h=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:h.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let v=0;v<h.length;v++){const b=e.compareValues(p.criteria[v],g.criteria[v],o[v]);if(b!==0)return b}return 0}).map(p=>p.original)}t.orderBy=i})(F4);var U4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(n,0),i}t.flatten=e})(U4);var XT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KT,n=IS,r=UT,i=HT;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(XT);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4,n=U4,r=XT;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(L4);var NJ=L4.sortBy;const MS=Xa(NJ);var z4=t=>t.legend.settings,OJ=t=>t.legend.size,IJ=t=>t.legend.payload;H([IJ,z4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?MS(r,n):r});var $b=1;function DJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>$b||Math.abs(a.left-e.left)>$b||Math.abs(a.top-e.top)>$b||Math.abs(a.width-e.width)>$b)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",wD=MJ,SE=()=>Math.random().toString(36).substring(7).split("").join("."),RJ={INIT:`@@redux/INIT${SE()}`,REPLACE:`@@redux/REPLACE${SE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${SE()}`},Zx=RJ;function QT(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function H4(t,e,n){if(typeof t!="function")throw new Error(Qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qn(1));return n(H4)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((b,y)=>{a.set(y,b)}))}function d(){if(l)throw new Error(Qn(3));return i}function h(b){if(typeof b!="function")throw new Error(Qn(4));if(l)throw new Error(Qn(5));let y=!0;c();const x=o++;return a.set(x,b),function(){if(y){if(l)throw new Error(Qn(6));y=!1,c(),a.delete(x),s=null}}}function f(b){if(!QT(b))throw new Error(Qn(7));if(typeof b.type>"u")throw new Error(Qn(8));if(typeof b.type!="string")throw new Error(Qn(17));if(l)throw new Error(Qn(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=a).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(Qn(10));r=b,f({type:Zx.REPLACE})}function g(){const b=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Qn(11));function x(){const _=y;_.next&&_.next(d())}return x(),{unsubscribe:b(x)}},[wD](){return this}}}return f({type:Zx.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[wD]:g}}function jJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Zx.INIT})>"u")throw new Error(Qn(12));if(typeof n(void 0,{type:Zx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qn(13))})}function W4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{jJ(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],p=a[h],g=f(p,o);if(typeof g>"u")throw o&&o.type,new Error(Qn(14));c[h]=g,l=l||g!==p}return l=l||r.length!==Object.keys(a).length,l?c:a}}function e1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function LJ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Qn(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=e1(...o)(i.dispatch),{...i,dispatch:s}}}function V4(t){return QT(t)&&"type"in t&&typeof t.type=="string"}var G4=Symbol.for("immer-nothing"),xD=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function Ys(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xv=Object.getPrototypeOf;function uh(t){return!!t&&!!t[Wi]}function vl(t){var e;return t?K4(t)||Array.isArray(t)||!!t[xD]||!!((e=t.constructor)!=null&&e[xD])||z0(t)||jS(t):!1}var FJ=Object.prototype.constructor.toString(),SD=new WeakMap;function K4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=SD.get(n);return r===void 0&&(r=Function.toString.call(n),SD.set(n,r)),r===FJ}function t1(t,e,n=!0){RS(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function RS(t){const e=t[Wi];return e?e.type_:Array.isArray(t)?1:z0(t)?2:jS(t)?3:0}function wk(t,e){return RS(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q4(t,e,n){const r=RS(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function z0(t){return t instanceof Map}function jS(t){return t instanceof Set}function Su(t){return t.copy_||t.base_}function xk(t,e){if(z0(t))return new Map(t);if(jS(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=K4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Wi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(xv(t),r)}else{const r=xv(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function JT(t,e=!1){return LS(t)||uh(t)||!vl(t)||(RS(t)>1&&Object.defineProperties(t,{set:Ub,add:Ub,clear:Ub,delete:Ub}),Object.freeze(t),e&&Object.values(t).forEach(n=>JT(n,!0))),t}function $J(){Ys(2)}var Ub={value:$J};function LS(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var UJ={};function dh(t){const e=UJ[t];return e||Ys(0,t),e}var Sv;function Y4(){return Sv}function zJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AD(t,e){e&&(dh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sk(t){Ak(t),t.drafts_.forEach(HJ),t.drafts_=null}function Ak(t){t===Sv&&(Sv=t.parent_)}function ED(t){return Sv=zJ(Sv,t)}function HJ(t){const e=t[Wi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _D(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wi].modified_&&(Sk(e),Ys(4)),vl(t)&&(t=n1(e,t),e.parent_||r1(e,t)),e.patches_&&dh("Patches").generateReplacementPatches_(n[Wi].base_,t,e.patches_,e.inversePatches_)):t=n1(e,n,[]),Sk(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==G4?t:void 0}function n1(t,e,n){if(LS(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Wi];if(!i)return t1(e,(s,a)=>CD(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return r1(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),t1(a,(l,c)=>CD(t,i,s,l,c,n,o),r),r1(t,s,!1),n&&t.patches_&&dh("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function CD(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=LS(i);if(!(o&&!a)){if(uh(i)){const l=s&&e&&e.type_!==3&&!wk(e.assigned_,r)?s.concat(r):void 0,c=n1(t,i,l);if(q4(n,r,c),uh(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(vl(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;n1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(z0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&r1(t,i)}}}function r1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JT(e,n)}function WJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Y4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ZT;n&&(i=[r],s=Av);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var ZT={get(t,e){if(e===Wi)return t;const n=Su(t);if(!wk(n,e))return VJ(t,n,e);const r=n[e];return t.finalized_||!vl(r)?r:r===AE(t.base_,e)?(EE(t),t.copy_[e]=_k(r,t)):r},has(t,e){return e in Su(t)},ownKeys(t){return Reflect.ownKeys(Su(t))},set(t,e,n){const r=X4(Su(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=AE(Su(t),e),s=i==null?void 0:i[Wi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BJ(n,i)&&(n!==void 0||wk(t.base_,e)))return!0;EE(t),Ek(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return AE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,EE(t),Ek(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Su(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ys(11)},getPrototypeOf(t){return xv(t.base_)},setPrototypeOf(){Ys(12)}},Av={};t1(ZT,(t,e)=>{Av[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Av.deleteProperty=function(t,e){return Av.set.call(this,t,e,void 0)};Av.set=function(t,e,n){return ZT.set.call(this,t[0],e,n,t[0])};function AE(t,e){const n=t[Wi];return(n?Su(n):t)[e]}function VJ(t,e,n){var i;const r=X4(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function X4(t,e){if(!(e in t))return;let n=xv(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xv(n)}}function Ek(t){t.modified_||(t.modified_=!0,t.parent_&&Ek(t.parent_))}function EE(t){t.copy_||(t.copy_=xk(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...c){return a.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Ys(6),r!==void 0&&typeof r!="function"&&Ys(7);let i;if(vl(e)){const s=ED(this),a=_k(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?Sk(s):Ak(s)}return AD(s,r),_D(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===G4&&(i=void 0),this.autoFreeze_&&JT(i,!0),r){const s=[],a=[];dh("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Ys(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){vl(t)||Ys(8),uh(t)&&(t=nl(t));const e=ED(this),n=_k(t,void 0);return n[Wi].isManual_=!0,Ak(e),n}finishDraft(t,e){const n=t&&t[Wi];(!n||!n.isManual_)&&Ys(9);const{scope_:r}=n;return AD(r,e),_D(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dh("Patches").applyPatches_;return uh(t)?r(t,e):this.produce(t,i=>r(i,e))}};function _k(t,e){const n=z0(t)?dh("MapSet").proxyMap_(t,e):jS(t)?dh("MapSet").proxySet_(t,e):WJ(t,e);return(e?e.scope_:Y4()).drafts_.push(n),n}function nl(t){return uh(t)||Ys(10,t),Q4(t)}function Q4(t){if(!vl(t)||LS(t))return t;const e=t[Wi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xk(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=xk(t,!0);return t1(n,(i,s)=>{q4(n,i,Q4(s))},r),e&&(e.finalized_=!1),n}var KJ=new GJ,J4=KJ.produce;function Z4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var qJ=Z4(),YJ=Z4,XJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?e1:e1.apply(null,arguments)};function Es(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Bi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>V4(r)&&r.type===t,n}var eU=class kg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kg.prototype)}static get[Symbol.species](){return kg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kg(...e[0].concat(this)):new kg(...e.concat(this))}};function kD(t){return vl(t)?J4(t,()=>{}):t}function zb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QJ(t){return typeof t=="boolean"}var JJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new eU;return n&&(QJ(n)?a.push(qJ):a.push(YJ(n.extraArgument))),a},tU="RTK_autoBatch",Nr=()=>t=>({payload:t,meta:{[tU]:!0}}),PD=t=>e=>{setTimeout(e,t)},nU=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PD(10):t.type==="callback"?t.queueNotification:PD(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[tU]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},ZJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new eU(t);return r&&i.push(nU(typeof r=="object"?r:void 0)),i};function eZ(t){const e=JJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(QT(n))o=W4(n);else throw new Error(Bi(1));let l;typeof r=="function"?l=r(e):l=e();let c=e1;i&&(c=XJ({trace:!1,...typeof i=="object"&&i}));const d=LJ(...l),h=ZJ(d);let f=typeof a=="function"?a(h):h();const p=c(...f);return H4(o,s,p)}function rU(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Bi(28));if(o in e)throw new Error(Bi(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function tZ(t){return typeof t=="function"}function nZ(t,e){let[n,r,i]=rU(e),s;if(tZ(t))s=()=>kD(t());else{const o=kD(t);s=()=>o}function a(o=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(uh(d)){const p=h(d,l);return p===void 0?d:p}else{if(vl(d))return J4(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return a.getInitialState=s,a}var rZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iZ=(t=21)=>{let e="",n=t;for(;n--;)e+=rZ[Math.random()*64|0];return e},sZ=Symbol.for("rtk-slice-createasyncthunk");function aZ(t,e){return`${t}/${e}`}function oZ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[sZ];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Bi(11));const o=(typeof i.reducers=="function"?i.reducers(cZ()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,E){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(Bi(12));if(k in c.sliceCaseReducersByType)throw new Error(Bi(13));return c.sliceCaseReducersByType[k]=E,d},addMatcher(_,E){return c.sliceMatchers.push({matcher:_,reducer:E}),d},exposeAction(_,E){return c.actionCreators[_]=E,d},exposeCaseReducer(_,E){return c.sliceCaseReducersByName[_]=E,d}};l.forEach(_=>{const E=o[_],k={reducerName:_,type:aZ(s,_),createNotation:typeof i.reducers=="function"};dZ(E)?fZ(k,E,d,e):uZ(k,E,d)});function h(){const[_={},E=[],k=void 0]=typeof i.extraReducers=="function"?rU(i.extraReducers):[i.extraReducers],O={..._,...c.sliceCaseReducersByType};return nZ(i.initialState,T=>{for(let N in O)T.addCase(N,O[N]);for(let N of c.sliceMatchers)T.addMatcher(N.matcher,N.reducer);for(let N of E)T.addMatcher(N.matcher,N.reducer);k&&T.addDefaultCase(k)})}const f=_=>_,p=new Map,g=new WeakMap;let v;function b(_,E){return v||(v=h()),v(_,E)}function y(){return v||(v=h()),v.getInitialState()}function x(_,E=!1){function k(T){let N=T[_];return typeof N>"u"&&E&&(N=zb(g,k,y)),N}function O(T=f){const N=zb(p,E,()=>new WeakMap);return zb(N,T,()=>{const I={};for(const[D,M]of Object.entries(i.selectors??{}))I[D]=lZ(M,T,()=>zb(g,T,y),E);return I})}return{reducerPath:_,getSelectors:O,get selectors(){return O(k)},selectSlice:k}}const w={name:s,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...x(a),injectInto(_,{reducerPath:E,...k}={}){const O=E??a;return _.inject({reducerPath:O,reducer:b},k),{...w,...x(O,!0)}}};return w}}function lZ(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var Ki=oZ();function cZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function uZ({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!hZ(r))throw new Error(Bi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Es(t,a):Es(t))}function dZ(t){return t._reducerDefinitionType==="asyncThunk"}function hZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fZ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Bi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),a&&r.addCase(h.fulfilled,a),o&&r.addCase(h.pending,o),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:a||Hb,pending:o||Hb,rejected:l||Hb,settled:c||Hb})}function Hb(){}var pZ="task",iU="listener",sU="completed",e2="cancelled",mZ=`task-${e2}`,gZ=`task-${sU}`,Ck=`${iU}-${e2}`,vZ=`${iU}-${sU}`,FS=class{constructor(t){te(this,"name","TaskAbortError");te(this,"message");this.code=t,this.message=`${pZ} ${e2} (reason: ${t})`}},t2=(t,e)=>{if(typeof t!="function")throw new TypeError(Bi(32))},i1=()=>{},aU=(t,e=i1)=>(t.catch(e),t),oU=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jd=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zd=t=>{if(t.aborted){const{reason:e}=t;throw new FS(e)}};function lU(t,e){let n=i1;return new Promise((r,i)=>{const s=()=>i(new FS(t.reason));if(t.aborted){s();return}n=oU(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=i1})}var yZ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof FS?"cancelled":"rejected",error:n}}finally{e==null||e()}},s1=t=>e=>aU(lU(t,e).then(n=>(Zd(t),n))),cU=t=>{const e=s1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:mf}=Object,TD={},BS="listenerMiddleware",bZ=(t,e)=>{const n=r=>oU(t,()=>Jd(r,t.reason));return(r,i)=>{t2(r);const s=new AbortController;n(s);const a=yZ(async()=>{Zd(t),Zd(s.signal);const o=await r({pause:s1(s.signal),delay:cU(s.signal),signal:s.signal});return Zd(s.signal),o},()=>Jd(s,gZ));return i!=null&&i.autoJoin&&e.push(a.catch(i1)),{result:s1(t)(a),cancel(){Jd(s,mZ)}}}},wZ=(t,e)=>{const n=async(r,i)=>{Zd(e);let s=()=>{};const o=[new Promise((l,c)=>{let d=t({predicate:r,effect:(h,f)=>{f.unsubscribe(),l([h,f.getState(),f.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await lU(e,Promise.race(o));return Zd(e),l}finally{s()}};return(r,i)=>aU(n(r,i))},uU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Es(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bi(21));return t2(s),{predicate:i,type:e,effect:s}},dU=mf(t=>{const{type:e,predicate:n,effect:r}=uU(t);return{id:iZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>dU}),ND=(t,e)=>{const{type:n,effect:r,predicate:i}=uU(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},kk=t=>{t.pending.forEach(e=>{Jd(e,Ck)})},xZ=(t,e)=>()=>{for(const n of e.keys())kk(n);t.clear()},OD=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},hU=mf(Es(`${BS}/add`),{withTypes:()=>hU}),SZ=Es(`${BS}/removeAll`),fU=mf(Es(`${BS}/remove`),{withTypes:()=>fU}),AZ=(...t)=>{console.error(`${BS}/error`,...t)},H0=(t={})=>{const e=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:s,onError:a=AZ}=t;t2(a);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&kk(p)}),l=p=>{const g=ND(e,p)??dU(p);return o(g)};mf(l,{withTypes:()=>l});const c=p=>{const g=ND(e,p);return g&&(g.unsubscribe(),p.cancelActive&&kk(g)),!!g};mf(c,{withTypes:()=>c});const d=async(p,g,v,b)=>{const y=new AbortController,x=wZ(l,y.signal),w=[];try{p.pending.add(y),r(p),await Promise.resolve(p.effect(g,mf({},v,{getOriginalState:b,condition:(_,E)=>x(_,E).then(Boolean),take:x,delay:cU(y.signal),pause:s1(y.signal),extra:s,signal:y.signal,fork:bZ(y.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,E,k)=>{_!==y&&(Jd(_,Ck),k.delete(_))})},cancel:()=>{Jd(y,Ck),p.pending.delete(y)},throwIfCancelled:()=>{Zd(y.signal)}})))}catch(_){_ instanceof FS||OD(a,_,{raisedBy:"effect"})}finally{await Promise.all(w),Jd(y,vZ),i(p),p.pending.delete(y)}},h=xZ(e,n);return{middleware:p=>g=>v=>{if(!V4(v))return g(v);if(hU.match(v))return l(v.payload);if(SZ.match(v)){h();return}if(fU.match(v))return c(v.payload);let b=p.getState();const y=()=>{if(b===TD)throw new Error(Bi(23));return b};let x;try{if(x=g(v),e.size>0){const w=p.getState(),_=Array.from(e.values());for(const E of _){let k=!1;try{k=E.predicate(v,w,b)}catch(O){k=!1,OD(a,O,{raisedBy:"predicate"})}k&&d(E,v,p,y)}}}finally{b=TD}return x},startListening:l,stopListening:c,clearListeners:h}};function Bi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var EZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pU=Ki({name:"chartLayout",initialState:EZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:_Z,setLayout:CZ,setChartSize:kZ,setScale:PZ}=pU.actions,TZ=pU.reducer;function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return(e=OZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=IZ(t,"string");return typeof e=="symbol"?e:e+""}function IZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a1=Math.PI/180,DZ=t=>t*180/Math.PI,fn=(t,e,n,r)=>({x:t+Math.cos(-a1*r)*n,y:e+Math.sin(-a1*r)*n}),mU=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},MZ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},RZ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=MZ({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:DZ(l),angleInRadian:l}},jZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},LZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},FZ=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=RZ({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=jZ(e),d=s,h;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;h=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=l}return h?DD(DD({},e),{},{radius:i,angle:LZ(d,e)}):null};function gU(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wt(t,e,n){return Cn(t)||Cn(e)?n:Ka(e)?ch(t,e,n):typeof e=="function"?e(t):n}var zZ=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,d=n[l].coordinate,h=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(br(d-c)!==br(h-d)){var p=[];if(br(h-d)===br(i[1]-i[0])){f=h;var g=d+i[1]-i[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{f=c;var v=h+i[1]-i[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>b[0]&&t<=b[1]||t>=p[0]&&t<=p[1]){({index:a}=n[l]);break}}else{var y=Math.min(c,h),x=Math.max(c,h);if(t>(y+d)/2&&t<=(x+d)/2){({index:a}=n[l]);break}}}else if(e){for(var w=0;w<o;w++)if(w===0&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w>0&&w<o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w===o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2){({index:a}=e[w]);break}}return a},HZ=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&_e(t[s]))return ms(ms({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&_e(t[a]))return ms(ms({},t),{},{[a]:t[a]+(i||0)})}return t},cu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",vU=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(n),a},yU=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:h,niceTicks:f,axisType:p}=t;if(!a)return null;var g=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,v=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(v=p==="angleAxis"&&s&&s.length>=2?br(s[0]-s[1])*2*v:v,h||f){var b=(h||f||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:a(w)+v,value:y,offset:v,index:x}});return b.filter(y=>!sa(y.coordinate))}return l&&c?c.map((y,x)=>({coordinate:a(y)+v,value:y,index:x,offset:v})):a.ticks&&d!=null?a.ticks(d).map((y,x)=>({coordinate:a(y)+v,value:y,offset:v,index:x})):a.domain().map((y,x)=>({coordinate:a(y)+v,value:r?r[y]:y,index:x,offset:v}))},RD=1e-4,WZ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-RD,s=Math.max(r[0],r[1])+RD,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},VZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=sa(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},GZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=sa(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},KZ={sign:VZ,expand:MQ,none:nm,silhouette:RQ,wiggle:jQ,positive:GZ},qZ=(t,e,n)=>{var r=KZ[n],i=DQ().keys(e).value((s,a)=>+Wt(s,a,0)).order(yk).offset(r);return i(t)};function jD(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Cn(i[e.dataKey])){var o=d4(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Wt(i,Cn(a)?e.dataKey:a);return Cn(l)?null:e.scale(l)}var YZ=t=>{var e=t.flat(2).filter(_e);return[Math.min(...e),Math.max(...e)]},XZ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],QZ=(t,e,n)=>{if(t!=null)return XZ(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var d=gU(c,e,n),h=YZ(d);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},LD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pk=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=MS(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function BD(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return ms(ms({},e),{},{dataKey:n,payload:r,value:i,name:s})}function $S(t,e){if(t)return String(t);if(typeof e=="string")return e}function JZ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?FZ({x:t,y:e},r):null}var ZZ=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return ms(ms(ms({},r),fn(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return ms(ms(ms({},r),fn(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},eee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,El=t=>t.layout.width,_l=t=>t.layout.height,tee=t=>t.layout.scale,bU=t=>t.layout.margin,US=H(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),zS=H(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),wU="data-recharts-item-index",xU="data-recharts-item-data-key",W0=60;function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){nee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nee(t,e,n){return(e=ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ree(t){var e=iee(t,"string");return typeof e=="symbol"?e:e+""}function iee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var see=t=>t.brush.height;function aee(t){var e=zS(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:W0;return n+i}return n},0)}function oee(t){var e=zS(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:W0;return n+i}return n},0)}function lee(t){var e=US(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cee(t){var e=US(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=H([El,_l,bU,see,aee,oee,lee,cee,z4,OJ],(t,e,n,r,i,s,a,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},h={top:(n.top||0)+a,bottom:(n.bottom||0)+o},f=Wb(Wb({},h),d),p=f.bottom;f.bottom+=r,f=HZ(f,l,c);var g=t-f.left-f.right,v=e-f.top-f.bottom;return Wb(Wb({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(v,0)})}),uee=H(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SU=H(El,_l,(t,e)=>({x:0,y:0,width:t,height:e})),dee=S.createContext(null),qi=()=>S.useContext(dee)!=null,HS=t=>t.brush,WS=H([HS,Hn,bU],(t,e,n)=>({height:t.height,x:_e(t.x)?t.x:e.left,y:_e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:_e(t.width)?t.width:e.width})),AU={},EU={},_U={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},h=()=>{c&&d(),v()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},r)},g=()=>{f!==null&&(clearTimeout(f),f=null)},v=()=>{g(),a=void 0,o=null},b=()=>{d()},y=function(...x){if(i!=null&&i.aborted)return;a=this,o=x;const w=f==null;p(),l&&w&&d()};return y.schedule=p,y.cancel=v,y.flush=b,i==null||i.addEventListener("abort",v,{once:!0}),y}t.debounce=e})(_U);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_U;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let d,h=null;const f=e.debounce(function(...v){d=r.apply(this,v),h=null},i,{edges:c}),p=function(...v){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(d=r.apply(this,v),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,v),d)},g=()=>(f.flush(),d);return p.cancel=f.cancel,p.flush=g,p}t.debounce=n})(EU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EU;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(AU);var hee=AU.throttle;const fee=Xa(hee);var o1=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},CU=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=gl(r)?t:Number(r),l=gl(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},pee={width:0,height:0,overflow:"visible"},mee={width:0,overflowX:"visible"},gee={height:0,overflowY:"visible"},vee={},yee=t=>{var{width:e,height:n}=t,r=gl(e),i=gl(n);return r&&i?pee:r?mee:i?gee:vee};function bee(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function ai(t){return Number.isFinite(t)}function im(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Tk(){return Tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tk.apply(null,arguments)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=See(t,"string");return typeof e=="symbol"?e:e+""}function See(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kU=S.createContext({width:-1,height:-1});function PU(t){var{children:e,width:n,height:r}=t,i=S.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:S.createElement(kU.Provider,{value:i},e)}var n2=()=>S.useContext(kU),Aee=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:h,className:f,onResize:p,style:g={}}=t,v=S.useRef(null),b=S.useRef();b.current=p,S.useImperativeHandle(e,()=>v.current);var[y,x]=S.useState({containerWidth:r.width,containerHeight:r.height}),w=S.useCallback((T,N)=>{x(I=>{var D=Math.round(T),M=Math.round(N);return I.containerWidth===D&&I.containerHeight===M?I:{containerWidth:D,containerHeight:M}})},[]);S.useEffect(()=>{var T=M=>{var F,{width:K,height:Q}=M[0].contentRect;w(K,Q),(F=b.current)===null||F===void 0||F.call(b,K,Q)};d>0&&(T=fee(T,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(T),{width:I,height:D}=v.current.getBoundingClientRect();return w(I,D),N.observe(v.current),()=>{N.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:E}=y;o1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:O}=CU(_,E,{width:i,height:s,aspect:n,maxHeight:l});return o1(k>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,O,i,s,a,o,n),S.createElement("div",{id:h?"".concat(h):void 0,className:Ze("recharts-responsive-container",f),style:zD(zD({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:v},S.createElement("div",{style:yee({width:i,height:s})},S.createElement(PU,{width:k,height:O},c)))}),Eee=S.forwardRef((t,e)=>{var n=n2();if(im(n.width)&&im(n.height))return t.children;var{width:r,height:i}=bee({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=CU(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return _e(s)&&_e(a)?S.createElement(PU,{width:s,height:a},t.children):S.createElement(Aee,Tk({},t,{width:r,height:i,ref:e}))}),VS=()=>{var t,e=qi(),n=Ae(uee),r=Ae(WS),i=(t=Ae(HS))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_ee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TU=()=>{var t;return(t=Ae(Hn))!==null&&t!==void 0?t:_ee},NU=()=>Ae(El),OU=()=>Ae(_l),ut=t=>t.layout.layoutType,r2=()=>Ae(ut),GS=t=>{var e=tn(),n=qi(),{width:r,height:i}=t,s=n2(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),S.useEffect(()=>{!n&&im(a)&&im(o)&&e(kZ({width:a,height:o}))},[e,n,a,o]),null},Cee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IU=Ki({name:"legend",initialState:Cee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Nr()},removeLegendPayload:{reducer(t,e){var n=nl(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Nr()}}}),{setLegendSize:vfe,setLegendSettings:yfe,addLegendPayload:DU,removeLegendPayload:MU}=IU.actions,kee=IU.reducer;function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nk.apply(null,arguments)}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){Pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pee(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Nee(t,"string");return typeof e=="symbol"?e:e+""}function Nee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oee(t){return Array.isArray(t)&&Ka(t[0])&&Ka(t[1])?t.join(" ~ "):t}var Iee=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:h,accessibilityLayer:f=!1}=t,p=()=>{if(s&&s.length){var E={padding:0,margin:0},k=(o?MS(s,o):s).map((O,T)=>{if(O.type==="none")return null;var N=O.formatter||a||Oee,{value:I,name:D}=O,M=I,F=D;if(N){var K=N(I,D,O,T,s);if(Array.isArray(K))[M,F]=K;else if(K!=null)M=K;else return null}var Q=_E({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:Q},Ka(F)?S.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ka(F)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},M),S.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:E},k)}return null},g=_E({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=_E({margin:0},i),b=!Cn(d),y=b?d:"",x=Ze("recharts-default-tooltip",l),w=Ze("recharts-tooltip-label",c);b&&h&&s!==void 0&&s!==null&&(y=h(d,s));var _=f?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",Nk({className:x,style:g},_),S.createElement("p",{className:w,style:v},S.isValidElement(y)?y:"".concat(y)),p())},Gm="recharts-tooltip-wrapper",Dee={visibility:"hidden"};function Mee(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ze(Gm,{["".concat(Gm,"-right")]:_e(n)&&e&&_e(e.x)&&n>=e.x,["".concat(Gm,"-left")]:_e(n)&&e&&_e(e.x)&&n<e.x,["".concat(Gm,"-bottom")]:_e(r)&&e&&_e(e.y)&&r>=e.y,["".concat(Gm,"-top")]:_e(r)&&e&&_e(e.y)&&r<e.y})}function WD(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(s&&_e(s[r]))return s[r];var d=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return a[r]?d:h;var f=l[r];if(f==null)return 0;if(a[r]){var p=d,g=f;return p<g?Math.max(h,f):Math.max(d,f)}if(c==null)return 0;var v=h+o,b=f+c;return v>b?Math.max(d,f):Math.max(h,f)}function Ree(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jee(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,c,d,h;return a.height>0&&a.width>0&&n?(d=WD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=WD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Ree({translateX:d,translateY:h,useTranslate3d:o})):c=Dee,{cssProperties:c,cssClasses:Mee({translateX:d,translateY:h,coordinate:n})}}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){Ok(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ok(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Fee(t,"string");return typeof e=="symbol"?e:e+""}function Fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bee extends S.PureComponent{constructor(){super(...arguments),Ok(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ok(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:h,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=jee({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:d,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:f,viewBox:p}),_=y?{}:Vb(Vb({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=Vb(Vb({},_),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:E,ref:b},s)}}var $ee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sh={devToolsEnabled:!1,isSsr:$ee()},RU=()=>Ae(t=>t.rootProps.accessibilityLayer);function Ik(){return Ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ik.apply(null,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Uee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uee(t,e,n){return(e=zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD={curveBasisClosed:SQ,curveBasisOpen:AQ,curveBasis:xQ,curveBumpX:oQ,curveBumpY:lQ,curveLinearClosed:EQ,curveLinear:kS,curveMonotoneX:_Q,curveMonotoneY:CQ,curveNatural:kQ,curveStep:PQ,curveStepAfter:NQ,curveStepBefore:TQ},Gb=t=>ai(t.x)&&ai(t.y),Km=t=>t.x,qm=t=>t.y,Wee=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(U0(t));return(n==="curveMonotone"||n==="curveBump")&&e?qD["".concat(n).concat(e==="vertical"?"Y":"X")]:qD[n]||kS},Vee=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=Wee(e,i),o=s?n.filter(Gb):n,l;if(Array.isArray(r)){var c=s?r.filter(h=>Gb(h)):r,d=o.map((h,f)=>KD(KD({},h),{},{base:c[f]}));return i==="vertical"?l=Fb().y(qm).x1(Km).x0(h=>h.base.x):l=Fb().x(Km).y1(qm).y0(h=>h.base.y),l.defined(Gb).curve(a),l(d)}return i==="vertical"&&_e(r)?l=Fb().y(qm).x1(Km).x0(r):_e(r)?l=Fb().x(Km).y1(qm).y0(r):l=Q3().x(Km).y(qm),l.defined(Gb).curve(a),l(o)},i2=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Vee(t):r;return S.createElement("path",Ik({},As(t),FT(t),{className:Ze("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Gee=["x","y","top","left","width","height","className"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dk.apply(null,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qee(t,e,n){return(e=Yee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yee(t){var e=Xee(t,"string");return typeof e=="symbol"?e:e+""}function Xee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qee(t,e){if(t==null)return{};var n,r,i=Jee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zee=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),ete=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=Qee(t,Gee),c=Kee({x:e,y:n,top:r,left:i,width:s,height:a},l);return!_e(e)||!_e(n)||!_e(s)||!_e(a)||!_e(r)||!_e(i)?null:S.createElement("path",Dk({},jr(c),{className:Ze("recharts-cross",o),d:Zee(e,n,s,a,r,i)}))};function tte(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){rte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rte(t,e,n){return(e=ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ite(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xr(t,e){var n=nte({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}function ate(){}function ote(t){return t!=null}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lte(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jU=(t,e,n)=>t.map(r=>"".concat(dte(r)," ").concat(e,"ms ").concat(n)).join(","),hte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ev=(t,e)=>Object.keys(e).reduce((n,r)=>JD(JD({},n),{},{[r]:t(r,e[r])}),{});function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=mte(t,"string");return typeof e=="symbol"?e:e+""}function mte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l1=(t,e,n)=>t+(e-t)*n,Mk=t=>{var{from:e,to:n}=t;return e!==n},LU=(t,e,n)=>{var r=Ev((i,s)=>{if(Mk(s)){var[a,o]=t(s.from,s.to,s.velocity);return er(er({},s),{},{from:a,velocity:o})}return s},e);return n<1?Ev((i,s)=>Mk(s)?er(er({},s),{},{velocity:l1(s.velocity,r[i].velocity,n),from:l1(s.from,r[i].from,n)}):s,e):LU(t,r,n-1)};function gte(t,e,n,r,i,s){var a,o=r.reduce((f,p)=>er(er({},f),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Ev((f,p)=>p.from,o),c=()=>!Object.values(o).filter(Mk).length,d=null,h=f=>{a||(a=f);var p=f-a,g=p/n.dt;o=LU(n,o,g),i(er(er(er({},t),e),l())),a=f,c()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{d()})}function vte(t,e,n,r,i,s,a){var o=null,l=i.reduce((h,f)=>er(er({},h),{},{[f]:[t[f],e[f]]}),{}),c,d=h=>{c||(c=h);var f=(h-c)/r,p=Ev((v,b)=>l1(...b,n(f)),l);if(s(er(er(er({},t),e),p)),f<1)o=a.setTimeout(d);else{var g=Ev((v,b)=>l1(...b,n(1)),l);s(er(er(er({},t),e),g))}};return()=>(o=a.setTimeout(d),()=>{o()})}const yte=(t,e,n,r,i,s)=>{var a=hte(t,e);return n.isStepper===!0?gte(t,e,n,a,i,s):vte(t,e,n,r,a,i,s)};var c1=1e-4,FU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],BU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),eM=(t,e)=>n=>{var r=FU(t,e);return BU(r,n)},bte=(t,e)=>n=>{var r=FU(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return BU(i,n)},tM=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([e,r,n,i]=a);var c=eM(e,n),d=eM(r,i),h=bte(e,n),f=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,b=v,y=0;y<8;++y){var x=c(b)-v,w=h(b);if(Math.abs(x-v)<c1||w<c1)return d(b);b=f(b-x/w)}return d(b)};return p.isStepper=!1,p},wte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*n,d=l*r,h=l+(c-d)*i/1e3,f=l*i/1e3+a;return Math.abs(f-o)<c1&&Math.abs(h)<c1?[o,0]:[f,h]};return s.isStepper=!0,s.dt=i,s},xte=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tM(t);case"spring":return wte();default:if(t.split("(")[0]==="cubic-bezier")return tM(t)}return typeof t=="function"?t:null};function Ste(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Ate{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Ete(){return Ste(new Ate)}var _te=S.createContext(Ete);function Cte(t,e){var n=S.useContext(_te);return S.useMemo(()=>e??n(t),[t,e,n])}var kte={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nM={t:0},CE={t:1};function KS(t){var e=xr(t,kte),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=e,d=Cte(e.animationId,e.animationManager),[h,f]=S.useState(n?nM:CE),p=S.useRef(null);return S.useEffect(()=>{n||f(CE)},[n]),S.useEffect(()=>{if(!n||!r)return ate;var g=yte(nM,CE,xte(s),i,f,d.getTimeoutController()),v=()=>{p.current=g()};return d.start([l,a,v,i,o]),()=>{d.stop(),p.current&&p.current(),o()}},[n,r,i,s,a,l,o,d]),c(h.t)}function qS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(wv(e)),r=S.useRef(t);return r.current!==t&&(n.current=wv(e),r.current=t),n.current}var Pte=["radius"],Tte=["radius"];function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return(e=Ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function sM(t,e){if(t==null)return{};var n,r,i=Dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aM=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>s?s:i[h];c="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+o*d[0],",").concat(e)),c+="L ".concat(t+n-o*d[1],",").concat(e),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*d[1])),c+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-o*d[2],",").concat(e+r)),c+="L ".concat(t+o*d[3],",").concat(e+r),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*d[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);c="M ".concat(t,",").concat(e+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+o*p,",").concat(e,`
            L `).concat(t+n-o*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*p,`
            L `).concat(t+n,",").concat(e+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-o*p,",").concat(e+r,`
            L `).concat(t+o*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*p," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},Mte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$U=t=>{var e=xr(t,Mte),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var U=n.current.getTotalLength();U&&i(U)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=e,b=S.useRef(o),y=S.useRef(l),x=S.useRef(s),w=S.useRef(a),_=S.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),E=qS(_,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var k=Ze("recharts-rectangle",d);if(!v){var O=jr(e),{radius:T}=O,N=sM(O,Pte);return S.createElement("path",u1({},N,{radius:typeof c=="number"?c:void 0,className:k,d:aM(s,a,o,l,c)}))}var I=b.current,D=y.current,M=x.current,F=w.current,K="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),Y=jU(["strokeDasharray"],f,typeof h=="string"?h:void 0);return S.createElement(KS,{animationId:E,key:E,canBegin:r>0,duration:f,easing:h,isActive:v,begin:p},U=>{var z=yr(I,o,U),W=yr(D,l,U),ne=yr(M,s,U),re=yr(F,a,U);n.current&&(b.current=z,y.current=W,x.current=ne,w.current=re);var X;g?U>0?X={transition:Y,strokeDasharray:Q}:X={strokeDasharray:K}:X={strokeDasharray:Q};var J=jr(e),{radius:ue}=J,Z=sM(J,Tte);return S.createElement("path",u1({},Z,{radius:typeof c=="number"?c:void 0,className:k,d:aM(ne,re,z,W,c),ref:n,style:iM(iM({},X),e.style)}))})};function UU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=fn(e,n,r,i),o=fn(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Rk(){return Rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rk.apply(null,arguments)}var Rte=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Kb=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,c=o*(a?1:-1)+r,d=Math.asin(o/c)/a1,h=l?i:i+s*d,f=fn(e,n,c,h),p=fn(e,n,r,h),g=l?i-s*d:i,v=fn(e,n,c*Math.cos(d*a1),g);return{center:f,circleTangency:p,lineTangency:v,theta:d}},zU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=Rte(s,a),l=s+o,c=fn(e,n,i,s),d=fn(e,n,i,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var f=fn(e,n,r,s),p=fn(e,n,r,l);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},jte=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=t,d=br(c-l),{circleTangency:h,lineTangency:f,theta:p}=Kb({cx:e,cy:n,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:v,theta:b}=Kb({cx:e,cy:n,radius:i,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-p-b;if(y<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:_,theta:E}=Kb({cx:e,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:k,lineTangency:O,theta:T}=Kb({cx:e,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=o?Math.abs(l-c):Math.abs(l-c)-E-T;if(N<0&&s===0)return"".concat(x,"L").concat(e,",").concat(n,"Z");x+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else x+="L".concat(e,",").concat(n,"Z");return x},Lte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HU=t=>{var e=xr(t,Lte),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:h}=e;if(s<i||c===d)return null;var f=Ze("recharts-sector",h),p=s-i,g=Fi(a,p,0,!0),v;return g>0&&Math.abs(c-d)<360?v=jte({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):v=zU({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d}),S.createElement("path",Rk({},jr(e),{className:f,d:v}))};function Fte(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:h}=e,f=fn(o,l,c,h),p=fn(o,l,d,h);r=f.x,i=f.y,s=p.x,a=p.y}else return UU(e);return[{x:r,y:i},{x:s,y:a}]}var WU={},VU={},GU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YT;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(GU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GU;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(VU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XT,n=VU;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}t.range=r})(WU);var Bte=WU.range;const KU=Xa(Bte);function Yc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $te(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s2(t){let e,n,r;t.length!==2?(e=Yc,n=(o,l)=>Yc(t(o),l),r=(o,l)=>t(o)-l):(e=t===Yc||t===$te?t:Ute,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function a(o,l,c=0,d=o.length){const h=i(o,l,c,d-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function Ute(){return 0}function qU(t){return t===null?NaN:+t}function*zte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Hte=s2(Yc),V0=Hte.right;s2(qU).center;class oM extends Map{constructor(e,n=Gte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(lM(this,e))}has(e){return super.has(lM(this,e))}set(e,n){return super.set(Wte(this,e),n)}delete(e){return super.delete(Vte(this,e))}}function lM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vte({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Gte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Kte(t=Yc){if(t===Yc)return YU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function YU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const qte=Math.sqrt(50),Yte=Math.sqrt(10),Xte=Math.sqrt(2);function d1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=qte?10:s>=Yte?5:s>=Xte?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?d1(t,e,n*2):[o,l,c]}function jk(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?d1(e,t,n):d1(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Lk(t,e,n){return e=+e,t=+t,n=+n,d1(t,e,n)[2]}function Fk(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Lk(e,t,n):Lk(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function cM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?YU:Kte(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*h/l+f)),g=Math.min(r,Math.floor(e+(l-c)*h/l+f));XU(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(Ym(t,n,e),i(t[r],s)>0&&Ym(t,n,r);a<o;){for(Ym(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Ym(t,n,o):(++o,Ym(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ym(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qte(t,e,n){if(t=Float64Array.from(zte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uM(t);if(e>=1)return cM(t);var r,i=(r-1)*e,s=Math.floor(i),a=cM(XU(t,s).subarray(0,s+1)),o=uM(t.subarray(s+1));return a+(o-a)*(i-s)}}function Jte(t,e,n=qU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Zte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Cs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Cl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Bk=Symbol("implicit");function a2(){var t=new oM,e=[],n=[],r=Bk;function i(s){let a=t.get(s);if(a===void 0){if(r!==Bk)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new oM;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a2(e,n).unknown(r)},Cs.apply(i,arguments),i}function o2(){var t=a2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<r,g=p?i:r,v=p?r:i;s=(v-g)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),g+=(v-g-s*(f-l))*d,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=Zte(f).map(function(y){return g+s*y});return n(p?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return o2(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Cs.apply(h(),arguments)}function QU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QU(e())},t}function ene(){return QU(o2.apply(null,arguments).paddingInner(1))}function l2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function G0(){}var _v=.7,h1=1/_v,gf="\\s*([+-]?\\d+)\\s*",Cv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tne=/^#([0-9a-f]{3,8})$/,nne=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),rne=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),ine=new RegExp(`^rgba\\(${gf},${gf},${gf},${Cv}\\)$`),sne=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${Cv}\\)$`),ane=new RegExp(`^hsl\\(${Cv},${Wa},${Wa}\\)$`),one=new RegExp(`^hsla\\(${Cv},${Wa},${Wa},${Cv}\\)$`),dM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l2(G0,kv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hM,formatHex:hM,formatHex8:lne,formatHsl:cne,formatRgb:fM,toString:fM});function hM(){return this.rgb().formatHex()}function lne(){return this.rgb().formatHex8()}function cne(){return ZU(this).formatHsl()}function fM(){return this.rgb().formatRgb()}function kv(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?pM(e):n===3?new ni(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nne.exec(t))?new ni(e[1],e[2],e[3],1):(e=rne.exec(t))?new ni(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ine.exec(t))?qb(e[1],e[2],e[3],e[4]):(e=sne.exec(t))?qb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ane.exec(t))?vM(e[1],e[2]/100,e[3]/100,1):(e=one.exec(t))?vM(e[1],e[2]/100,e[3]/100,e[4]):dM.hasOwnProperty(t)?pM(dM[t]):t==="transparent"?new ni(NaN,NaN,NaN,0):null}function pM(t){return new ni(t>>16&255,t>>8&255,t&255,1)}function qb(t,e,n,r){return r<=0&&(t=e=n=NaN),new ni(t,e,n,r)}function une(t){return t instanceof G0||(t=kv(t)),t?(t=t.rgb(),new ni(t.r,t.g,t.b,t.opacity)):new ni}function $k(t,e,n,r){return arguments.length===1?une(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}l2(ni,$k,JU(G0,{brighter(t){return t=t==null?h1:Math.pow(h1,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_v:Math.pow(_v,t),new ni(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ni(eh(this.r),eh(this.g),eh(this.b),f1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mM,formatHex:mM,formatHex8:dne,formatRgb:gM,toString:gM}));function mM(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}`}function dne(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}${Ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function gM(){const t=f1(this.opacity);return`${t===1?"rgb(":"rgba("}${eh(this.r)}, ${eh(this.g)}, ${eh(this.b)}${t===1?")":`, ${t})`}`}function f1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function eh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ou(t){return t=eh(t),(t<16?"0":"")+t.toString(16)}function vM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xs(t,e,n,r)}function ZU(t){if(t instanceof Xs)return new Xs(t.h,t.s,t.l,t.opacity);if(t instanceof G0||(t=kv(t)),!t)return new Xs;if(t instanceof Xs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Xs(a,o,l,t.opacity)}function hne(t,e,n,r){return arguments.length===1?ZU(t):new Xs(t,e,n,r??1)}function Xs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}l2(Xs,hne,JU(G0,{brighter(t){return t=t==null?h1:Math.pow(h1,t),new Xs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_v:Math.pow(_v,t),new Xs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ni(kE(t>=240?t-240:t+120,i,r),kE(t,i,r),kE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xs(yM(this.h),Yb(this.s),Yb(this.l),f1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=f1(this.opacity);return`${t===1?"hsl(":"hsla("}${yM(this.h)}, ${Yb(this.s)*100}%, ${Yb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yM(t){return t=(t||0)%360,t<0?t+360:t}function Yb(t){return Math.max(0,Math.min(1,t||0))}function kE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const c2=t=>()=>t;function fne(t,e){return function(n){return t+n*e}}function pne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mne(t){return(t=+t)==1?ez:function(e,n){return n-e?pne(e,n,t):c2(isNaN(e)?n:e)}}function ez(t,e){var n=e-t;return n?fne(t,n):c2(isNaN(t)?e:t)}const bM=function t(e){var n=mne(e);function r(i,s){var a=n((i=$k(i)).r,(s=$k(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=ez(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function gne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function vne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=wm(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function bne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function p1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=wm(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Uk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PE=new RegExp(Uk.source,"g");function xne(t){return function(){return t}}function Sne(t){return function(e){return t(e)+""}}function Ane(t,e){var n=Uk.lastIndex=PE.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Uk.exec(t))&&(i=PE.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:p1(r,i)})),n=PE.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Sne(l[0].x):xne(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function wm(t,e){var n=typeof e,r;return e==null||n==="boolean"?c2(e):(n==="number"?p1:n==="string"?(r=kv(e))?(e=r,bM):Ane:e instanceof kv?bM:e instanceof Date?bne:vne(e)?gne:Array.isArray(e)?yne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wne:p1)(t,e)}function u2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ene(t,e){e===void 0&&(e=t,t=wm);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function _ne(t){return function(){return t}}function m1(t){return+t}var wM=[0,1];function Or(t){return t}function zk(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_ne(isNaN(e)?NaN:.5)}function Cne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kne(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=zk(i,r),s=n(a,s)):(r=zk(r,i),s=n(s,a)),function(o){return s(r(o))}}function Pne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=zk(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=V0(t,o,1,r)-1;return s[l](i[l](o))}}function K0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function YS(){var t=wM,e=wM,n=wm,r,i,s,a=Or,o,l,c;function d(){var f=Math.min(t.length,e.length);return a!==Or&&(a=Cne(t[0],t[f-1])),o=f>2?Pne:kne,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((c||(c=o(e,t.map(r),p1)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,m1),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=u2,d()},h.clamp=function(f){return arguments.length?(a=f?!0:Or,d()):a!==Or},h.interpolate=function(f){return arguments.length?(n=f,d()):n},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return r=f,i=p,d()}}function d2(){return YS()(Or,Or)}function Tne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function g1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sm(t){return t=g1(Math.abs(t)),t?t[1]:NaN}function Nne(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function One(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ine=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pv(t){if(!(e=Ine.exec(t)))throw new Error("invalid format: "+t);var e;return new h2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pv.prototype=h2.prototype;function h2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dne(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tz;function Mne(t,e){var n=g1(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(tz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+g1(t,Math.max(0,e+s-1))[0]}function xM(t,e){var n=g1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const SM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Tne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xM(t*100,e),r:xM,s:Mne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AM(t){return t}var EM=Array.prototype.map,_M=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rne(t){var e=t.grouping===void 0||t.thousands===void 0?AM:Nne(EM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?AM:One(EM.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Pv(h);var f=h.fill,p=h.align,g=h.sign,v=h.symbol,b=h.zero,y=h.width,x=h.comma,w=h.precision,_=h.trim,E=h.type;E==="n"?(x=!0,E="g"):SM[E]||(w===void 0&&(w=12),_=!0,E="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var k=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",O=v==="$"?r:/[%p]/.test(E)?a:"",T=SM[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(D){var M=k,F=O,K,Q,Y;if(E==="c")F=T(D)+F,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?l:T(Math.abs(D),w),_&&(D=Dne(D)),U&&+D==0&&g!=="+"&&(U=!1),M=(U?g==="("?g:o:g==="-"||g==="("?"":g)+M,F=(E==="s"?_M[8+tz/3]:"")+F+(U&&g==="("?")":""),N){for(K=-1,Q=D.length;++K<Q;)if(Y=D.charCodeAt(K),48>Y||Y>57){F=(Y===46?i+D.slice(K+1):D.slice(K))+F,D=D.slice(0,K);break}}}x&&!b&&(D=e(D,1/0));var z=M.length+D.length+F.length,W=z<y?new Array(y-z+1).join(f):"";switch(x&&b&&(D=e(W+D,W.length?y-F.length:1/0),W=""),p){case"<":D=M+D+F+W;break;case"=":D=M+W+D+F;break;case"^":D=W.slice(0,z=W.length>>1)+M+D+F+W.slice(z);break;default:D=W+M+D+F;break}return s(D)}return I.toString=function(){return h+""},I}function d(h,f){var p=c((h=Pv(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(sm(f)/3)))*3,v=Math.pow(10,-g),b=_M[8+g/3];return function(y){return p(v*y)+b}}return{format:c,formatPrefix:d}}var Xb,f2,nz;jne({thousands:",",grouping:[3],currency:["$",""]});function jne(t){return Xb=Rne(t),f2=Xb.format,nz=Xb.formatPrefix,Xb}function Lne(t){return Math.max(0,-sm(Math.abs(t)))}function Fne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sm(e)/3)))*3-sm(Math.abs(t)))}function Bne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sm(e)-sm(t))+1}function rz(t,e,n,r){var i=Fk(t,e,n),s;switch(r=Pv(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Fne(i,a))&&(r.precision=s),nz(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Bne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Lne(i))&&(r.precision=s-(r.type==="%")*2);break}}return f2(r)}function uu(t){var e=t.domain;return t.ticks=function(n){var r=e();return jk(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return rz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=Lk(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function iz(){var t=d2();return t.copy=function(){return K0(t,iz())},Cs.apply(t,arguments),uu(t)}function sz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,m1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sz(t).unknown(e)},t=arguments.length?Array.from(t,m1):[0,1],uu(n)}function az(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function CM(t){return Math.log(t)}function kM(t){return Math.exp(t)}function $ne(t){return-Math.log(-t)}function Une(t){return-Math.exp(-t)}function zne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Hne(t){return t===10?zne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Wne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function PM(t){return(e,n)=>-t(-e,n)}function p2(t){const e=t(CM,kM),n=e.domain;let r=10,i,s;function a(){return i=Wne(r),s=Hne(r),n()[0]<0?(i=PM(i),s=PM(s),t($ne,Une)):t(CM,kM),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let f=i(c),p=i(d),g,v;const b=o==null?10:+o;let y=[];if(!(r%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<r;++g)if(v=f<0?g/s(-f):g*s(f),!(v<c)){if(v>d)break;y.push(v)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(v=f>0?g/s(-f):g*s(f),!(v<c)){if(v>d)break;y.push(v)}y.length*2<b&&(y=jk(c,d,b))}else y=jk(f,p,Math.min(p-f,b)).map(s);return h?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pv(l)).precision==null&&(l.trim=!0),l=f2(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=c?l(d):""}},e.nice=()=>n(az(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function oz(){const t=p2(YS()).domain([1,10]);return t.copy=()=>K0(t,oz()).base(t.base()),Cs.apply(t,arguments),t}function TM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function m2(t){var e=1,n=t(TM(e),NM(e));return n.constant=function(r){return arguments.length?t(TM(e=+r),NM(e)):e},uu(n)}function lz(){var t=m2(YS());return t.copy=function(){return K0(t,lz()).constant(t.constant())},Cs.apply(t,arguments)}function OM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Gne(t){return t<0?-t*t:t*t}function g2(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Vne,Gne):t(OM(n),OM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},uu(e)}function v2(){var t=g2(YS());return t.copy=function(){return K0(t,v2()).exponent(t.exponent())},Cs.apply(t,arguments),t}function Kne(){return v2.apply(null,arguments).exponent(.5)}function IM(t){return Math.sign(t)*t*t}function qne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cz(){var t=d2(),e=[0,1],n=!1,r;function i(s){var a=qne(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(IM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,m1)).map(IM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cs.apply(i,arguments),uu(i)}function uz(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Jte(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[V0(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Yc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return uz().domain(t).range(e).unknown(r)},Cs.apply(s,arguments)}function dz(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[V0(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return dz().domain([t,e]).range(i).unknown(s)},Cs.apply(uu(a),arguments)}function hz(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[V0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return hz().domain(t).range(e).unknown(n)},Cs.apply(i,arguments)}const TE=new Date,NE=new Date;function kn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>kn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(TE.setTime(+s),NE.setTime(+a),t(TE),t(NE),Math.floor(n(TE,NE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const v1=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);v1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):v1);v1.range;const Xo=1e3,ys=Xo*60,Qo=ys*60,yl=Qo*24,y2=yl*7,DM=yl*30,OE=yl*365,Iu=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCSeconds());Iu.range;const b2=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xo)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getMinutes());b2.range;const w2=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCMinutes());w2.range;const x2=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Xo-t.getMinutes()*ys)},(t,e)=>{t.setTime(+t+e*Qo)},(t,e)=>(e-t)/Qo,t=>t.getHours());x2.range;const S2=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Qo)},(t,e)=>(e-t)/Qo,t=>t.getUTCHours());S2.range;const q0=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ys)/yl,t=>t.getDate()-1);q0.range;const XS=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yl,t=>t.getUTCDate()-1);XS.range;const fz=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/yl,t=>Math.floor(t/yl));fz.range;function Ah(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ys)/y2)}const QS=Ah(0),y1=Ah(1),Yne=Ah(2),Xne=Ah(3),am=Ah(4),Qne=Ah(5),Jne=Ah(6);QS.range;y1.range;Yne.range;Xne.range;am.range;Qne.range;Jne.range;function Eh(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/y2)}const JS=Eh(0),b1=Eh(1),Zne=Eh(2),ere=Eh(3),om=Eh(4),tre=Eh(5),nre=Eh(6);JS.range;b1.range;Zne.range;ere.range;om.range;tre.range;nre.range;const A2=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());A2.range;const E2=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());E2.range;const bl=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bl.range;const wl=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());wl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});wl.range;function pz(t,e,n,r,i,s){const a=[[Iu,1,Xo],[Iu,5,5*Xo],[Iu,15,15*Xo],[Iu,30,30*Xo],[s,1,ys],[s,5,5*ys],[s,15,15*ys],[s,30,30*ys],[i,1,Qo],[i,3,3*Qo],[i,6,6*Qo],[i,12,12*Qo],[r,1,yl],[r,2,2*yl],[n,1,y2],[e,1,DM],[e,3,3*DM],[t,1,OE]];function o(c,d,h){const f=d<c;f&&([c,d]=[d,c]);const p=h&&typeof h.range=="function"?h:l(c,d,h),g=p?p.range(c,+d+1):[];return f?g.reverse():g}function l(c,d,h){const f=Math.abs(d-c)/h,p=s2(([,,b])=>b).right(a,f);if(p===a.length)return t.every(Fk(c/OE,d/OE,h));if(p===0)return v1.every(Math.max(Fk(c,d,h),1));const[g,v]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(v)}return[o,l]}const[rre,ire]=pz(wl,E2,JS,fz,S2,w2),[sre,are]=pz(bl,A2,QS,q0,x2,b2);function IE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function DE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ore(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Qm(i),d=Jm(i),h=Qm(s),f=Jm(s),p=Qm(a),g=Jm(a),v=Qm(o),b=Jm(o),y=Qm(l),x=Jm(l),w={a:U,A:z,b:W,B:ne,c:null,d:BM,e:BM,f:Nre,g:$re,G:zre,H:kre,I:Pre,j:Tre,L:mz,m:Ore,M:Ire,p:re,q:X,Q:zM,s:HM,S:Dre,u:Mre,U:Rre,V:jre,w:Lre,W:Fre,x:null,X:null,y:Bre,Y:Ure,Z:Hre,"%":UM},_={a:J,A:ue,b:Z,B:le,c:null,d:$M,e:$M,f:Kre,g:rie,G:sie,H:Wre,I:Vre,j:Gre,L:vz,m:qre,M:Yre,p:ge,q:L,Q:zM,s:HM,S:Xre,u:Qre,U:Jre,V:Zre,w:eie,W:tie,x:null,X:null,y:nie,Y:iie,Z:aie,"%":UM},E={a:I,A:D,b:M,B:F,c:K,d:LM,e:LM,f:Are,g:jM,G:RM,H:FM,I:FM,j:bre,L:Sre,m:yre,M:wre,p:N,q:vre,Q:_re,s:Cre,S:xre,u:hre,U:fre,V:pre,w:dre,W:mre,x:Q,X:Y,y:jM,Y:RM,Z:gre,"%":Ere};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),_.x=k(n,_),_.X=k(r,_),_.c=k(e,_);function k(R,$){return function(G){var B=[],ae=-1,se=0,fe=R.length,ve,We,xe;for(G instanceof Date||(G=new Date(+G));++ae<fe;)R.charCodeAt(ae)===37&&(B.push(R.slice(se,ae)),(We=MM[ve=R.charAt(++ae)])!=null?ve=R.charAt(++ae):We=ve==="e"?" ":"0",(xe=$[ve])&&(ve=xe(G,We)),B.push(ve),se=ae+1);return B.push(R.slice(se,ae)),B.join("")}}function O(R,$){return function(G){var B=Xm(1900,void 0,1),ae=T(B,R,G+="",0),se,fe;if(ae!=G.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if($&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(se=DE(Xm(B.y,0,1)),fe=se.getUTCDay(),se=fe>4||fe===0?b1.ceil(se):b1(se),se=XS.offset(se,(B.V-1)*7),B.y=se.getUTCFullYear(),B.m=se.getUTCMonth(),B.d=se.getUTCDate()+(B.w+6)%7):(se=IE(Xm(B.y,0,1)),fe=se.getDay(),se=fe>4||fe===0?y1.ceil(se):y1(se),se=q0.offset(se,(B.V-1)*7),B.y=se.getFullYear(),B.m=se.getMonth(),B.d=se.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),fe="Z"in B?DE(Xm(B.y,0,1)).getUTCDay():IE(Xm(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(fe+5)%7:B.w+B.U*7-(fe+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,DE(B)):IE(B)}}function T(R,$,G,B){for(var ae=0,se=$.length,fe=G.length,ve,We;ae<se;){if(B>=fe)return-1;if(ve=$.charCodeAt(ae++),ve===37){if(ve=$.charAt(ae++),We=E[ve in MM?$.charAt(ae++):ve],!We||(B=We(R,G,B))<0)return-1}else if(ve!=G.charCodeAt(B++))return-1}return B}function N(R,$,G){var B=c.exec($.slice(G));return B?(R.p=d.get(B[0].toLowerCase()),G+B[0].length):-1}function I(R,$,G){var B=p.exec($.slice(G));return B?(R.w=g.get(B[0].toLowerCase()),G+B[0].length):-1}function D(R,$,G){var B=h.exec($.slice(G));return B?(R.w=f.get(B[0].toLowerCase()),G+B[0].length):-1}function M(R,$,G){var B=y.exec($.slice(G));return B?(R.m=x.get(B[0].toLowerCase()),G+B[0].length):-1}function F(R,$,G){var B=v.exec($.slice(G));return B?(R.m=b.get(B[0].toLowerCase()),G+B[0].length):-1}function K(R,$,G){return T(R,e,$,G)}function Q(R,$,G){return T(R,n,$,G)}function Y(R,$,G){return T(R,r,$,G)}function U(R){return a[R.getDay()]}function z(R){return s[R.getDay()]}function W(R){return l[R.getMonth()]}function ne(R){return o[R.getMonth()]}function re(R){return i[+(R.getHours()>=12)]}function X(R){return 1+~~(R.getMonth()/3)}function J(R){return a[R.getUTCDay()]}function ue(R){return s[R.getUTCDay()]}function Z(R){return l[R.getUTCMonth()]}function le(R){return o[R.getUTCMonth()]}function ge(R){return i[+(R.getUTCHours()>=12)]}function L(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var $=k(R+="",w);return $.toString=function(){return R},$},parse:function(R){var $=O(R+="",!1);return $.toString=function(){return R},$},utcFormat:function(R){var $=k(R+="",_);return $.toString=function(){return R},$},utcParse:function(R){var $=O(R+="",!0);return $.toString=function(){return R},$}}}var MM={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,lre=/^%/,cre=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function ure(t){return t.replace(cre,"\\$&")}function Qm(t){return new RegExp("^(?:"+t.map(ure).join("|")+")","i")}function Jm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function dre(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hre(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function fre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function RM(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jM(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vre(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function yre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function LM(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bre(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function FM(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xre(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Sre(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Are(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ere(t,e,n){var r=lre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _re(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Cre(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function BM(t,e){return Xe(t.getDate(),e,2)}function kre(t,e){return Xe(t.getHours(),e,2)}function Pre(t,e){return Xe(t.getHours()%12||12,e,2)}function Tre(t,e){return Xe(1+q0.count(bl(t),t),e,3)}function mz(t,e){return Xe(t.getMilliseconds(),e,3)}function Nre(t,e){return mz(t,e)+"000"}function Ore(t,e){return Xe(t.getMonth()+1,e,2)}function Ire(t,e){return Xe(t.getMinutes(),e,2)}function Dre(t,e){return Xe(t.getSeconds(),e,2)}function Mre(t){var e=t.getDay();return e===0?7:e}function Rre(t,e){return Xe(QS.count(bl(t)-1,t),e,2)}function gz(t){var e=t.getDay();return e>=4||e===0?am(t):am.ceil(t)}function jre(t,e){return t=gz(t),Xe(am.count(bl(t),t)+(bl(t).getDay()===4),e,2)}function Lre(t){return t.getDay()}function Fre(t,e){return Xe(y1.count(bl(t)-1,t),e,2)}function Bre(t,e){return Xe(t.getFullYear()%100,e,2)}function $re(t,e){return t=gz(t),Xe(t.getFullYear()%100,e,2)}function Ure(t,e){return Xe(t.getFullYear()%1e4,e,4)}function zre(t,e){var n=t.getDay();return t=n>=4||n===0?am(t):am.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function Hre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function $M(t,e){return Xe(t.getUTCDate(),e,2)}function Wre(t,e){return Xe(t.getUTCHours(),e,2)}function Vre(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function Gre(t,e){return Xe(1+XS.count(wl(t),t),e,3)}function vz(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function Kre(t,e){return vz(t,e)+"000"}function qre(t,e){return Xe(t.getUTCMonth()+1,e,2)}function Yre(t,e){return Xe(t.getUTCMinutes(),e,2)}function Xre(t,e){return Xe(t.getUTCSeconds(),e,2)}function Qre(t){var e=t.getUTCDay();return e===0?7:e}function Jre(t,e){return Xe(JS.count(wl(t)-1,t),e,2)}function yz(t){var e=t.getUTCDay();return e>=4||e===0?om(t):om.ceil(t)}function Zre(t,e){return t=yz(t),Xe(om.count(wl(t),t)+(wl(t).getUTCDay()===4),e,2)}function eie(t){return t.getUTCDay()}function tie(t,e){return Xe(b1.count(wl(t)-1,t),e,2)}function nie(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function rie(t,e){return t=yz(t),Xe(t.getUTCFullYear()%100,e,2)}function iie(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function sie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?om(t):om.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function aie(){return"+0000"}function UM(){return"%"}function zM(t){return+t}function HM(t){return Math.floor(+t/1e3)}var Ph,bz,wz;oie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oie(t){return Ph=ore(t),bz=Ph.format,Ph.parse,wz=Ph.utcFormat,Ph.utcParse,Ph}function lie(t){return new Date(t)}function cie(t){return t instanceof Date?+t:+new Date(+t)}function _2(t,e,n,r,i,s,a,o,l,c){var d=d2(),h=d.invert,f=d.domain,p=c(".%L"),g=c(":%S"),v=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),_=c("%Y");function E(k){return(l(k)<k?p:o(k)<k?g:a(k)<k?v:s(k)<k?b:r(k)<k?i(k)<k?y:x:n(k)<k?w:_)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,cie)):f().map(lie)},d.ticks=function(k){var O=f();return t(O[0],O[O.length-1],k??10)},d.tickFormat=function(k,O){return O==null?E:c(O)},d.nice=function(k){var O=f();return(!k||typeof k.range!="function")&&(k=e(O[0],O[O.length-1],k??10)),k?f(az(O,k)):d},d.copy=function(){return K0(d,_2(t,e,n,r,i,s,a,o,l,c))},d}function uie(){return Cs.apply(_2(sre,are,bl,A2,QS,q0,x2,b2,Iu,bz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function die(){return Cs.apply(_2(rre,ire,wl,E2,JS,XS,S2,w2,Iu,wz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ZS(){var t=0,e=1,n,r,i,s,a=Or,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function d(h){return function(f){var p,g;return arguments.length?([p,g]=f,a=h(p,g),c):[a(0),a(1)]}}return c.range=d(wm),c.rangeRound=d(u2),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function du(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xz(){var t=uu(ZS()(Or));return t.copy=function(){return du(t,xz())},Cl.apply(t,arguments)}function Sz(){var t=p2(ZS()).domain([1,10]);return t.copy=function(){return du(t,Sz()).base(t.base())},Cl.apply(t,arguments)}function Az(){var t=m2(ZS());return t.copy=function(){return du(t,Az()).constant(t.constant())},Cl.apply(t,arguments)}function C2(){var t=g2(ZS());return t.copy=function(){return du(t,C2()).exponent(t.exponent())},Cl.apply(t,arguments)}function hie(){return C2.apply(null,arguments).exponent(.5)}function Ez(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((V0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Yc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Qte(t,s/r))},n.copy=function(){return Ez(e).domain(t)},Cl.apply(n,arguments)}function eA(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Or,d,h=!1,f;function p(v){return isNaN(v=+v)?f:(v=.5+((v=+d(v))-s)*(r*v<r*s?o:l),c(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(c=v,p):c};function g(v){return function(b){var y,x,w;return arguments.length?([y,x,w]=b,c=Ene(v,[y,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(wm),p.rangeRound=g(u2),p.unknown=function(v){return arguments.length?(f=v,p):f},function(v){return d=v,i=v(t),s=v(e),a=v(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function _z(){var t=uu(eA()(Or));return t.copy=function(){return du(t,_z())},Cl.apply(t,arguments)}function Cz(){var t=p2(eA()).domain([.1,1,10]);return t.copy=function(){return du(t,Cz()).base(t.base())},Cl.apply(t,arguments)}function kz(){var t=m2(eA());return t.copy=function(){return du(t,kz()).constant(t.constant())},Cl.apply(t,arguments)}function k2(){var t=g2(eA());return t.copy=function(){return du(t,k2()).exponent(t.exponent())},Cl.apply(t,arguments)}function fie(){return k2.apply(null,arguments).exponent(.5)}const Pg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o2,scaleDiverging:_z,scaleDivergingLog:Cz,scaleDivergingPow:k2,scaleDivergingSqrt:fie,scaleDivergingSymlog:kz,scaleIdentity:sz,scaleImplicit:Bk,scaleLinear:iz,scaleLog:oz,scaleOrdinal:a2,scalePoint:ene,scalePow:v2,scaleQuantile:uz,scaleQuantize:dz,scaleRadial:cz,scaleSequential:xz,scaleSequentialLog:Sz,scaleSequentialPow:C2,scaleSequentialQuantile:Ez,scaleSequentialSqrt:hie,scaleSequentialSymlog:Az,scaleSqrt:Kne,scaleSymlog:lz,scaleThreshold:hz,scaleTime:uie,scaleUtc:die,tickFormat:rz},Symbol.toStringTag,{value:"Module"}));var hu=t=>t.chartData,P2=H([hu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),T2=(t,e,n,r)=>r?P2(t):hu(t);function hh(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ai(e)&&ai(n))return!0}return!1}function WM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Pz(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ai(n))i=n;else if(typeof n=="function")return;if(ai(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(hh(a))return a}}function pie(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hh(r))return WM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(_e(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&LD.test(i)){var l=LD.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(_e(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&FD.test(s)){var d=FD.exec(s);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[1]+h}}else o=e==null?void 0:e[1];var f=[a,o];if(hh(f))return e==null?f:WM(f,e,n)}}}var xm=1e9,mie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O2,Lt=!0,_s="[DecimalError] ",th=_s+"Invalid argument: ",N2=_s+"Exponent out of range: ",Sm=Math.floor,Au=Math.pow,gie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ri,Fn=1e7,Pt=7,Tz=9007199254740991,w1=Sm(Tz/Pt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(t){return rl(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,n=e.constructor;return gt(rl(e,new n(t),0,1),n.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return pn(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ri))throw Error(_s+"NaN");if(n.s<1)throw Error(_s+(n.s?"NaN":"-Infinity"));return n.eq(Ri)?new r(0):(Lt=!1,e=rl(Tv(n,s),Tv(t,s),s),Lt=!0,gt(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Iz(e,t):Nz(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_s+"NaN");return n.s?(Lt=!1,e=rl(n,t,0,1).times(t),Lt=!0,n.minus(e)):gt(new r(n),i)};me.naturalExponential=me.exp=function(){return Oz(this)};me.naturalLogarithm=me.ln=function(){return Tv(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Nz(e,t):Iz(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(th+t);if(e=pn(i)+1,r=i.d.length-1,n=r*Pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(_s+"NaN")}for(t=pn(o),Lt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=$a(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(rl(o,s,a+2)).times(.5),$a(s.d).slice(0,a)===(e=$a(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(gt(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Lt=!0,gt(r,n)};me.times=me.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,c=p.length,l<c&&(s=f,f=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*f[i-r-1]+e,s[i--]=o%Fn|0,e=o/Fn|0;s[i]=(s[i]+e)%Fn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Lt?gt(t,h.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(qa(t,0,xm),e===void 0?e=r.rounding:qa(e,0,8),gt(n,t+pn(n)+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fh(r,!0):(qa(t,0,xm),e===void 0?e=i.rounding:qa(e,0,8),r=gt(new i(r),t+1,e),n=fh(r,!0,t+1)),n};me.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?fh(i):(qa(t,0,xm),e===void 0?e=s.rounding:qa(e,0,8),r=gt(new s(i),t+pn(i)+1,e),n=fh(r.abs(),!1,t+pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return gt(new e(t),pn(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ri);if(o=new l(o),!o.s){if(t.s<1)throw Error(_s+"Infinity");return o}if(o.eq(Ri))return o;if(r=l.precision,t.eq(Ri))return gt(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=Tz){for(i=new l(Ri),e=Math.ceil(r/Pt+4),Lt=!1;n%2&&(i=i.times(o),GM(i.d,e)),n=Sm(n/2),n!==0;)o=o.times(o),GM(o.d,e);return Lt=!0,t.s<0?new l(Ri).div(i):gt(i,r)}}else if(s<0)throw Error(_s+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Lt=!1,i=t.times(Tv(o,r+c)),Lt=!0,i=Oz(i),i.s=s,i};me.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=pn(i),r=fh(i,n<=s.toExpNeg||n>=s.toExpPos)):(qa(t,1,xm),e===void 0?e=s.rounding:qa(e,0,8),i=gt(new s(i),t,e),n=pn(i),r=fh(i,t<=n||n<=s.toExpNeg,t)),r};me.toSignificantDigits=me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(qa(t,1,xm),e===void 0?e=r.rounding:qa(e,0,8)),gt(new r(n),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),n=t.constructor;return fh(t,e<=n.toExpNeg||e>=n.toExpPos)};function Nz(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Lt?gt(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(h/Pt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Fn|0,l[s]%=Fn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Lt?gt(e,h):e}function qa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(th+t)}function $a(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Pt-r.length,n&&(s+=Ll(n)),s+=r;a=t[e],r=a+"",n=Pt-r.length,n&&(s+=Ll(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var rl=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Fn|0,a=s/Fn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Fn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,h,f,p,g,v,b,y,x,w,_,E,k,O,T,N=r.constructor,I=r.s==i.s?1:-1,D=r.d,M=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(_s+"Division by zero");for(l=r.e-i.e,O=M.length,E=D.length,p=new N(I),g=p.d=[],c=0;M[c]==(D[c]||0);)++c;if(M[c]>(D[c]||0)&&--l,s==null?x=s=N.precision:a?x=s+(pn(r)-pn(i))+1:x=s,x<0)return new N(0);if(x=x/Pt+2|0,c=0,O==1)for(d=0,M=M[0],x++;(c<E||d)&&x--;c++)w=d*Fn+(D[c]||0),g[c]=w/M|0,d=w%M|0;else{for(d=Fn/(M[0]+1)|0,d>1&&(M=t(M,d),D=t(D,d),O=M.length,E=D.length),_=O,v=D.slice(0,O),b=v.length;b<O;)v[b++]=0;T=M.slice(),T.unshift(0),k=M[0],M[1]>=Fn/2&&++k;do d=0,o=e(M,v,O,b),o<0?(y=v[0],O!=b&&(y=y*Fn+(v[1]||0)),d=y/k|0,d>1?(d>=Fn&&(d=Fn-1),h=t(M,d),f=h.length,b=v.length,o=e(h,v,f,b),o==1&&(d--,n(h,O<f?T:M,f))):(d==0&&(o=d=1),h=M.slice()),f=h.length,f<b&&h.unshift(0),n(v,h,b),o==-1&&(b=v.length,o=e(M,v,O,b),o<1&&(d++,n(v,O<b?T:M,b))),b=v.length):o===0&&(d++,v=[0]),g[c++]=d,o&&v[0]?v[b++]=D[_]||0:(v=[D[_]],b=1);while((_++<E||v[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,gt(p,a?s+pn(p)+1:s)}}();function Oz(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,h=d.precision;if(pn(t)>16)throw Error(N2+pn(t));if(!t.s)return new d(Ri);for(Lt=!1,o=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Au(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Ri),d.precision=o;;){if(i=gt(i.times(t),o),n=n.times(++l),a=s.plus(rl(i,n,o)),$a(a.d).slice(0,o)===$a(s.d).slice(0,o)){for(;c--;)s=gt(s.times(s),o);return d.precision=h,e==null?(Lt=!0,gt(s,h)):s}s=a}}function pn(t){for(var e=t.e*Pt,n=t.d[0];n>=10;n/=10)e++;return e}function ME(t,e,n){if(e>t.LN10.sd())throw Lt=!0,n&&(t.precision=n),Error(_s+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function Ll(t){for(var e="";t--;)e+="0";return e}function Tv(t,e){var n,r,i,s,a,o,l,c,d,h=1,f=10,p=t,g=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(_s+(p.s?"NaN":"-Infinity"));if(p.eq(Ri))return new v(0);if(e==null?(Lt=!1,c=b):c=e,p.eq(10))return e==null&&(Lt=!0),ME(v,c);if(c+=f,v.precision=c,n=$a(g),r=n.charAt(0),s=pn(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=$a(p.d),r=n.charAt(0),h++;s=pn(p),r>1?(p=new v("0."+n),s++):p=new v(r+"."+n.slice(1))}else return l=ME(v,c+2,b).times(s+""),p=Tv(new v(r+"."+n.slice(1)),c-f).plus(l),v.precision=b,e==null?(Lt=!0,gt(p,b)):p;for(o=a=p=rl(p.minus(Ri),p.plus(Ri),c),d=gt(p.times(p),c),i=3;;){if(a=gt(a.times(d),c),l=o.plus(rl(a,new v(i),c)),$a(l.d).slice(0,c)===$a(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(ME(v,c+2,b).times(s+""))),o=rl(o,new v(h),c),v.precision=b,e==null?(Lt=!0,gt(o,b)):o;o=l,i+=2}}function VM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sm(n/Pt),t.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pt;r<i;)t.d.push(+e.slice(r,r+=Pt));e=e.slice(r),r=Pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Lt&&(t.e>w1||t.e<-w1))throw Error(N2+n)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,n){var r,i,s,a,o,l,c,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Pt,i=e,c=h[d=0];else{if(d=Math.ceil((r+1)/Pt),s=h.length,d>=s)return t;for(c=s=h[d],a=1;s>=10;s/=10)a++;r%=Pt,i=r-Pt+a}if(n!==void 0&&(s=Au(10,a-i-1),o=c/s%10|0,l=e<0||h[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Au(10,a-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=pn(t),h.length=1,e=e-s-1,h[0]=Au(10,(Pt-e%Pt)%Pt),t.e=Sm(-e/Pt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Au(10,Pt-r),h[d]=i>0?(c/Au(10,a-i)%Au(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Fn&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Fn)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(Lt&&(t.e>w1||t.e<-w1))throw Error(N2+pn(t));return t}function Iz(t,e){var n,r,i,s,a,o,l,c,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Lt?gt(e,p):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(p/Pt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Fn-1;--l[s],l[i]+=Fn}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Lt?gt(e,p):e):new f(0)}function fh(t,e,n){var r,i=pn(t),s=$a(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ll(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ll(-i-1)+s,n&&(r=n-a)>0&&(s+=Ll(r))):i>=a?(s+=Ll(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ll(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ll(r))),t.s<0?"-"+s:s}function GM(t,e){if(t.length>e)return t.length=e,!0}function Dz(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(th+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return VM(a,s.toString())}else if(typeof s!="string")throw Error(th+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,gie.test(s))VM(a,s);else throw Error(th+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Dz,i.config=i.set=vie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vie(t){if(!t||typeof t!="object")throw Error(_s+"Object expected");var e,n,r,i=["precision",1,xm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(th+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(th+n+": "+r);return this}var O2=Dz(mie);Ri=new O2(1);const nt=O2;var yie=t=>t,Mz={},Rz=t=>t===Mz,KM=t=>function e(){return arguments.length===0||arguments.length===1&&Rz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},jz=(t,e)=>t===1?e:KM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==Mz).length;return s>=t?e(...r):jz(t-s,KM(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(d=>Rz(d)?o.shift():d);return e(...c,...o)}))}),tA=t=>jz(t.length,t),Hk=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},bie=tA((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),wie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yie;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},Wk=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Lz=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function Fz(t){var e;return t===0?e=1:e=Math.floor(new nt(t).abs().log(10).toNumber())+1,e}function Bz(t,e,n){for(var r=new nt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}tA((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});tA((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});tA((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var $z=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Uz=(t,e,n)=>{if(t.lte(0))return new nt(0);var r=Fz(t.toNumber()),i=new nt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new nt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new nt(l.toNumber()):new nt(Math.ceil(l.toNumber()))},xie=(t,e,n)=>{var r=new nt(1),i=new nt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new nt(10).pow(Fz(t)-1),i=new nt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nt(Math.floor(t)))}else t===0?i=new nt(Math.floor((e-1)/2)):n||(i=new nt(Math.floor(t)));var a=Math.floor((e-1)/2),o=wie(bie(l=>i.add(new nt(l-a).mul(r)).toNumber()),Hk);return o(0,e)},zz=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var a=Uz(new nt(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new nt(0):(o=new nt(e).add(n).div(2),o=o.sub(new nt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new nt(n).sub(o).div(a).toNumber()),d=l+c+1;return d>r?zz(e,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:a,tickMin:o.sub(new nt(l).mul(a)),tickMax:o.add(new nt(c).mul(a))})};function Sie(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=$z([e,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...Hk(0,r-1).map(()=>1/0)]:[...Hk(0,r-1).map(()=>-1/0),o];return e>n?Wk(l):l}if(a===o)return xie(a,r,i);var{step:c,tickMin:d,tickMax:h}=zz(a,o,s,i,0),f=Bz(d,h.add(new nt(.1).mul(c)),c);return e>n?Wk(f):f}function Aie(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=$z([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(e,2),l=Uz(new nt(a).sub(s).div(o-1),i,0),c=[...Bz(new nt(s),new nt(a),l),a];return i===!1&&(c=c.map(d=>Math.round(d))),n>r?Wk(c):c}var Eie=Lz(Sie),_ie=Lz(Aie),Cie=t=>t.rootProps.barCategoryGap,Y0=t=>t.rootProps.stackOffset,I2=t=>t.options.chartName,D2=t=>t.rootProps.syncId,Hz=t=>t.rootProps.syncMethod,M2=t=>t.options.eventEmitter,Ho={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},nA=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},kie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ho.angleAxisId,includeHidden:!1,name:void 0,reversed:Ho.reversed,scale:Ho.scale,tick:Ho.tick,tickCount:void 0,ticks:void 0,type:Ho.type,unit:void 0},Pie={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:Ii.type,unit:void 0},Tie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ho.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ho.scale,tick:Ho.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Nie={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:"category",unit:void 0},R2=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Tie:kie,j2=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Nie:Pie,rA=t=>t.polarOptions,L2=H([El,_l,Hn],mU),Wz=H([rA,L2],(t,e)=>{if(t!=null)return Fi(t.innerRadius,e,0)}),Vz=H([rA,L2],(t,e)=>{if(t!=null)return Fi(t.outerRadius,e,e*.8)}),Oie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Gz=H([rA],Oie);H([R2,Gz],nA);var Kz=H([L2,Wz,Vz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});H([j2,Kz],nA);var qz=H([ut,rA,Wz,Vz,El,_l],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:Fi(a,i,i/2),cy:Fi(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Bt=(t,e)=>e,X0=(t,e,n)=>n;function Yz(t){return t==null?void 0:t.id}var Pn=t=>{var e=ut(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Am=t=>t.tooltip.settings.axisId,Tn=t=>{var e=Pn(t),n=Am(t);return Q0(t,e,n)},Xz=H([Tn],t=>t==null?void 0:t.dataKey);function Qz(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=Yz(o);c.forEach((h,f)=>{var p=s==null||i?f:String(Wt(h,s,null)),g=Wt(h,o.dataKey,0),v;a.has(p)?v=a.get(p):v={},Object.assign(v,{[d]:g}),a.set(p,v)})}}),Array.from(a.values())}function F2(t){return t.stackId!=null&&t.dataKey!=null}var iA=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function sA(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Mie(t,"string");return typeof e=="symbol"?e:e+""}function Mie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vk=[0,"auto"],li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jz=(t,e)=>t.cartesianAxis.xAxis[e],kl=(t,e)=>{var n=Jz(t,e);return n??li},ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:W0},Zz=(t,e)=>t.cartesianAxis.yAxis[e],Pl=(t,e)=>{var n=Zz(t,e);return n??ci},Rie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Rie},qt=(t,e,n)=>{switch(e){case"xAxis":return kl(t,n);case"yAxis":return Pl(t,n);case"zAxis":return B2(t,n);case"angleAxis":return R2(t,n);case"radiusAxis":return j2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jie=(t,e,n)=>{switch(e){case"xAxis":return kl(t,n);case"yAxis":return Pl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Q0=(t,e,n)=>{switch(e){case"xAxis":return kl(t,n);case"yAxis":return Pl(t,n);case"angleAxis":return R2(t,n);case"radiusAxis":return j2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},e6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function $2(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var t6=t=>t.graphicalItems.cartesianItems,Lie=H([Bt,X0],$2),U2=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),J0=H([t6,qt,Lie],U2,{memoizeOptions:{resultEqualityCheck:sA}}),n6=H([J0],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(F2)),r6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Fie=H([J0],r6),z2=t=>t.map(e=>e.data).filter(Boolean).flat(1),Bie=H([J0],z2,{memoizeOptions:{resultEqualityCheck:sA}}),H2=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},W2=H([Bie,T2],H2),V2=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Wt(i,r)}))):t.map(r=>({value:r})),aA=H([W2,qt,J0],V2);function i6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Qw(t){if(Ka(t)||t instanceof Date){var e=Number(t);if(ai(e))return e}}function YM(t){if(Array.isArray(t)){var e=[Qw(t[0]),Qw(t[1])];return hh(e)?e:void 0}var n=Qw(t);if(n!=null)return[n,n]}function Em(t){return t.map(Qw).filter(ote)}function $ie(t,e,n){return!n||typeof e!="number"||sa(e)?[]:n.length?Em(n.flatMap(r=>{var i=Wt(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ai(s)||!ai(a)))return[e-s,e+a]})):[]}var Uie=H([n6,T2,Tn],Qz),s6=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(Yz);return[a,{stackedData:qZ(t,l,n),graphicalItems:o}]}))},zie=H([Uie,n6,Y0],s6),a6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=QZ(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Hie=H([qt],t=>t.allowDataOverflow),G2=t=>{var e;if(t==null||!("domain"in t))return Vk;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Em(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Vk},K2=H([qt],G2),q2=H([K2,Hie],Pz),Wie=H([zie,hu,Bt,q2],a6,{memoizeOptions:{resultEqualityCheck:iA}}),oA=t=>t.errorBars,Vie=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>i6(n,r)),S1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},Y2=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,d,h=(c=r[l.id])===null||c===void 0?void 0:c.filter(y=>i6(i,y)),f=Wt(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),p=$ie(o,f,h);if(p.length>=2){var g=Math.min(...p),v=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||v>a)&&(a=v)}var b=YM(f);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=YM(Wt(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),ai(s)&&ai(a))return[s,a]},Gie=H([W2,qt,Fie,oA,Bt],Y2,{memoizeOptions:{resultEqualityCheck:iA}});function Kie(t){var{value:e}=t;if(Ka(e)||e instanceof Date)return e}var qie=(t,e,n)=>{var r=t.map(Kie).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&u4(r))?KU(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},o6=t=>t.referenceElements.dots,_m=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Yie=H([o6,Bt,X0],_m),l6=t=>t.referenceElements.areas,Xie=H([l6,Bt,X0],_m),c6=t=>t.referenceElements.lines,Qie=H([c6,Bt,X0],_m),u6=(t,e)=>{var n=Em(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Jie=H(Yie,Bt,u6),d6=(t,e)=>{var n=Em(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zie=H([Xie,Bt],d6),h6=(t,e)=>{var n=Em(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ese=H(Qie,Bt,h6),tse=H(Jie,ese,Zie,(t,e,n)=>S1(t,n,e)),X2=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?S1(r,s,i):S1(s,i);return pie(e,c,t.allowDataOverflow)},nse=H([qt,K2,q2,Wie,Gie,tse,ut,Bt],X2,{memoizeOptions:{resultEqualityCheck:iA}}),rse=[0,1],Q2=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,c=cu(e,s);return c&&o==null?KU(0,n.length):l==="category"?qie(r,t,c):i==="expand"?rse:a}},J2=H([qt,ut,W2,aA,Y0,Bt,nse],Q2),f6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(U0(s));return o in Pg?o:"point"}}},Cm=H([qt,ut,e6,I2,Bt],f6);function ise(t){if(t!=null){if(t in Pg)return Pg[t]();var e="scale".concat(U0(t));if(e in Pg)return Pg[e]()}}function Z2(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ise(e);if(i!=null){var s=i.domain(n).range(r);return WZ(s),s}}}var eN=(t,e,n)=>{var r=G2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hh(t))return Eie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hh(t))return _ie(t,e.tickCount,e.allowDecimals)}},tN=H([J2,Q0,Cm],eN),nN=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&hh(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},sse=H([qt,J2,tN,Bt],nN),ase=H(aA,qt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Em(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),p6=H(ase,ut,Cie,Hn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ai(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Fi(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),ose=(t,e)=>{var n=kl(t,e);return n==null||typeof n.padding!="string"?0:p6(t,"xAxis",e,n.padding)},lse=(t,e)=>{var n=Pl(t,e);return n==null||typeof n.padding!="string"?0:p6(t,"yAxis",e,n.padding)},cse=H(kl,ose,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),use=H(Pl,lse,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),dse=H([Hn,cse,WS,HS,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),hse=H([Hn,ut,use,WS,HS,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Z0=(t,e,n,r)=>{var i;switch(e){case"xAxis":return dse(t,n,r);case"yAxis":return hse(t,n,r);case"zAxis":return(i=B2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Gz(t);case"radiusAxis":return Kz(t,n);default:return}},m6=H([qt,Z0],nA),km=H([qt,Cm,sse,m6],Z2);H([J0,oA,Bt],Vie);function g6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var lA=(t,e)=>e,cA=(t,e,n)=>n,fse=H(US,lA,cA,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g6)),pse=H(zS,lA,cA,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(g6)),v6=(t,e)=>({width:t.width,height:e.height}),mse=(t,e)=>{var n=typeof e.width=="number"?e.width:W0;return{width:n,height:t.height}},gse=H(Hn,kl,v6),vse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},yse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},bse=H(_l,Hn,fse,lA,cA,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=v6(e,o);a==null&&(a=vse(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),wse=H(El,Hn,pse,lA,cA,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=mse(e,o);a==null&&(a=yse(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),xse=(t,e)=>{var n=kl(t,e);if(n!=null)return bse(t,n.orientation,n.mirror)},Sse=H([Hn,kl,xse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ase=(t,e)=>{var n=Pl(t,e);if(n!=null)return wse(t,n.orientation,n.mirror)},Ese=H([Hn,Pl,Ase,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),_se=H(Hn,Pl,(t,e)=>{var n=typeof e.width=="number"?e.width:W0;return{width:n,height:t.height}}),y6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=cu(t,r),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&u4(l))return l}},rN=H([ut,aA,qt,Bt],y6),b6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=cu(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},iN=H([ut,aA,Q0,Bt],b6),XM=H([ut,jie,Cm,km,rN,iN,Z0,tN,Bt],(t,e,n,r,i,s,a,o,l)=>{if(e==null)return null;var c=cu(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}}),Cse=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var c=cu(t,l),{type:d,ticks:h,tickCount:f}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&s!=null&&s.length>=2?br(s[0]-s[1])*2*g:g;var v=h||i;if(v){var b=v.map((y,x)=>{var w=a?a.indexOf(y):y;return{index:x,coordinate:r(w)+g,value:y,offset:g}});return b.filter(y=>!sa(y.coordinate))}return c&&o?o.map((y,x)=>({coordinate:r(y)+g,value:y,index:x,offset:g})):r.ticks?r.ticks(f).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,x)=>({coordinate:r(y)+g,value:a?a[y]:y,index:x,offset:g}))}},w6=H([ut,Q0,Cm,km,tN,Z0,rN,iN,Bt],Cse),kse=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=cu(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?br(r[0]-r[1])*2*c:c,o&&s?s.map((d,h)=>({coordinate:n(d)+c,value:d,index:h,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,h)=>({coordinate:n(d)+c,value:i?i[d]:d,index:h,offset:c}))}},x6=H([ut,Q0,km,Z0,rN,iN,Bt],kse),S6=H(qt,km,(t,e)=>{if(!(t==null||e==null))return x1(x1({},t),{},{scale:e})}),Pse=H([qt,Cm,J2,m6],Z2);H((t,e,n)=>B2(t,n),Pse,(t,e)=>{if(!(t==null||e==null))return x1(x1({},t),{},{scale:e})});var Tse=H([ut,US,zS],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),A6=t=>t.options.defaultTooltipEventType,E6=t=>t.options.validateTooltipEventTypes;function _6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function sN(t,e){var n=A6(t),r=E6(t);return _6(e,n,r)}function Nse(t){return Ae(e=>sN(e,t))}var C6=(t,e)=>{var n,r=Number(e);if(!(sa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ose=t=>t.tooltip.settings,Wl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ise={itemInteraction:{click:Wl,hover:Wl},axisInteraction:{click:Wl,hover:Wl},keyboardInteraction:Wl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},k6=Ki({name:"tooltip",initialState:Ise,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Nr()},removeTooltipEntrySettings:{reducer(t,e){var n=nl(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Nr()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Dse,removeTooltipEntrySettings:Mse,setTooltipSettingsState:Rse,setActiveMouseOverItemIndex:P6,mouseLeaveItem:jse,mouseLeaveChart:T6,setActiveClickItemIndex:Lse,setMouseOverAxisIndex:N6,setMouseClickAxisIndex:Fse,setSyncInteraction:Gk,setKeyboardInteraction:Kk}=k6.actions,Bse=k6.reducer;function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){$se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $se(t,e,n){return(e=Use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hse(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Wse(t){return t.index!=null}var O6=(t,e,n,r)=>{if(e==null)return Wl;var i=Hse(t,e,n);if(i==null)return Wl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Wse(i)){if(s)return Qb(Qb({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qb(Qb({},Wl),{},{coordinate:i.coordinate})},aN=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ai(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},I6=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},D6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},eb=t=>t.options.tooltipPayloadSearcher,Pm=t=>t.tooltip;function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){Vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vse(t,e,n){return(e=Gse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Kse(t,"string");return typeof e=="symbol"?e:e+""}function Kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qse(t,e){return t??e}var M6=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,h=[];return t.reduce((f,p)=>{var g,{dataDefinedOnItem:v,settings:b}=p,y=qse(v,o),x=Array.isArray(y)?gU(y,c,d):y,w=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,_=b==null?void 0:b.nameKey,E;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?E=d4(x,r,i):E=s(x,e,l,_),Array.isArray(E))E.forEach(O=>{var T=ZM(ZM({},b),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});f.push(BD({tooltipEntrySettings:T,dataKey:O.dataKey,payload:O.payload,value:Wt(O.payload,O.dataKey),name:O.name}))});else{var k;f.push(BD({tooltipEntrySettings:b,dataKey:w,payload:E,value:Wt(E,w),name:(k=Wt(E,_))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return f},h)}},oN=H([Tn,ut,e6,I2,Pn],f6),Yse=H([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Xse=H([Pn,Am],$2),tb=H([Yse,Tn,Xse],U2,{memoizeOptions:{resultEqualityCheck:sA}}),Qse=H([tb],t=>t.filter(F2)),Jse=H([tb],z2,{memoizeOptions:{resultEqualityCheck:sA}}),Tm=H([Jse,hu],H2),Zse=H([Qse,hu,Tn],Qz),lN=H([Tm,Tn,tb],V2),R6=H([Tn],G2),eae=H([Tn],t=>t.allowDataOverflow),j6=H([R6,eae],Pz),tae=H([tb],t=>t.filter(F2)),nae=H([Zse,tae,Y0],s6),rae=H([nae,hu,Pn,j6],a6),iae=H([tb],r6),sae=H([Tm,Tn,iae,oA,Pn],Y2,{memoizeOptions:{resultEqualityCheck:iA}}),aae=H([o6,Pn,Am],_m),oae=H([aae,Pn],u6),lae=H([l6,Pn,Am],_m),cae=H([lae,Pn],d6),uae=H([c6,Pn,Am],_m),dae=H([uae,Pn],h6),hae=H([oae,dae,cae],S1),fae=H([Tn,R6,j6,rae,sae,hae,ut,Pn],X2),L6=H([Tn,ut,Tm,lN,Y0,Pn,fae],Q2),pae=H([L6,Tn,oN],eN),mae=H([Tn,L6,pae,Pn],nN),F6=t=>{var e=Pn(t),n=Am(t),r=!1;return Z0(t,e,n,r)},B6=H([Tn,F6],nA),$6=H([Tn,oN,mae,B6],Z2),gae=H([ut,lN,Tn,Pn],y6),vae=H([ut,lN,Tn,Pn],b6),yae=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,c=cu(t,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?br(i[0]-i[1])*2*h:h,c&&a?a.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:s?s[f]:f,index:p,offset:h}))}}},Tl=H([ut,Tn,oN,$6,F6,gae,vae,Pn],yae),cN=H([A6,E6,Ose],(t,e,n)=>_6(n.shared,t,e)),U6=t=>t.tooltip.settings.trigger,uN=t=>t.tooltip.settings.defaultIndex,uA=H([Pm,cN,U6,uN],O6),lm=H([uA,Tm],aN),z6=H([Tl,lm],C6),bae=H([uA],t=>{if(t)return t.dataKey}),H6=H([Pm,cN,U6,uN],D6),wae=H([El,_l,ut,Hn,Tl,uN,H6,eb],I6),xae=H([uA,wae],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Sae=H([uA],t=>t.active),Aae=H([H6,lm,hu,Xz,z6,eb,cN],M6),Eae=H([Aae],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){_ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=kae(t,"string");return typeof e=="symbol"?e:e+""}function kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pae=()=>Ae(Tn),Tae=()=>{var t=Pae(),e=Ae(Tl),n=Ae($6);return Pk(tR(tR({},t),{},{scale:n}),e)},Nae=()=>Ae(I2),dN=(t,e)=>e,W6=(t,e,n)=>n,hN=(t,e,n,r)=>r,Oae=H(Tl,t=>MS(t,e=>e.coordinate)),fN=H([Pm,dN,W6,hN],O6),V6=H([fN,Tm],aN),Iae=(t,e,n)=>{if(e!=null){var r=Pm(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},G6=H([Pm,dN,W6,hN],D6),A1=H([El,_l,ut,Hn,Tl,hN,G6,eb],I6),Dae=H([fN,A1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),K6=H(Tl,V6,C6),Mae=H([G6,V6,hu,Xz,K6,eb,dN],M6),Rae=H([fN],t=>({isActive:t.active,activeIndex:t.index})),jae=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s)){var l=JZ(t.chartX,t.chartY,e,n,o);if(l){var c=eee(l,e),d=zZ(c,a,s,r,i),h=ZZ(e,s,d,l);return{activeIndex:String(d),activeCoordinate:h}}}};function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qk.apply(null,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:c}=t,d=e,h=n,f=r;if(!o||!d||c!=="ScatterChart"&&l!=="axis")return null;var p,g;if(c==="ScatterChart")p=d,g=ete;else if(c==="BarChart")p=tte(a,d,i,s),g=$U;else if(a==="radial"){var{cx:v,cy:b,radius:y,startAngle:x,endAngle:w}=UU(d);p={cx:v,cy:b,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},g=HU}else p={points:Fte(a,d,i)},g=i2;var _=typeof o=="object"&&"className"in o?o.className:void 0,E=Jb(Jb(Jb(Jb({stroke:"#ccc",pointerEvents:"none"},i),p),tm(o)),{},{payload:h,payloadIndex:f,className:Ze("recharts-tooltip-cursor",_)});return S.isValidElement(o)?S.cloneElement(o,E):S.createElement(g,E)}function Uae(t){var e=Tae(),n=TU(),r=r2(),i=Nae();return S.createElement($ae,qk({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var q6=S.createContext(null),zae=()=>S.useContext(q6),Y6={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,d,h,f,p,g){var v=n?n+c:c;if(!this._events[v])return!1;var b=this._events[v],y=arguments.length,x,w;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,f),!0;case 5:return b.fn.call(b.context,d,h,f,p),!0;case 6:return b.fn.call(b.context,d,h,f,p,g),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];b.fn.apply(b.context,x)}else{var _=b.length,E;for(w=0;w<_;w++)switch(b[w].once&&this.removeListener(c,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,h);break;case 4:b[w].fn.call(b[w].context,d,h,f);break;default:if(!x)for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];b[w].fn.apply(b[w].context,x)}}return!0},o.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},o.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},o.prototype.removeListener=function(c,d,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var v=0,b=[],y=g.length;v<y;v++)(g[v].fn!==d||f&&!g[v].once||h&&g[v].context!==h)&&b.push(g[v]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Y6);var Hae=Y6.exports;const Wae=Xa(Hae);var Nv=new Wae,Yk="recharts.syncEvent.tooltip",rR="recharts.syncEvent.brush";function X6(t,e){if(e){var n=Number.parseInt(e,10);if(!sa(n))return t==null?void 0:t[n]}}var Vae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Q6=Ki({name:"options",initialState:Vae,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gae=Q6.reducer,{createEventEmitter:Kae}=Q6.actions;function qae(t){return t.tooltip.syncInteraction}var Yae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},J6=Ki({name:"chartData",initialState:Yae,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:iR,setDataStartEndIndexes:Xae,setComputedData:bfe}=J6.actions,Qae=J6.reducer,Jae=["x","y"];function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function noe(t,e){if(t==null)return{};var n,r,i=roe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function roe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z6=()=>{};function ioe(){var t=Ae(D2),e=Ae(M2),n=tn(),r=Ae(Hz),i=Ae(Tl),s=r2(),a=VS(),o=Ae(l=>l.rootProps.className);S.useEffect(()=>{if(t==null)return Z6;var l=(c,d,h)=>{if(e!==h&&t===c){if(r==="index"){var f;if(a&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y:v}=p,b=noe(p,Jae),{x:y,y:x,width:w,height:_}=d.payload.sourceViewBox,E=Th(Th({},b),{},{x:a.x+(w?(g-y)/w:0)*a.width,y:a.y+(_?(v-x)/_:0)*a.height});n(Th(Th({},d),{},{payload:Th(Th({},d.payload),{},{coordinate:E})}))}else n(d);return}if(i!=null){var k;if(typeof r=="function"){var O={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(i,O);k=i[T]}else r==="value"&&(k=i.find(Y=>String(Y.value)===d.payload.label));var{coordinate:N}=d.payload;if(k==null||d.payload.active===!1||N==null||a==null){n(Gk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:D}=N,M=Math.min(I,a.x+a.width),F=Math.min(D,a.y+a.height),K={x:s==="horizontal"?k.coordinate:M,y:s==="horizontal"?F:k.coordinate},Q=Gk({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});n(Q)}}};return Nv.on(Yk,l),()=>{Nv.off(Yk,l)}},[o,n,e,t,r,i,s,a])}function soe(){var t=Ae(D2),e=Ae(M2),n=tn();S.useEffect(()=>{if(t==null)return Z6;var r=(i,s,a)=>{e!==a&&t===i&&n(Xae(s))};return Nv.on(rR,r),()=>{Nv.off(rR,r)}},[n,e,t])}function aoe(){var t=tn();S.useEffect(()=>{t(Kae())},[t]),ioe(),soe()}function ooe(t,e,n,r,i,s){var a=Ae(p=>Iae(p,t,e)),o=Ae(M2),l=Ae(D2),c=Ae(Hz),d=Ae(qae),h=d==null?void 0:d.active,f=VS();S.useEffect(()=>{if(!h&&l!=null&&o!=null){var p=Gk({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f});Nv.emit(Yk,l,p,o)}},[h,n,a,i,r,o,l,c,s,f])}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function loe(t,e,n){return(e=coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function coe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t){return t.dataKey}function hoe(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(Iee,e)}var lR=[],foe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Sh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function cR(t){var e=xr(t,foe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:d,position:h,reverseDirection:f,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:b,trigger:y,defaultIndex:x,portal:w,axisId:_}=e,E=tn(),k=typeof x=="number"?String(x):x;S.useEffect(()=>{E(Rse({shared:b,trigger:y,axisId:_,active:n,defaultIndex:k}))},[E,b,y,_,n,k]);var O=VS(),T=RU(),N=Nse(b),{activeIndex:I,isActive:D}=Ae(Z=>Rae(Z,N,y,k)),M=Ae(Z=>Mae(Z,N,y,k)),F=Ae(Z=>K6(Z,N,y,k)),K=Ae(Z=>Dae(Z,N,y,k)),Q=M,Y=zae(),U=n??D,[z,W]=DJ([Q,U]),ne=N==="axis"?F:void 0;ooe(N,y,K,ne,I,U);var re=w??Y;if(re==null)return null;var X=Q??lR;U||(X=lR),o&&X.length&&(X=QQ(Q.filter(Z=>Z.value!=null&&(Z.hide!==!0||e.includeHidden)),d,doe));var J=X.length>0,ue=S.createElement(Bee,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:U,coordinate:K,hasPayload:J,offset:c,position:h,reverseDirection:f,useTranslate3d:p,viewBox:O,wrapperStyle:g,lastBoundingBox:z,innerRef:W,hasPortalFromProps:!!w},hoe(a,oR(oR({},e),{},{payload:X,label:ne,active:U,coordinate:K,accessibilityLayer:T})));return S.createElement(S.Fragment,null,aF.createPortal(ue,re),U&&S.createElement(Uae,{cursor:v,tooltipEventType:N,coordinate:K,payload:Q,index:I}))}var dA=t=>null;dA.displayName="Cell";function poe(t,e,n){return(e=moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=goe(t,"string");return typeof e=="symbol"?e:e+""}function goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class voe{constructor(e){poe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=xoe(t,"string");return typeof e=="symbol"?e:e+""}function xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Soe={cacheSize:2e3,enableCache:!0},e5=yoe({},Soe),dR=new voe(e5.cacheSize),Aoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hR="recharts_measurement_span";function Eoe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var fR=(t,e)=>{try{var n=document.getElementById(hR);n||(n=document.createElement("span"),n.setAttribute("id",hR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Aoe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Vg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sh.isSsr)return{width:0,height:0};if(!e5.enableCache)return fR(e,n);var r=Eoe(e,n),i=dR.get(r);if(i)return i;var s=fR(e,n);return dR.set(r,s),s},pR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_oe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Coe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,t5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},koe=Object.keys(t5),Jh="NaN";function Poe(t,e){return t*t5[e]}class Jr{static parse(e){var n,[,r,i]=(n=Coe.exec(e))!==null&&n!==void 0?n:[];return new Jr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,sa(e)&&(this.unit=""),n!==""&&!_oe.test(n)&&(this.num=NaN,this.unit=""),koe.includes(n)&&(this.num=Poe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Jr(NaN,""):new Jr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Jr(NaN,""):new Jr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Jr(NaN,""):new Jr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Jr(NaN,""):new Jr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return sa(this.num)}}function n5(t){if(t.includes(Jh))return Jh;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=pR.exec(e))!==null&&n!==void 0?n:[],a=Jr.parse(r??""),o=Jr.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Jh;e=e.replace(pR,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,d,h,f]=(c=mR.exec(e))!==null&&c!==void 0?c:[],p=Jr.parse(d??""),g=Jr.parse(f??""),v=h==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Jh;e=e.replace(mR,v.toString())}return e}var gR=/\(([^()]*)\)/;function Toe(t){for(var e=t,n;(n=gR.exec(e))!=null;){var[,r]=n;e=e.replace(gR,n5(r))}return e}function Noe(t){var e=t.replace(/\s+/g,"");return e=Toe(e),e=n5(e),e}function Ooe(t){try{return Noe(t)}catch{return Jh}}function RE(t){var e=Ooe(t.slice(5,-1));return e===Jh?"":e}var Ioe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Doe=["dx","dy","angle","className","breakAll"];function Xk(){return Xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xk.apply(null,arguments)}function vR(t,e){if(t==null)return{};var n,r,i=Moe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Moe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r5=/[ \f\n\r\t\v\u2028\u2029]+/,i5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Cn(e)||(n?i=e.toString().split(""):i=e.toString().split(r5));var s=i.map(o=>({word:o,width:Vg(o,r).width})),a=n?0:Vg("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Roe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,c=_e(s),d=a,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((M,F)=>{var{word:K,width:Q}=F,Y=M[M.length-1];if(Y&&(r==null||i||Y.width+Q+n<Number(r)))Y.words.push(K),Y.width+=Q+n;else{var U={words:[K],width:Q};M.push(U)}return M},[])},f=h(e),p=I=>I.reduce((D,M)=>D.width>M.width?D:M);if(!c||i)return f;var g=f.length>s||p(f).width>Number(r);if(!g)return f;for(var v="",b=I=>{var D=d.slice(0,I),M=i5({breakAll:l,style:o,children:D+v}).wordsWithComputedWidth,F=h(M),K=F.length>s||p(F).width>Number(r);return[K,F]},y=0,x=d.length-1,w=0,_;y<=x&&w<=d.length-1;){var E=Math.floor((y+x)/2),k=E-1,[O,T]=b(k),[N]=b(E);if(!O&&!N&&(y=E+1),O&&N&&(x=E-1),!O&&N){_=T;break}w++}return _||f},yR=t=>{var e=Cn(t)?[]:t.toString().split(r5);return[{words:e}]},joe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Sh.isSsr){var o,l,c=i5({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:h}=c;o=d,l=h}else return yR(r);return Roe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,n)}return yR(r)},bR="#808080",hA=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=bR}=t,d=vR(t,Ioe),h=S.useMemo(()=>joe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:f,dy:p,angle:g,className:v,breakAll:b}=d,y=vR(d,Doe);if(!Ka(n)||!Ka(r)||h.length===0)return null;var x=n+(_e(f)?f:0),w=r+(_e(p)?p:0),_;switch(l){case"start":_=RE("calc(".concat(s,")"));break;case"middle":_=RE("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:_=RE("calc(".concat(h.length-1," * -").concat(i,")"));break}var E=[];if(a){var k=h[0].width,{width:O}=d;E.push("scale(".concat(_e(O)?O/k:1,")"))}return g&&E.push("rotate(".concat(g,", ").concat(x,", ").concat(w,")")),E.length&&(y.transform=E.join(" ")),S.createElement("text",Xk({},jr(y),{ref:e,x,y:w,className:Ze("recharts-text",v),textAnchor:o,fill:c.includes("url")?bR:c}),h.map((T,N)=>{var I=T.words.join(b?"":" ");return S.createElement("tspan",{x,dy:N===0?_:i,key:"".concat(I,"-").concat(N)},I)}))});hA.displayName="Text";var Loe=["labelRef"];function Foe(t,e){if(t==null)return{};var n,r,i=Boe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Boe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(null,arguments)}var s5=S.createContext(null),Hoe=t=>{var{x:e,y:n,width:r,height:i,children:s}=t,a=S.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return S.createElement(s5.Provider,{value:a},s)},a5=()=>{var t=S.useContext(s5),e=VS();return t||e},Woe=S.createContext(null),Voe=()=>{var t=S.useContext(Woe),e=Ae(qz);return t||e},Goe=t=>{var{value:e,formatter:n}=t,r=Cn(t.children)?e:t.children;return typeof n=="function"?n(r):r},pN=t=>t!=null&&typeof t=="function",Koe=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qoe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:h,endAngle:f,clockWise:p}=i,g=(c+d)/2,v=Koe(h,f),b=v>=0?1:-1,y,x;switch(e){case"insideStart":y=h+b*s,x=p;break;case"insideEnd":y=f-b*s,x=!p;break;case"end":y=f+b*s,x=p;break;default:throw new Error("Unsupported position ".concat(e))}x=v<=0?x:!x;var w=fn(o,l,g,y),_=fn(o,l,g,y+(x?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(_.x,",").concat(_.y),k=Cn(t.id)?wv("recharts-radial-line-"):t.id;return S.createElement("text",Wo({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",a)}),S.createElement("defs",null,S.createElement("path",{id:k,d:E})),S.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Yoe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:d,y:h}=fn(r,i,a+e,c);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:p,y:g}=fn(r,i,f,c);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},o5=t=>"cx"in t&&_e(t.cx),Xoe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!o5(n)&&(s=n);var{x:a,y:o,width:l,height:c}=e,d=c>=0?1:-1,h=d*r,f=d>0?"end":"start",p=d>0?"start":"end",g=l>=0?1:-1,v=g*r,b=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var x={x:a+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:f};return rn(rn({},x),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var w={x:a+l/2,y:o+c+h,textAnchor:"middle",verticalAnchor:p};return rn(rn({},w),s?{height:Math.max(s.y+s.height-(o+c),0),width:l}:{})}if(i==="left"){var _={x:a-v,y:o+c/2,textAnchor:b,verticalAnchor:"middle"};return rn(rn({},_),s?{width:Math.max(_.x-s.x,0),height:c}:{})}if(i==="right"){var E={x:a+l+v,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return rn(rn({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:c}:{})}var k=s?{width:l,height:c}:{};return i==="insideLeft"?rn({x:a+v,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?rn({x:a+l-v,y:o+c/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?rn({x:a+l/2,y:o+h,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?rn({x:a+l/2,y:o+c-h,textAnchor:"middle",verticalAnchor:f},k):i==="insideTopLeft"?rn({x:a+v,y:o+h,textAnchor:y,verticalAnchor:p},k):i==="insideTopRight"?rn({x:a+l-v,y:o+h,textAnchor:b,verticalAnchor:p},k):i==="insideBottomLeft"?rn({x:a+v,y:o+c-h,textAnchor:y,verticalAnchor:f},k):i==="insideBottomRight"?rn({x:a+l-v,y:o+c-h,textAnchor:b,verticalAnchor:f},k):i&&typeof i=="object"&&(_e(i.x)||gl(i.x))&&(_e(i.y)||gl(i.y))?rn({x:a+Fi(i.x,l),y:o+Fi(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):rn({x:a+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Qoe={offset:5};function Fl(t){var e=xr(t,Qoe),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:c}=e,d=Voe(),h=a5(),f=r==="center"?h:d??h,p=n||f;if(!p||Cn(i)&&Cn(s)&&!S.isValidElement(a)&&typeof a!="function")return null;var g=rn(rn({},e),{},{viewBox:p});if(S.isValidElement(a)){var{labelRef:v}=g,b=Foe(g,Loe);return S.cloneElement(a,b)}var y;if(typeof a=="function"){if(y=S.createElement(a,g),S.isValidElement(y))return y}else y=Goe(e);var x=o5(p),w=jr(e);if(x&&(r==="insideStart"||r==="insideEnd"||r==="end"))return qoe(e,r,y,w,p);var _=x?Yoe(p,e.offset,e.position):Xoe(e,p);return S.createElement(hA,Wo({ref:c,className:Ze("recharts-label",o)},w,_,{breakAll:l}),y)}Fl.displayName="Label";var Joe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(Fl,Wo({key:"label-implicit"},r)):Ka(t)?S.createElement(Fl,Wo({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===Fl?S.cloneElement(t,rn({key:"label-implicit"},r)):S.createElement(Fl,Wo({key:"label-implicit",content:t},r)):pN(t)?S.createElement(Fl,Wo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(Fl,Wo({},t,{key:"label-implicit"},r)):null};function Zoe(t){var{label:e,labelRef:n}=t,r=a5();return Joe(e,r,n)||null}var l5={},c5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(c5);var u5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(u5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c5,n=u5,r=IS;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(l5);var ele=l5.last;const tle=Xa(ele);var nle=["valueAccessor"],rle=["dataKey","clockWise","id","textBreakAll"];function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}function xR(t,e){if(t==null)return{};var n,r,i=ile(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ile(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sle=t=>Array.isArray(t.value)?tle(t.value):t.value,d5=S.createContext(void 0),ale=d5.Provider,h5=S.createContext(void 0),ole=h5.Provider;function lle(){return S.useContext(d5)}function cle(){return S.useContext(h5)}function Jw(t){var{valueAccessor:e=sle}=t,n=xR(t,nle),{dataKey:r,clockWise:i,id:s,textBreakAll:a}=n,o=xR(n,rle),l=lle(),c=cle(),d=l||c;return!d||!d.length?null:S.createElement(Hi,{className:"recharts-label-list"},d.map((h,f)=>{var p,g=Cn(r)?e(h,f):Wt(h&&h.payload,r),v=Cn(s)?{}:{id:"".concat(s,"-").concat(f)};return S.createElement(Fl,E1({key:"label-".concat(f)},jr(h),o,v,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:a,viewBox:h.viewBox,index:f}))}))}Jw.displayName="LabelList";function f5(t){var{label:e}=t;return e?e===!0?S.createElement(Jw,{key:"labelList-implicit"}):S.isValidElement(e)||pN(e)?S.createElement(Jw,{key:"labelList-implicit",content:e}):typeof e=="object"?S.createElement(Jw,E1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qk.apply(null,arguments)}var p5=t=>{var{cx:e,cy:n,r,className:i}=t,s=Ze("recharts-dot",i);return e===+e&&n===+n&&r===+r?S.createElement("circle",Qk({},As(t),FT(t),{className:s,cx:e,cy:n,r})):null},m5=t=>t.graphicalItems.polarItems,ule=H([Bt,X0],$2),fA=H([m5,qt,ule],U2),dle=H([fA],z2),pA=H([dle,P2],H2),hle=H([pA,qt,fA],V2);H([pA,qt,fA],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=Wt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var SR=()=>{},fle=H([pA,qt,fA,oA,Bt],Y2),ple=H([qt,K2,q2,SR,fle,SR,ut,Bt],X2),g5=H([qt,ut,pA,hle,Y0,Bt,ple],Q2),mle=H([g5,qt,Cm],eN);H([qt,g5,mle,Bt],nN);var gle={radiusAxis:{},angleAxis:{}},v5=Ki({name:"polarAxis",initialState:gle,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:wfe,removeRadiusAxis:xfe,addAngleAxis:Sfe,removeAngleAxis:Afe}=v5.actions,vle=v5.reducer;function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){yle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yle(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xle=(t,e)=>e,mN=H([m5,xle],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Sle=[],gN=(t,e,n)=>(n==null?void 0:n.length)===0?Sle:n,y5=H([P2,mN,gN],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>ER(ER({},e.presentationProps),s.props))),i!=null)return i}}),Ale=H([y5,mN,gN],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,a=Wt(r,e.nameKey,e.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:$S(a,e.dataKey),color:o,payload:r,type:e.legendType}})}),Ele=H([y5,mN,gN,Hn],(t,e,n,r)=>{if(!(e==null||t==null))return Pce({offset:r,pieSettings:e,displayedData:t,cells:n})}),b5={exports:{}},vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=Symbol.for("react.transitional.element"),yN=Symbol.for("react.portal"),mA=Symbol.for("react.fragment"),gA=Symbol.for("react.strict_mode"),vA=Symbol.for("react.profiler"),yA=Symbol.for("react.consumer"),bA=Symbol.for("react.context"),wA=Symbol.for("react.forward_ref"),xA=Symbol.for("react.suspense"),SA=Symbol.for("react.suspense_list"),AA=Symbol.for("react.memo"),EA=Symbol.for("react.lazy"),_le=Symbol.for("react.view_transition"),Cle=Symbol.for("react.client.reference");function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vN:switch(t=t.type,t){case mA:case vA:case gA:case xA:case SA:case _le:return t;default:switch(t=t&&t.$$typeof,t){case bA:case wA:case EA:case AA:return t;case yA:return t;default:return e}}case yN:return e}}}vt.ContextConsumer=yA;vt.ContextProvider=bA;vt.Element=vN;vt.ForwardRef=wA;vt.Fragment=mA;vt.Lazy=EA;vt.Memo=AA;vt.Portal=yN;vt.Profiler=vA;vt.StrictMode=gA;vt.Suspense=xA;vt.SuspenseList=SA;vt.isContextConsumer=function(t){return ks(t)===yA};vt.isContextProvider=function(t){return ks(t)===bA};vt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vN};vt.isForwardRef=function(t){return ks(t)===wA};vt.isFragment=function(t){return ks(t)===mA};vt.isLazy=function(t){return ks(t)===EA};vt.isMemo=function(t){return ks(t)===AA};vt.isPortal=function(t){return ks(t)===yN};vt.isProfiler=function(t){return ks(t)===vA};vt.isStrictMode=function(t){return ks(t)===gA};vt.isSuspense=function(t){return ks(t)===xA};vt.isSuspenseList=function(t){return ks(t)===SA};vt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===mA||t===vA||t===gA||t===xA||t===SA||typeof t=="object"&&t!==null&&(t.$$typeof===EA||t.$$typeof===AA||t.$$typeof===bA||t.$$typeof===yA||t.$$typeof===wA||t.$$typeof===Cle||t.getModuleId!==void 0)};vt.typeOf=ks;b5.exports=vt;var kle=b5.exports,_R=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",CR=null,jE=null,w5=t=>{if(t===CR&&Array.isArray(jE))return jE;var e=[];return S.Children.forEach(t,n=>{Cn(n)||(kle.isFragment(n)?e=e.concat(w5(n.props.children)):e.push(n))}),jE=e,CR=t,e};function x5(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>_R(i)):r=[_R(e)],w5(t).forEach(i=>{var s=ch(i,"type.displayName")||ch(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var S5=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,A5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(A5);var Ple=A5.isPlainObject;const Tle=Xa(Ple);function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1.apply(null,arguments)}var TR=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Dle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mle=t=>{var e=xr(t,Dle),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:h}=e,f=S.useRef(null),[p,g]=S.useState(-1),v=S.useRef(i),b=S.useRef(s),y=S.useRef(a),x=S.useRef(n),w=S.useRef(r),_=qS(t,"trapezoid-");if(S.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var K=f.current.getTotalLength();K&&g(K)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var E=Ze("recharts-trapezoid",o);if(!h)return S.createElement("g",null,S.createElement("path",_1({},jr(e),{className:E,d:TR(n,r,i,s,a)})));var k=v.current,O=b.current,T=y.current,N=x.current,I=w.current,D="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),F=jU(["strokeDasharray"],c,l);return S.createElement(KS,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:h,begin:d},K=>{var Q=yr(k,i,K),Y=yr(O,s,K),U=yr(T,a,K),z=yr(N,n,K),W=yr(I,r,K);f.current&&(v.current=Q,b.current=Y,y.current=U,x.current=z,w.current=W);var ne=K>0?{transition:F,strokeDasharray:M}:{strokeDasharray:D};return S.createElement("path",_1({},jr(e),{className:E,d:TR(z,W,Q,Y,U),ref:f,style:PR(PR({},ne),e.style)}))})},Rle=["option","shapeType","propTransformer","activeClassName","isActive"];function jle(t,e){if(t==null)return{};var n,r,i=Lle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=$le(t,"string");return typeof e=="symbol"?e:e+""}function $le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ule(t,e){return C1(C1({},e),t)}function zle(t,e){return t==="symbols"}function OR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement($U,n);case"trapezoid":return S.createElement(Mle,n);case"sector":return S.createElement(HU,n);case"symbols":if(zle(e))return S.createElement(f4,n);break;default:return null}}function Hle(t){return S.isValidElement(t)?t.props:t}function Wle(t){var{option:e,shapeType:n,propTransformer:r=Ule,activeClassName:i="recharts-active-shape",isActive:s}=t,a=jle(t,Rle),o;if(S.isValidElement(e))o=S.cloneElement(e,C1(C1({},a),Hle(e)));else if(typeof e=="function")o=e(a);else if(Tle(e)&&typeof e!="boolean"){var l=r(e,a);o=S.createElement(OR,{shapeType:n,elementProps:l})}else{var c=a;o=S.createElement(OR,{shapeType:n,elementProps:c})}return s?S.createElement(Hi,{className:i},o):o}var Vle=(t,e)=>{var n=tn();return(r,i)=>s=>{t==null||t(r,i,s),n(P6({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Gle=t=>{var e=tn();return(n,r)=>i=>{t==null||t(n,r,i),e(jse())}},Kle=(t,e)=>{var n=tn();return(r,i)=>s=>{t==null||t(r,i,s),n(Lse({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function E5(t){var{fn:e,args:n}=t,r=tn(),i=qi();return S.useLayoutEffect(()=>{if(!i){var s=e(n);return r(Dse(s)),()=>{r(Mse(s))}}},[e,n,r,i]),null}var _5=()=>{};function qle(t){var{legendPayload:e}=t,n=tn(),r=qi();return S.useLayoutEffect(()=>r?_5:(n(DU(e)),()=>{n(MU(e))}),[n,r,e]),null}function Yle(t){var{legendPayload:e}=t,n=tn(),r=Ae(ut);return S.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?_5:(n(DU(e)),()=>{n(MU(e))}),[n,r,e]),null}var LE,Xle=()=>{var[t]=S.useState(()=>wv("uid-"));return t},Qle=(LE=RH.useId)!==null&&LE!==void 0?LE:Xle;function Jle(t,e){var n=Qle();return e||(t?"".concat(t,"-").concat(n):n)}var Zle=S.createContext(void 0),C5=t=>{var{id:e,type:n,children:r}=t,i=Jle("recharts-".concat(n),e);return S.createElement(Zle.Provider,{value:i},r(i))},ece={cartesianItems:[],polarItems:[]},k5=Ki({name:"graphicalItems",initialState:ece,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Nr()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=nl(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Nr()},removeCartesianGraphicalItem:{reducer(t,e){var n=nl(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Nr()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Nr()},removePolarGraphicalItem:{reducer(t,e){var n=nl(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Nr()}}}),{addCartesianGraphicalItem:tce,replaceCartesianGraphicalItem:nce,removeCartesianGraphicalItem:rce,addPolarGraphicalItem:ice,removePolarGraphicalItem:sce}=k5.actions,ace=k5.reducer;function oce(t){var e=tn(),n=S.useRef(null);return S.useLayoutEffect(()=>{n.current===null?e(tce(t)):n.current!==t&&e(nce({prev:n.current,next:t})),n.current=t},[e,t]),S.useLayoutEffect(()=>()=>{n.current&&(e(rce(n.current)),n.current=null)},[e]),null}function lce(t){var e=tn();return S.useLayoutEffect(()=>(e(ice(t)),()=>{e(sce(t))}),[e,t]),null}var cce=["onMouseEnter","onClick","onMouseLeave"],uce=["id"],dce=["id"];function bN(t,e){if(t==null)return{};var n,r,i=hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return(e=pce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=mce(t,"string");return typeof e=="symbol"?e:e+""}function mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(null,arguments)}function gce(t){var e=S.useMemo(()=>x5(t.children,dA),[t.children]),n=Ae(r=>Ale(r,t.id,e));return n==null?null:S.createElement(Yle,{legendPayload:n})}function vce(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r.map(d=>d.tooltipPayload),positions:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:$S(o,e),hide:l,type:c,color:a,unit:""}}}var yce=(t,e)=>t>e?"start":t<e?"end":"middle",bce=(t,e,n)=>Fi(typeof e=="function"?e(t):e,n,n*.8),wce=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,o=mU(s,a),l=i+Fi(t.cx,s,s/2),c=r+Fi(t.cy,a,a/2),d=Fi(t.innerRadius,o,0),h=bce(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:f}},xce=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Sce(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ace=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ze("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return S.createElement(i2,eu({},e,{type:"linear",className:n}))},Ece=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var i=Ze("recharts-pie-label-text",Sce(t));return S.createElement(hA,eu({},e,{alignmentBaseline:"middle",className:i}),r)};function _ce(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var o=As(n),l=tm(i),c=tm(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((f,p)=>{var g=(f.startAngle+f.endAngle)/2,v=fn(f.cx,f.cy,f.outerRadius+d,g),b=Rt(Rt(Rt(Rt({},o),f),{},{stroke:"none"},l),{},{index:p,textAnchor:yce(v.x,f.cx)},v),y=Rt(Rt(Rt(Rt({},o),f),{},{fill:"none",stroke:f.fill},c),{},{index:p,points:[fn(f.cx,f.cy,f.outerRadius,g),v],key:"line"});return S.createElement(Hi,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},s&&Ace(s,y),Ece(i,b,Wt(f,a)))});return S.createElement(Hi,{className:"recharts-pie-labels"},h)}function Cce(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?S.createElement(f5,{label:i}):S.createElement(_ce,{sectors:e,props:n,showLabels:r})}function kce(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=Ae(lm),{onMouseEnter:a,onClick:o,onMouseLeave:l}=i,c=bN(i,cce),d=Vle(a,i.dataKey),h=Gle(l),f=Kle(o,i.dataKey);return e==null||e.length===0?null:S.createElement(S.Fragment,null,e.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var v=n&&String(g)===s,b=s?r:null,y=v?n:b,x=Rt(Rt({},p),{},{stroke:p.stroke,tabIndex:-1,[wU]:g,[xU]:i.dataKey});return S.createElement(Hi,eu({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},p4(c,p,g),{onMouseEnter:d(p,g),onMouseLeave:h(p,g),onClick:f(p,g)}),S.createElement(Wle,eu({option:y,isActive:v,shapeType:"sector"},x)))}))}function Pce(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:h}=n,f=Math.abs(n.minAngle),p=xce(o,l),g=Math.abs(p),v=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(k=>Wt(k,c,0)!==0).length,y=(g>=360?b:b-1)*v,x=g-b*f-y,w=r.reduce((k,O)=>{var T=Wt(O,c,0);return k+(_e(T)?T:0)},0),_;if(w>0){var E;_=r.map((k,O)=>{var T=Wt(k,c,0),N=Wt(k,d,O),I=wce(n,s,k),D=(_e(T)?T:0)/w,M,F=Rt(Rt({},k),i&&i[O]&&i[O].props);O?M=E.endAngle+br(p)*v*(T!==0?1:0):M=o;var K=M+br(p)*((T!==0?f:0)+D*x),Q=(M+K)/2,Y=(I.innerRadius+I.outerRadius)/2,U=[{name:N,value:T,payload:F,dataKey:c,type:h}],z=fn(I.cx,I.cy,Y,Q);return E=Rt(Rt(Rt(Rt({},n.presentationProps),{},{percent:D,cornerRadius:a,name:N,tooltipPayload:U,midAngle:Q,middleRadius:Y,tooltipPosition:z},F),I),{},{value:T,startAngle:M,endAngle:K,payload:F,paddingAngle:br(p)*v}),E})}return _}function Tce(t){var{showLabels:e,sectors:n,children:r}=t,i=S.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return S.createElement(ole,{value:e?i:void 0},r)}function Nce(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=e,f=qS(e,"recharts-pie-"),p=n.current,[g,v]=S.useState(!1),b=S.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),y=S.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return S.createElement(Tce,{showLabels:!g,sectors:r},S.createElement(KS,{animationId:f,begin:s,duration:a,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:b,key:f},x=>{var w=[],_=r&&r[0],E=_==null?void 0:_.startAngle;return r==null||r.forEach((k,O)=>{var T=p&&p[O],N=O>0?ch(k,"paddingAngle",0):0;if(T){var I=yr(T.endAngle-T.startAngle,k.endAngle-k.startAngle,x),D=Rt(Rt({},k),{},{startAngle:E+N,endAngle:E+I+N});w.push(D),E=D.endAngle}else{var{endAngle:M,startAngle:F}=k,K=yr(0,M-F,x),Q=Rt(Rt({},k),{},{startAngle:E+N,endAngle:E+K+N});w.push(Q),E=Q.endAngle}}),n.current=w,S.createElement(Hi,null,S.createElement(kce,{sectors:w,activeShape:l,inactiveShape:c,allOtherPieProps:e}))}),S.createElement(Cce,{showLabels:!g,sectors:r,props:e}),e.children)}var Oce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Sh.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Ice(t){var{id:e}=t,n=bN(t,uce),{hide:r,className:i,rootTabIndex:s}=t,a=S.useMemo(()=>x5(t.children,dA),[t.children]),o=Ae(d=>Ele(d,e,a)),l=S.useRef(null),c=Ze("recharts-pie",i);return r||o==null?(l.current=null,S.createElement(Hi,{tabIndex:s,className:c})):S.createElement(S.Fragment,null,S.createElement(E5,{fn:vce,args:Rt(Rt({},t),{},{sectors:o})}),S.createElement(Hi,{tabIndex:s,className:c},S.createElement(Nce,{props:Rt(Rt({},n),{},{sectors:o}),previousSectorsRef:l})))}function P5(t){var e=xr(t,Oce),{id:n}=e,r=bN(e,dce),i=As(r);return S.createElement(C5,{id:n,type:"pie"},s=>S.createElement(S.Fragment,null,S.createElement(lce,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),S.createElement(gce,eu({},r,{id:s})),S.createElement(Ice,eu({},r,{id:s}))))}P5.displayName="Pie";function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jce={xAxis:{},yAxis:{},zAxis:{}},T5=Ki({name:"cartesianAxis",initialState:jce,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Nr()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Nr()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Nr()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Nr()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Nr()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Nr()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=MR(MR({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:Lce,removeXAxis:Fce,addYAxis:Bce,removeYAxis:$ce,addZAxis:Efe,removeZAxis:_fe,updateYAxisWidth:Uce}=T5.actions,zce=T5.reducer,Hce=H([Hn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Wce=H([Hce,El,_l],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),wN=()=>Ae(Wce),Vce=()=>Ae(Eae);function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yce=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=jR(jR({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},tm(i)),FT(i)),o;return S.isValidElement(i)?o=S.cloneElement(i,a):typeof i=="function"?o=i(a):o=S.createElement(p5,a),S.createElement(Hi,{className:"recharts-active-dot"},o)};function Xce(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=Ae(lm),a=Vce();if(e==null||a==null)return null;var o=e.find(l=>a.includes(l.payload));return Cn(o)?null:Yce({point:o,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var Qce={},N5=Ki({name:"errorBars",initialState:Qce,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Cfe,replaceErrorBar:kfe,removeErrorBar:Pfe}=N5.actions,Jce=N5.reducer,Zce=["children"];function eue(t,e){if(t==null)return{};var n,r,i=tue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rue=S.createContext(nue);function iue(t){var{children:e}=t,n=eue(t,Zce);return S.createElement(rue.Provider,{value:n},e)}function O5(t,e){var n,r,i=Ae(c=>kl(c,t)),s=Ae(c=>Pl(c,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:li.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ci.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function sue(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=wN(),{needClipX:s,needClipY:a,needClip:o}=O5(e,n);if(!o)return null;var{x:l,y:c,width:d,height:h}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:s?l:l-d/2,y:a?c:c-h/2,width:s?d:d*2,height:a?h:h*2}))}var I5=t=>{var{chartData:e}=t,n=tn(),r=qi();return S.useEffect(()=>r?()=>{}:(n(iR(e)),()=>{n(iR(void 0))}),[e,n,r]),null},LR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},D5=Ki({name:"brush",initialState:LR,reducers:{setBrushSettings(t,e){return e.payload==null?LR:e.payload}}}),{setBrushSettings:Tfe}=D5.actions,aue=D5.reducer;function oue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=cue(t,"string");return typeof e=="symbol"?e:e+""}function cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xN{static create(e){return new xN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}oue(xN,"EPS",1e-4);function uue(t){return(t%180+180)%180}var due=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=uue(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},hue={dots:[],areas:[],lines:[]},M5=Ki({name:"referenceElements",initialState:hue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=nl(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=nl(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=nl(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Nfe,removeDot:Ofe,addArea:Ife,removeArea:Dfe,addLine:Mfe,removeLine:Rfe}=M5.actions,fue=M5.reducer,pue=S.createContext(void 0),mue=t=>{var{children:e}=t,[n]=S.useState("".concat(wv("recharts"),"-clip")),r=wN();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return S.createElement(pue.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function cm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function R5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function gue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return due(r,n)}function vue(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function k1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function yue(t,e){return R5(t,e+1)}function bue(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,c=1,d=a,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:R5(r,c)};var v=l,b,y=()=>(b===void 0&&(b=n(g,v)),b),x=g.coordinate,w=l===0||k1(t,x,y,d,o);w||(l=0,d=a,c+=1),w&&(d=x+t*(y()/2+i),l+=c)},f;c<=s.length;)if(f=h(),f)return f.v;return[]}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){wue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wue(t,e,n){return(e=xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xue(t){var e=Sue(t,"string");return typeof e=="symbol"?e:e+""}function Sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aue(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(f){var p=s[f],g,v=()=>(g===void 0&&(g=n(p,f)),g);if(f===a-1){var b=t*(p.coordinate+t*v()/2-l);s[f]=p=mr(mr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[f]=p=mr(mr({},p),{},{tickCoord:p.coordinate});var y=k1(t,p.tickCoord,v,o,l);y&&(l=p.tickCoord-t*(v()/2+i),s[f]=mr(mr({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function Eue(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var d=r[o-1],h=n(d,o-1),f=t*(d.coordinate+t*h/2-c);a[o-1]=d=mr(mr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=k1(t,d.tickCoord,()=>h,l,c);p&&(c=d.tickCoord-t*(h/2+i),a[o-1]=mr(mr({},d),{},{isShow:!0}))}for(var g=s?o-1:o,v=function(x){var w=a[x],_,E=()=>(_===void 0&&(_=n(w,x)),_);if(x===0){var k=t*(w.coordinate-t*E()/2-l);a[x]=w=mr(mr({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else a[x]=w=mr(mr({},w),{},{tickCoord:w.coordinate});var O=k1(t,w.tickCoord,E,l,c);O&&(l=w.tickCoord+t*(E()/2+i),a[x]=mr(mr({},w),{},{isShow:!0}))},b=0;b<g;b++)v(b);return a}function SN(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:d,angle:h}=t;if(!i||!i.length||!r)return[];if(_e(l)||Sh.isSsr){var f;return(f=yue(i,_e(l)?l:0))!==null&&f!==void 0?f:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",v=d&&g==="width"?Vg(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(w,_)=>{var E=typeof c=="function"?c(w.value,_):w.value;return g==="width"?gue(Vg(E,{fontSize:e,letterSpacing:n}),v,h):Vg(E,{fontSize:e,letterSpacing:n})[g]},y=i.length>=2?br(i[1].coordinate-i[0].coordinate):1,x=vue(s,y,g);return l==="equidistantPreserveStart"?bue(y,x,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Eue(y,x,b,i,a,l==="preserveStartEnd"):p=Aue(y,x,b,i,a),p.filter(w=>w.isShow))}var _ue=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(n?r:0);return Math.round(c)}return 0},Cue=["axisLine","width","height","className","hide","ticks"],kue=["viewBox"],Pue=["viewBox"];function Jk(t,e){if(t==null)return{};var n,r,i=Tue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(null,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e,n){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Due(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=An(An(An({},l),As(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);c=An(An({},c),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);c=An(An({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return S.createElement("line",ph({},c,{className:Ze("recharts-cartesian-axis-line",ch(o,"className"))}))}function Mue(t,e,n,r,i,s,a,o,l){var c,d,h,f,p,g,v=o?-1:1,b=t.tickSize||a,y=_e(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":c=d=t.coordinate,f=n+ +!o*i,h=f-v*b,g=h-v*l,p=y;break;case"left":h=f=t.coordinate,d=e+ +!o*r,c=d-v*b,p=c-v*l,g=y;break;case"right":h=f=t.coordinate,d=e+ +o*r,c=d+v*b,p=c+v*l,g=y;break;default:c=d=t.coordinate,f=n+ +o*i,h=f+v*b,g=h+v*l,p=y;break}return{line:{x1:c,y1:h,x2:d,y2:f},tick:{x:p,y:g}}}function Rue(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function jue(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Lue(t){var{option:e,tickProps:n,value:r}=t,i,s=Ze(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,An(An({},n),{},{className:s}));else if(typeof e=="function")i=e(An(An({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ze(a,e==null?void 0:e.className)),i=S.createElement(hA,ph({},n,{className:a}),r)}return i}function Fue(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:s,unit:a,padding:o,tickTextProps:l,orientation:c,mirror:d,x:h,y:f,width:p,height:g,tickSize:v,tickMargin:b,fontSize:y,letterSpacing:x,getTicksConfig:w,events:_}=t,E=SN(An(An({},w),{},{ticks:e}),y,x),k=Rue(c,d),O=jue(c,d),T=As(w),N=tm(n),I={};typeof r=="object"&&(I=r);var D=An(An({},T),{},{fill:"none"},I),M=E.map((F,K)=>{var{line:Q,tick:Y}=Mue(F,h,f,p,g,c,v,d,b),U=An(An(An(An({textAnchor:k,verticalAnchor:O},T),{},{stroke:"none",fill:i},N),Y),{},{index:K,payload:F,visibleTicksCount:E.length,tickFormatter:s,padding:o},l);return S.createElement(Hi,ph({className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},p4(_,F,K)),r&&S.createElement("line",ph({},D,Q,{className:Ze("recharts-cartesian-axis-tick-line",ch(r,"className"))})),n&&S.createElement(Lue,{option:n,tickProps:U,value:"".concat(typeof s=="function"?s(F.value,K):F.value).concat(a||"")}))});return M.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},M):null}var Bue=S.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o}=t,l=Jk(t,Cue),[c,d]=S.useState(""),[h,f]=S.useState(""),p=S.useRef(null);S.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return _ue({ticks:p.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var g=S.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var y=b[0];if(y){var x=window.getComputedStyle(y),w=x.fontSize,_=x.letterSpacing;(w!==c||_!==h)&&(d(w),f(_))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:S.createElement(Hi,{className:Ze("recharts-cartesian-axis",s),ref:g},S.createElement(Due,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:As(t)}),S.createElement(Fue,{ticks:o,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:c,letterSpacing:h,getTicksConfig:t,events:l}),S.createElement(Hoe,{x:t.x,y:t.y,width:t.width,height:t.height},S.createElement(Zoe,{label:t.label,labelRef:t.labelRef}),t.children))}),$ue=S.memo(Bue,(t,e)=>{var{viewBox:n}=t,r=Jk(t,kue),{viewBox:i}=e,s=Jk(e,Pue);return cm(n,i)&&cm(r,s)}),EN=S.forwardRef((t,e)=>{var n=xr(t,AN);return S.createElement($ue,ph({},n,{ref:e}))});EN.displayName="CartesianAxis";var Uue=["x1","y1","x2","y2","key"],zue=["offset"],Hue=["xAxisId","yAxisId"],Wue=["xAxisId","yAxisId"];function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=Gue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gue(t){var e=Kue(t,"string");return typeof e=="symbol"?e:e+""}function Kue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(null,arguments)}function P1(t,e){if(t==null)return{};var n,r,i=que(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function que(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yue=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=t;return S.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j5(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:o}=e,l=P1(e,Uue),c=As(l),{offset:d}=c,h=P1(c,zue);n=S.createElement("line",Du({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function Xue(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=P1(t,Hue),l=i.map((c,d)=>{var h=vr(vr({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(d),index:d});return j5(r,h)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Que(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=P1(t,Wue),l=i.map((c,d)=>{var h=vr(vr({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(d),index:d});return j5(r,h)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Jue(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var p=!c[f+1],g=p?i+a-h:c[f+1]-h;if(g<=0)return null;var v=f%e.length;return S.createElement("rect",{key:"react-".concat(f),y:h,x:r,height:g,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Zue(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==c[0]&&c.unshift(0);var d=c.map((h,f)=>{var p=!c[f+1],g=p?i+a-h:c[f+1]-h;if(g<=0)return null;var v=f%n.length;return S.createElement("rect",{key:"react-".concat(f),x:h,y:s,width:g,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ede=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return vU(SN(vr(vr(vr({},AN),n),{},{ticks:yU(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},tde=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return vU(SN(vr(vr(vr({},AN),n),{},{ticks:yU(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},nde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function L5(t){var e=NU(),n=OU(),r=TU(),i=vr(vr({},xr(t,nde)),{},{x:_e(t.x)?t.x:r.left,y:_e(t.y)?t.y:r.top,width:_e(t.width)?t.width:r.width,height:_e(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,g=qi(),v=Ae(N=>XM(N,"xAxis",s,g)),b=Ae(N=>XM(N,"yAxis",a,g));if(!_e(c)||c<=0||!_e(d)||d<=0||!_e(o)||o!==+o||!_e(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||ede,x=i.horizontalCoordinatesGenerator||tde,{horizontalPoints:w,verticalPoints:_}=i;if((!w||!w.length)&&typeof x=="function"){var E=f&&f.length,k=x({yAxis:b?vr(vr({},b),{},{ticks:E?f:b.ticks}):void 0,width:e,height:n,offset:r},E?!0:h);o1(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!_||!_.length)&&typeof y=="function"){var O=p&&p.length,T=y({xAxis:v?vr(vr({},v),{},{ticks:O?p:v.ticks}):void 0,width:e,height:n,offset:r},O?!0:h);o1(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(_=T)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(Yue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(Jue,Du({},i,{horizontalPoints:w})),S.createElement(Zue,Du({},i,{verticalPoints:_})),S.createElement(Xue,Du({},i,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),S.createElement(Que,Du({},i,{offset:r,verticalPoints:_,xAxis:v,yAxis:b})))}L5.displayName="CartesianGrid";var F5=(t,e,n,r)=>S6(t,"xAxis",e,r),B5=(t,e,n,r)=>x6(t,"xAxis",e,r),$5=(t,e,n,r)=>S6(t,"yAxis",n,r),U5=(t,e,n,r)=>x6(t,"yAxis",n,r),rde=H([ut,F5,$5,B5,U5],(t,e,n,r,i)=>cu(t,"xAxis")?Pk(e,r,!1):Pk(n,i,!1)),ide=(t,e,n,r,i)=>i;function sde(t){return t.type==="line"}var ade=H([t6,ide],(t,e)=>t.filter(sde).find(n=>n.id===e)),ode=H([ut,F5,$5,B5,U5,ade,rde,T2],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:h,data:f}=s,p;if(f!=null&&f.length>0?p=f:p=l==null?void 0:l.slice(c,d+1),p!=null)return Nde({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:a,displayedData:p})}});function lde(t){var e=tm(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var cde=["id"],ude=["type","layout","connectNulls","needClip"],dde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=pde(t,"string");return typeof e=="symbol"?e:e+""}function pde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _N(t,e){if(t==null)return{};var n,r,i=mde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(null,arguments)}var gde=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:$S(n,e),payload:t}]};function vde(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:$S(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:l}}}var z5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function yde(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var bde=(t,e,n)=>{var r=n.reduce((h,f)=>h+f);if(!r)return z5(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>s){o=[...n.slice(0,l),s-c];break}var d=o.length%2===0?[0,a]:[a];return[...yde(n,i),...o,...d].map(h=>"".concat(h,"px")).join(", ")};function wde(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Ze("recharts-line-dot",typeof t!="boolean"?t.className:"");n=S.createElement(p5,mh({},e,{className:r}))}return n}function xde(t,e){return t==null?!1:e?!0:t.length===1}function Sde(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!xde(n,i))return null;var{id:o}=r,l=_N(r,cde),c=S5(i),d=As(l),h=XX(i),f=n.map((g,v)=>{var b=Di(Di(Di({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:n});return wde(i,b)}),p={clipPath:a?"url(#clipPath-".concat(c?"":"dots-").concat(e,")"):void 0};return S.createElement(Hi,mh({className:"recharts-line-dots",key:"dots"},p),f)}function Ade(t){var{showLabels:e,children:n,points:r}=t,i=S.useMemo(()=>r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:0,height:0};return Di(Di({},a),{},{value:s.value,payload:s.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return S.createElement(ale,{value:e?i:null},n)}function zR(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:l,needClip:c}=s,d=_N(s,ude),h=Di(Di({},jr(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(i2,mh({},h,{pathRef:n})),S.createElement(Sde,{points:r,clipPathId:e,props:s}))}function Ede(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function _de(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:g,onAnimationEnd:v,onAnimationStart:b}=n,y=i.current,x=qS(n,"recharts-line-"),[w,_]=S.useState(!1),E=!w,k=S.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),O=S.useCallback(()=>{typeof b=="function"&&b(),_(!0)},[b]),T=Ede(r.current),N=s.current;return S.createElement(Ade,{points:a,showLabels:E},n.children,S.createElement(KS,{animationId:x,begin:c,duration:d,isActive:l,easing:h,onAnimationEnd:k,onAnimationStart:O,key:x},I=>{var D=yr(N,T+N,I),M=Math.min(D,T),F;if(l)if(o){var K="".concat(o).split(/[,\s]+/gim).map(U=>parseFloat(U));F=bde(M,T,K)}else F=z5(T,M);else F=o==null?void 0:String(o);if(y){var Q=y.length/a.length,Y=I===1?a:a.map((U,z)=>{var W=Math.floor(z*Q);if(y[W]){var ne=y[W];return Di(Di({},U),{},{x:yr(ne.x,U.x,I),y:yr(ne.y,U.y,I)})}return f?Di(Di({},U),{},{x:yr(p*2,U.x,I),y:yr(g/2,U.y,I)}):Di(Di({},U),{},{x:U.x,y:U.y})});return i.current=Y,S.createElement(zR,{props:n,points:Y,clipPathId:e,pathRef:r,strokeDasharray:F})}return I>0&&T>0&&(i.current=a,s.current=M),S.createElement(zR,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:F})}),S.createElement(f5,{label:n.label}))}function Cde(t){var{clipPathId:e,props:n}=t,r=S.useRef(null),i=S.useRef(0),s=S.useRef(null);return S.createElement(_de,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var kde=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Wt(t.payload,e)});class Pde extends S.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:l,width:c,height:d,id:h,needClip:f}=this.props;if(e)return null;var p=Ze("recharts-line",i),g=h,{r:v,strokeWidth:b}=lde(n),y=S5(n),x=v*2+b;return S.createElement(S.Fragment,null,S.createElement(Hi,{className:p},f&&S.createElement("defs",null,S.createElement(sue,{clipPathId:g,xAxisId:s,yAxisId:a}),!y&&S.createElement("clipPath",{id:"clipPath-dots-".concat(g)},S.createElement("rect",{x:l-x/2,y:o-x/2,width:c+x,height:d+x}))),S.createElement(iue,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:kde,errorBarOffset:0},S.createElement(Cde,{props:this.props,clipPathId:g}))),S.createElement(Xce,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var H5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Sh.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Tde(t){var e=xr(t,H5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:g,id:v}=e,b=_N(e,dde),{needClip:y}=O5(p,g),x=wN(),w=r2(),_=qi(),E=Ae(I=>ode(I,p,g,_,v));if(w!=="horizontal"&&w!=="vertical"||E==null||x==null)return null;var{height:k,width:O,x:T,y:N}=x;return S.createElement(Pde,mh({},b,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:c,label:h,legendType:f,xAxisId:p,yAxisId:g,points:E,layout:w,height:k,width:O,left:T,top:N,needClip:y}))}function Nde(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((c,d)=>{var h=Wt(c,a);if(e==="horizontal"){var f=jD({axis:n,ticks:i,bandSize:o,entry:c,index:d}),p=Cn(h)?null:r.scale(h);return{x:f,y:p,value:h,payload:c}}var g=Cn(h)?null:n.scale(h),v=jD({axis:r,ticks:s,bandSize:o,entry:c,index:d});return g==null||v==null?null:{x:g,y:v,value:h,payload:c}}).filter(Boolean)}function Ode(t){var e=xr(t,H5),n=qi();return S.createElement(C5,{id:e.id,type:"line"},r=>S.createElement(S.Fragment,null,S.createElement(qle,{legendPayload:gde(e)}),S.createElement(E5,{fn:vde,args:e}),S.createElement(oce,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),S.createElement(Tde,mh({},e,{id:r}))))}var W5=S.memo(Ode);W5.displayName="Line";var Ide=["dangerouslySetInnerHTML","ticks"],Dde=["id"],Mde=["domain"],Rde=["domain"];function Zk(){return Zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zk.apply(null,arguments)}function T1(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lde(t){var e=tn();return S.useLayoutEffect(()=>(e(Lce(t)),()=>{e(Fce(t))}),[t,e]),null}var Fde=t=>{var{xAxisId:e,className:n}=t,r=Ae(SU),i=qi(),s="xAxis",a=Ae(b=>km(b,s,e,i)),o=Ae(b=>w6(b,s,e,i)),l=Ae(b=>gse(b,e)),c=Ae(b=>Sse(b,e)),d=Ae(b=>Jz(b,e));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:f}=t,p=T1(t,Ide),{id:g}=d,v=T1(d,Dde);return S.createElement(EN,Zk({},p,v,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:Ze("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o}))},Bde={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,height:li.height,hide:!1,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tickCount:li.tickCount,type:li.type,xAxisId:0},$de=t=>{var e,n,r,i,s,a=xr(t,Bde);return S.createElement(S.Fragment,null,S.createElement(Lde,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),S.createElement(Fde,a))},Ude=(t,e)=>{var{domain:n}=t,r=T1(t,Mde),{domain:i}=e,s=T1(e,Rde);return cm(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:cm({domain:n},{domain:i}):!1},V5=S.memo($de,Ude);V5.displayName="XAxis";var zde=["dangerouslySetInnerHTML","ticks"],Hde=["id"],Wde=["domain"],Vde=["domain"];function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eP.apply(null,arguments)}function N1(t,e){if(t==null)return{};var n,r,i=Gde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kde(t){var e=tn();return S.useLayoutEffect(()=>(e(Bce(t)),()=>{e($ce(t))}),[t,e]),null}var qde=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=S.useRef(null),a=S.useRef(null),o=Ae(SU),l=qi(),c=tn(),d="yAxis",h=Ae(E=>km(E,d,e,l)),f=Ae(E=>_se(E,e)),p=Ae(E=>Ese(E,e)),g=Ae(E=>w6(E,d,e,l)),v=Ae(E=>Zz(E,e));if(S.useLayoutEffect(()=>{if(!(r!=="auto"||!f||pN(i)||S.isValidElement(i)||v==null)){var E=s.current;if(E){var k=E.getCalculatedWidth();Math.round(f.width)!==Math.round(k)&&c(Uce({id:e,width:k}))}}},[g,f,c,i,e,r,v]),f==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:y}=t,x=N1(t,zde),{id:w}=v,_=N1(v,Hde);return S.createElement(EN,eP({},x,_,{ref:s,labelRef:a,scale:h,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Ze("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:g}))},Yde={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,hide:!1,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tickCount:ci.tickCount,type:ci.type,width:ci.width,yAxisId:0},Xde=t=>{var e,n,r,i,s,a=xr(t,Yde);return S.createElement(S.Fragment,null,S.createElement(Kde,{interval:(e=a.interval)!==null&&e!==void 0?e:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(i=a.minTickGap)!==null&&i!==void 0?i:5,tick:(s=a.tick)!==null&&s!==void 0?s:!0,tickFormatter:a.tickFormatter}),S.createElement(qde,a))},Qde=(t,e)=>{var{domain:n}=t,r=N1(t,Wde),{domain:i}=e,s=N1(e,Vde);return cm(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:cm({domain:n},{domain:i}):!1},G5=S.memo(Xde,Qde);G5.displayName="YAxis";var Jde={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=S;function Zde(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ehe=typeof Object.is=="function"?Object.is:Zde,the=nb.useSyncExternalStore,nhe=nb.useRef,rhe=nb.useEffect,ihe=nb.useMemo,she=nb.useDebugValue;Jde.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=nhe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ihe(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,ehe(d,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(d=p,g):(d=p,h=v)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=the(t,s[0],s[1]);return rhe(function(){a.hasValue=!0,a.value=o},[o]),she(o),o};function ahe(t){t()}function ohe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ahe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var HR={notify(){},get:()=>[]};function lhe(t,e){let n,r=HR,i=0,s=!1;function a(v){d();const b=r.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),h())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(l),r=ohe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HR)}function f(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var che=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uhe=che(),dhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hhe=dhe(),fhe=()=>uhe||hhe?S.useLayoutEffect:S.useEffect,phe=fhe(),FE=Symbol.for("react-redux-context"),BE=typeof globalThis<"u"?globalThis:{};function mhe(){if(!S.createContext)return{};const t=BE[FE]??(BE[FE]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var ghe=mhe();function vhe(t){const{children:e,context:n,serverState:r,store:i}=t,s=S.useMemo(()=>{const l=lhe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=S.useMemo(()=>i.getState(),[i]);phe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||ghe;return S.createElement(o.Provider,{value:s},e)}var yhe=vhe,bhe=(t,e)=>e,CN=H([bhe,ut,qz,Pn,B6,Tl,Oae,Hn],jae),kN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},K5=Es("mouseClick"),q5=H0();q5.startListening({actionCreator:K5,effect:(t,e)=>{var n=t.payload,r=CN(e.getState(),kN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Fse({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var tP=Es("mouseMove"),Y5=H0();Y5.startListening({actionCreator:tP,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=sN(r,r.tooltip.settings.shared),s=CN(r,kN(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(N6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(T6()))}});var WR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},X5=Ki({name:"rootProps",initialState:WR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:WR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),whe=X5.reducer,{updateOptions:xhe}=X5.actions,Q5=Ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:She}=Q5.actions,Ahe=Q5.reducer,J5=Es("keyDown"),Z5=Es("focus"),PN=H0();PN.startListening({actionCreator:J5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(aN(i,Tm(n))),o=Tl(n);if(s==="Enter"){var l=A1(n,"axis","hover",String(i.index));e.dispatch(Kk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Tse(n),d=c==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,f=a+h*d;if(!(o==null||f>=o.length||f<0)){var p=A1(n,"axis","hover",String(f));e.dispatch(Kk({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});PN.startListening({actionCreator:Z5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=A1(n,"axis","hover",String(s));e.dispatch(Kk({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var es=Es("externalEvent"),eH=H0();eH.startListening({actionCreator:es,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:xae(n),activeDataKey:bae(n),activeIndex:lm(n),activeLabel:z6(n),activeTooltipIndex:lm(n),isTooltipActive:Sae(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Ehe=H([Pm],t=>t.tooltipItemPayloads),_he=H([Ehe,eb,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),tH=Es("touchMove"),nH=H0();nH.startListening({actionCreator:tH,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=sN(r,r.tooltip.settings.shared);if(i==="axis"){var s=CN(r,kN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(N6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(wU),d=(a=l.getAttribute(xU))!==null&&a!==void 0?a:void 0,h=_he(e.getState(),c,d);e.dispatch(P6({activeDataKey:d,activeIndex:c,activeCoordinate:h}))}}});var Che=W4({brush:aue,cartesianAxis:zce,chartData:Qae,errorBars:Jce,graphicalItems:ace,layout:TZ,legend:kee,options:Gae,polarAxis:vle,polarOptions:Ahe,referenceElements:fue,rootProps:whe,tooltip:Bse}),khe=function(e){return eZ({reducer:Che,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([q5.middleware,Y5.middleware,PN.middleware,eH.middleware,nH.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(nU({type:"raf"}))},devTools:Sh.devToolsEnabled})};function rH(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=qi(),s=S.useRef(null);if(i)return n;s.current==null&&(s.current=khe(e));var a=qT;return S.createElement(yhe,{context:a,store:s.current},n)}function iH(t){var{layout:e,margin:n}=t,r=tn(),i=qi();return S.useEffect(()=>{i||(r(CZ(e)),r(_Z(n)))},[r,i,e,n]),null}function sH(t){var e=tn();return S.useEffect(()=>{e(xhe(t))},[e,t]),null}var Phe=["children"];function The(t,e){if(t==null)return{};var n,r,i=Nhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(null,arguments)}var Ohe={width:"100%",height:"100%",display:"block"},Ihe=S.forwardRef((t,e)=>{var n=NU(),r=OU(),i=RU();if(!im(n)||!im(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,c,d;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,S.createElement(V3,O1({},a,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Ohe,ref:e}),s)}),Dhe=t=>{var{children:e}=t,n=Ae(WS);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return S.createElement(V3,{width:r,height:i,x:a,y:s},e)},VR=S.forwardRef((t,e)=>{var{children:n}=t,r=The(t,Phe),i=qi();return i?S.createElement(Dhe,null,n):S.createElement(Ihe,O1({ref:e},r),n)});function Mhe(){var t=tn(),[e,n]=S.useState(null),r=Ae(tee);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ai(s)&&s!==r&&t(PZ(s))}},[e,t,r]),n}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=Lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(null,arguments)}var Bhe=()=>(aoe(),null);function I1(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var $he=S.forwardRef((t,e)=>{var n,r,i=S.useRef(null),[s,a]=S.useState({containerWidth:I1((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:I1((r=t.style)===null||r===void 0?void 0:r.height)}),o=S.useCallback((c,d)=>{a(h=>{var f=Math.round(c),p=Math.round(d);return h.containerWidth===f&&h.containerHeight===p?h:{containerWidth:f,containerHeight:p}})},[]),l=S.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();o(d,h);var f=g=>{var{width:v,height:b}=g[0].contentRect;o(v,b)},p=new ResizeObserver(f);p.observe(c),i.current=p}},[e,o]);return S.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),S.createElement(S.Fragment,null,S.createElement(GS,{width:s.containerWidth,height:s.containerHeight}),S.createElement("div",gh({ref:l},t)))}),Uhe=S.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=S.useState({containerWidth:I1(n),containerHeight:I1(r)}),a=S.useCallback((l,c)=>{s(d=>{var h=Math.round(l),f=Math.round(c);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),o=S.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();a(c,d)}},[e,a]);return S.createElement(S.Fragment,null,S.createElement(GS,{width:i.containerWidth,height:i.containerHeight}),S.createElement("div",gh({ref:o},t)))}),zhe=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return S.createElement(S.Fragment,null,S.createElement(GS,{width:n,height:r}),S.createElement("div",gh({ref:e},t)))}),Hhe=S.forwardRef((t,e)=>{var{width:n,height:r}=t;return gl(n)||gl(r)?S.createElement(Uhe,gh({},t,{ref:e})):S.createElement(zhe,gh({},t,{ref:e}))});function Whe(t){return t===!0?$he:Hhe}var Vhe=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:b,width:y,responsive:x,dispatchTouchEvents:w=!0}=t,_=S.useRef(null),E=tn(),[k,O]=S.useState(null),[T,N]=S.useState(null),I=Mhe(),D=n2(),M=(D==null?void 0:D.width)>0?D.width:y,F=(D==null?void 0:D.height)>0?D.height:i,K=S.useCallback(R=>{I(R),typeof e=="function"&&e(R),O(R),N(R),R!=null&&(_.current=R)},[I,e,O,N]),Q=S.useCallback(R=>{E(K5(R)),E(es({handler:s,reactEvent:R}))},[E,s]),Y=S.useCallback(R=>{E(tP(R)),E(es({handler:c,reactEvent:R}))},[E,c]),U=S.useCallback(R=>{E(T6()),E(es({handler:d,reactEvent:R}))},[E,d]),z=S.useCallback(R=>{E(tP(R)),E(es({handler:h,reactEvent:R}))},[E,h]),W=S.useCallback(()=>{E(Z5())},[E]),ne=S.useCallback(R=>{E(J5(R.key))},[E]),re=S.useCallback(R=>{E(es({handler:a,reactEvent:R}))},[E,a]),X=S.useCallback(R=>{E(es({handler:o,reactEvent:R}))},[E,o]),J=S.useCallback(R=>{E(es({handler:l,reactEvent:R}))},[E,l]),ue=S.useCallback(R=>{E(es({handler:f,reactEvent:R}))},[E,f]),Z=S.useCallback(R=>{E(es({handler:v,reactEvent:R}))},[E,v]),le=S.useCallback(R=>{w&&E(tH(R)),E(es({handler:g,reactEvent:R}))},[E,w,g]),ge=S.useCallback(R=>{E(es({handler:p,reactEvent:R}))},[E,p]),L=Whe(x);return S.createElement(q6.Provider,{value:k},S.createElement(rQ.Provider,{value:T},S.createElement(L,{width:M??(b==null?void 0:b.width),height:F??(b==null?void 0:b.height),className:Ze("recharts-wrapper",r),style:Rhe({position:"relative",cursor:"default",width:M,height:F},b),onClick:Q,onContextMenu:re,onDoubleClick:X,onFocus:W,onKeyDown:ne,onMouseDown:J,onMouseEnter:Y,onMouseLeave:U,onMouseMove:z,onMouseUp:ue,onTouchEnd:ge,onTouchMove:le,onTouchStart:Z,ref:K},S.createElement(Bhe,null),n)))}),Ghe=["width","height","responsive","children","className","style","compact","title","desc"];function Khe(t,e){if(t==null)return{};var n,r,i=qhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aH=S.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:d}=t,h=Khe(t,Ghe),f=As(h);return l?S.createElement(S.Fragment,null,S.createElement(GS,{width:n,height:r}),S.createElement(VR,{otherAttributes:f,title:c,desc:d},s)):S.createElement(Vhe,{className:a,style:o,width:n,height:r,responsive:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(VR,{otherAttributes:f,title:c,desc:d,ref:e},S.createElement(mue,null,s)))});function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(null,arguments)}var Yhe={top:5,right:5,bottom:5,left:5},Xhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yhe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Qhe=S.forwardRef(function(e,n){var r,i=xr(e.categoricalChartProps,Xhe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return S.createElement(rH,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},S.createElement(I5,{chartData:c.data}),S.createElement(iH,{layout:i.layout,margin:i.margin}),S.createElement(sH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(aH,nP({},i,{ref:n})))}),Jhe=["axis"],Zhe=S.forwardRef((t,e)=>S.createElement(Qhe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jhe,tooltipPayloadSearcher:X6,categoricalChartProps:t,ref:e}));function efe(t){var e=tn();return S.useEffect(()=>{e(She(t))},[e,t]),null}var tfe=["layout"];function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(null,arguments)}function nfe(t,e){if(t==null)return{};var n,r,i=rfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ife={top:5,right:5,bottom:5,left:5},sfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ife,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},afe=S.forwardRef(function(e,n){var r,i=xr(e.categoricalChartProps,sfe),{layout:s}=i,a=nfe(i,tfe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return S.createElement(rH,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},S.createElement(I5,{chartData:i.data}),S.createElement(iH,{layout:s,margin:i.margin}),S.createElement(sH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(efe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(aH,rP({},a,{ref:n})))}),ofe=["item"],lfe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cfe=S.forwardRef((t,e)=>{var n=xr(t,lfe);return S.createElement(afe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ofe,tooltipPayloadSearcher:X6,categoricalChartProps:n,ref:e})});function ufe(){const t=new Date,e=t.getUTCMonth(),[n,r]=S.useState(e),i=S.useMemo(()=>{const L=ei(),R=H_(),$=t.getUTCFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((B,ae)=>{const se=new Date($,ae,1),ve=L.filter(xe=>{const Ge=new Date(xe.date);return Qd(Ge,se)}).reduce((xe,Ge)=>xe+(Number(Ge.amount)||0),0);let We=0;return ae===e&&(We=R.actual||0),{month:B,monthIndex:ae,income:We,spend:ve}})},[]),{byCategory:s,expenses:a,sum:o}=S.useMemo(()=>{const L=new Date(t.getUTCFullYear(),n,1),$=ei().filter(ae=>{const se=new Date(ae.date);return Qd(se,L)}),G={};let B=0;for(const ae of $){const se=Number(ae.amount)||0;B+=se;const fe=ae.category||"Uncategorized";G[fe]=(G[fe]||0)+se}return{sum:B,byCategory:G,expenses:$}},[n]),l=S.useMemo(()=>{const L=new Date(t.getUTCFullYear(),n,1),R=new Date(L.getUTCFullYear(),L.getUTCMonth()-1,1),G=ei().filter(ae=>{const se=new Date(ae.date);return Qd(se,R)});let B=0;for(const ae of G){const se=Number(ae.amount)||0;B+=se}return{sum:B,expenses:G}},[n]),[c,d]=S.useState(0);S.useEffect(()=>{const L=()=>{d(R=>R+1)};return window.addEventListener("storage",L),window.addEventListener("incomeUpdated",L),()=>{window.removeEventListener("storage",L),window.removeEventListener("incomeUpdated",L)}},[]);const h=S.useMemo(()=>H_(),[c]),f=o,p=h.actual||0,g=p-f,v=Object.entries(s).length>0?Object.entries(s).sort((L,R)=>R[1]-L[1])[0]:null,b=l.sum,y=b>0?(f-b)/b*100:0,x=L=>{const R=["#F4A261","#E07A3F","#8B5CF6","#F59E0B","#10B981","#EF4444","#EC4899","#14B8A6","#D97706","#DC2626"];return R[L%R.length]},w=S.useMemo(()=>Object.entries(s).map(([R,$])=>({name:R,value:Number($)||0,percentage:f>0?(Number($)||0)/f*100:0})).sort((R,$)=>$.value-R.value).map((R,$)=>({...R,color:x($)})),[s,f]),_=S.useMemo(()=>!w||w.length===0?[]:w.filter(R=>{const $=Number(R.value);return $!==0&&Number.isFinite($)}).map((R,$)=>({name:R.name||"Uncategorized",value:Math.abs(Number(R.value)),originalValue:Number(R.value),color:R.color||x($)})),[w]),E=_.length>0,k=S.useMemo(()=>{const L=new Date(t.getUTCFullYear(),n,1),R=new Date(L.getUTCFullYear(),L.getUTCMonth()+1,0).getUTCDate(),$=Array.from({length:R},(G,B)=>({day:B+1,value:0}));return a.forEach(G=>{const B=new Date(G.date);if(Number.isNaN(B.getTime()))return;const ae=B.getUTCDate();!Number.isFinite(ae)||ae<1||ae>R||($[ae-1].value+=Number(G.amount)||0)}),$},[a,n]),O=k.some(L=>L.value>0),T=a.length,N=l.expenses.length,I=new Date(t.getUTCFullYear(),n,1),D=new Date(I.getUTCFullYear(),I.getUTCMonth()+1,0).getUTCDate(),F=n===e?t.getUTCDate():D,K=F>0?f/F:0,Q=new Date(t.getUTCFullYear(),n-1,1),Y=new Date(Q.getUTCFullYear(),Q.getUTCMonth()+1,0).getUTCDate(),U=Y>0?b/Y:0,z=()=>{if(b===0)return f>0?"This is your first month with spending data.":"No spending data available for comparison.";const L=f-b,R=Math.abs(y);return L>0?`Spending is up by $${Math.abs(L).toFixed(0)} (+${R.toFixed(1)}%) compared to last month.`:L<0?`You spent $${Math.abs(L).toFixed(0)} (${R.toFixed(1)}%) less than last month.`:"Your spending matches last month exactly."},W=S.useMemo(()=>{const L={};for(const R of l.expenses){const $=Number(R.amount)||0,G=R.category||"Uncategorized";L[G]=(L[G]||0)+$}return L},[l.expenses]),ne=S.useMemo(()=>bh(),[]),[re,X]=S.useState([]),J={STARBUCKS:"Starbucks",UBER:"Uber","UBER *TRIP":"Uber",AMZN:"Amazon","AMAZON MKTPLACE":"Amazon",MCDONALDS:"McDonald's"},ue=L=>{if(!L)return L;const R=L.toUpperCase().trim();for(const[G,B]of Object.entries(J))if(R.includes(G))return B;let $=L.trim();return $=$.replace(/#\d+/g,""),$=$.replace(/\s+\d+$/,""),$=$.replace(/\s+/g," ").trim(),$},Z=L=>{if(!L||L.length===0)return[];const R={};L.forEach(G=>{const B=(G.description||"").trim();if(!B)return;const ae=ue(B),se=Math.abs(Number(G.amount)||0),fe=new Date(G.date);!isNaN(fe.getTime())&&se>0&&(R[ae]||(R[ae]=[]),R[ae].push({date:fe,amount:se}))});const $=[];return Object.entries(R).forEach(([G,B])=>{if(B.length<2)return;const ae=[...B].sort((fe,ve)=>fe.date-ve.date),se=[];ae.forEach(fe=>{let ve=!1;for(let We of se){const xe=We.reduce((gn,Nt)=>gn+Nt.amount,0)/We.length;if(Math.abs((fe.amount-xe)/xe)<=.1){We.push(fe),ve=!0;break}}ve||se.push([fe])}),se.forEach(fe=>{if(fe.length<2)return;const ve=[];for(let Nt=1;Nt<fe.length;Nt++){const Ps=(fe[Nt].date-fe[Nt-1].date)/(1e3*60*60*24);ve.push(Ps)}let We=0,xe=0;for(let Nt of ve)Nt>=6&&Nt<=8&&We++,Nt>=30&&Nt<=32&&xe++;const Ge=Math.ceil(ve.length/2);let gn=null;if(We>=Ge&&We>0?gn="weekly":xe>=Ge&&xe>0&&(gn="monthly"),gn){const Nt=fe.reduce((Ps,ln)=>Ps+ln.amount,0)/fe.length,Sr=fe[fe.length-1].date;$.push({merchant:G,averageAmount:Math.round(Nt*100)/100,frequency:gn,lastCharge:Sr})}})}),$.sort((G,B)=>B.lastCharge-G.lastCharge)};S.useEffect(()=>{const L=ei(),R=Z(L);X(R)},[a]),S.useEffect(()=>{const L=()=>{const R=ei(),$=Z(R);X($)};return window.addEventListener("storage",L),window.addEventListener("expensesUpdated",L),()=>{window.removeEventListener("storage",L),window.removeEventListener("expensesUpdated",L)}},[]);const le=S.useMemo(()=>{const L=[];if(v&&v[1]>0){const R=f>0?v[1]/f*100:0;L.push({icon:fq,text:`${v[0]} is your highest spending category this month (${R.toFixed(0)}%).`,type:"info"})}if(b>0&&v){const R=W[v[0]]||0;if(R>0){const $=(v[1]-R)/R*100;Math.abs($)>=10&&L.push({icon:$>0?sg:kb,text:`${v[0]} spending ${$>0?"increased":"decreased"} by ${Math.abs($).toFixed(0)}% compared to last month.`,type:$>0?"warning":"success"})}}if(ne.length>0&&f>0){const R=ne.reduce(($,G)=>$+(Number(G.limit)||0),0);if(R>0){const $=f/R*100;$>=70&&L.push({icon:cq,text:`You have used ${$.toFixed(0)}% of your monthly budget.`,type:$>=90?"warning":"info"})}}if(b>0&&Math.abs(y)>=5&&L.push({icon:y>0?sg:kb,text:`Overall spending is ${y>0?"up":"down"} ${Math.abs(y).toFixed(0)}% from last month.`,type:y>0?"warning":"success"}),b>0&&L.length<4)for(const[R,$]of Object.entries(s)){if(R===(v==null?void 0:v[0]))continue;const G=W[R]||0;if(G>0&&$>0){const B=($-G)/G*100;if(Math.abs(B)>=20){L.push({icon:B>0?sg:kb,text:`${R} spending ${B>0?"increased":"decreased"} by ${Math.abs(B).toFixed(0)}% compared to last month.`,type:B>0?"warning":"success"});break}}}return L.slice(0,4)},[v,s,W,f,b,y,ne]),ge=S.useMemo(()=>Math.max(...i.map(L=>Math.max(L.income,L.spend)),1),[i]);return m.jsx("div",{className:"dashboard-container dash",children:m.jsxs("div",{className:"grid",children:[m.jsxs("section",{className:"card col-12 monthly-overview-card",children:[m.jsx("h2",{children:"Monthly Overview"}),m.jsxs("div",{className:"monthly-bar-chart-container",children:[m.jsx("div",{className:"monthly-bar-chart-scroll",children:i.map((L,R)=>{const $=L.monthIndex===n,G=ge>0?L.income/ge*100:0,B=ge>0?L.spend/ge*100:0;return m.jsxs("div",{className:`monthly-bar-item ${$?"selected":""}`,onClick:()=>r(L.monthIndex),onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),r(L.monthIndex))},tabIndex:0,role:"button","aria-label":`Select ${L.month} month`,children:[m.jsx("div",{className:"monthly-bar-wrapper",children:m.jsxs("div",{className:"monthly-bar-stack",children:[m.jsx("div",{className:"monthly-bar-group",children:L.income>0&&m.jsx("div",{className:"monthly-bar-income",style:{height:`${G}%`},title:`Income: $${L.income.toFixed(2)}`})}),m.jsx("div",{className:"monthly-bar-group",children:L.spend>0&&m.jsx("div",{className:"monthly-bar-spend",style:{height:`${B}%`},title:`Spending: $${L.spend.toFixed(2)}`})})]})}),m.jsx("div",{className:"monthly-bar-label",children:L.month})]},R)})}),m.jsxs("div",{className:"monthly-bar-legend",children:[m.jsxs("div",{className:"legend-item",children:[m.jsx("div",{className:"legend-bar legend-income"}),m.jsx("span",{children:"Income"})]}),m.jsxs("div",{className:"legend-item",children:[m.jsx("div",{className:"legend-bar legend-spend"}),m.jsx("span",{children:"Spending"})]})]})]})]}),m.jsx("section",{className:"hero-summary-container col-12",children:m.jsxs("div",{className:"hero-summary-card",children:[m.jsx("div",{className:"hero-card-item",children:m.jsxs("div",{className:"hero-card-content",children:[m.jsx("div",{className:"hero-card-icon hero-card-icon-income",children:m.jsx(zg,{})}),m.jsxs("div",{className:"hero-card-right",children:[m.jsxs("div",{className:"hero-card-value",children:["$",p.toFixed(2)]}),m.jsx("div",{className:"hero-card-text",children:p>0?`You earned $${p.toFixed(2)} this month.`:"No income recorded this month."})]})]})}),m.jsx("div",{className:"hero-card-item",children:m.jsxs("div",{className:"hero-card-content",children:[m.jsx("div",{className:"hero-card-icon hero-card-icon-spend",children:m.jsx(gB,{})}),m.jsxs("div",{className:"hero-card-right",children:[m.jsxs("div",{className:"hero-card-value",children:["$",f.toFixed(2)]}),m.jsx("div",{className:"hero-card-text",children:p>0&&f>0?(()=>{const L=f/p*100;return L>100?`You spent ${L.toFixed(0)}% more than you earned.`:L>80?`You spent ${L.toFixed(0)}% of your income.`:`You spent ${L.toFixed(0)}% of your income.`})():f>0?`You spent $${f.toFixed(2)} this month.`:"No spending recorded this month."})]})]})}),m.jsx("div",{className:"hero-card-item",children:m.jsxs("div",{className:"hero-card-content",children:[m.jsx("div",{className:`hero-card-icon hero-card-icon-net ${g>=0?"hero-card-icon-positive":"hero-card-icon-negative"}`,children:g>=0?m.jsx(sg,{}):m.jsx(kb,{})}),m.jsxs("div",{className:"hero-card-right",children:[m.jsxs("div",{className:`hero-card-value ${g>=0?"positive":"negative"}`,children:["$",g>=0?"+":"",g.toFixed(2)]}),m.jsx("div",{className:"hero-card-text",children:g>0?`You saved $${g.toFixed(2)} this month.`:g<0?`You overspent by $${Math.abs(g).toFixed(2)}.`:"Income and spending are equal."})]})]})})]})}),m.jsxs("section",{className:"card col-6",children:[m.jsx("h3",{className:"chart-title",children:"Spending Breakdown"}),E?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"donut-chart-container",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"300px"},children:m.jsxs(cfe,{width:300,height:300,children:[m.jsx(P5,{data:_,dataKey:"value",nameKey:"name",cx:150,cy:150,innerRadius:60,outerRadius:100,paddingAngle:2,label:!1,children:_.map((L,R)=>m.jsx(dA,{fill:L.color},`cell-${R}-${L.name}`))}),m.jsx(cR,{formatter:(L,R,$)=>{var ae;const G=((ae=$.payload)==null?void 0:ae.originalValue)??L;return`${G<0?"-":""}$${Math.abs(G).toFixed(2)}`},labelFormatter:L=>L,contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text)"}})]})}),m.jsx("div",{className:"category-list",children:w.filter(L=>{const R=Number(L.value),$=R===0||!Number.isFinite(R);return L.name==="Income"?!0:!$}).map((L,R)=>m.jsxs("div",{className:"category-item",children:[m.jsx("div",{className:"category-dot",style:{backgroundColor:L.color}}),m.jsx("div",{className:"category-name",children:L.name}),m.jsxs("div",{className:"category-amount",children:["$",L.value.toFixed(2)]}),m.jsxs("div",{className:"category-percentage",children:[L.percentage.toFixed(0),"%"]})]},L.name))})]}):m.jsx("div",{className:"breakdown-empty",children:m.jsx("p",{className:"muted",children:"No category data yet."})})]}),m.jsxs("section",{className:"card col-6",children:[m.jsx("h3",{className:"chart-title",children:"Daily Spending Trend"}),O?m.jsx("div",{className:"daily-chart-container",children:m.jsx(Eee,{width:"100%",height:300,children:m.jsxs(Zhe,{data:k,children:[m.jsx(L5,{strokeDasharray:"3 3",vertical:!1}),m.jsx(V5,{dataKey:"day",tickLine:!1,axisLine:!1,tickFormatter:L=>L}),m.jsx(G5,{tickLine:!1,axisLine:!1,tickFormatter:L=>`$${L}`}),m.jsx(cR,{formatter:L=>`$${Number(L).toFixed(2)}`,cursor:{strokeDasharray:"3 3"},contentStyle:{backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text)"}}),m.jsx(W5,{type:"monotone",dataKey:"value",stroke:"#F4A261",strokeWidth:3,dot:{r:4,strokeWidth:2,stroke:"#fff",fill:"#F4A261"},activeDot:{r:5,fill:"#F4A261",stroke:"#fff",strokeWidth:2},name:"Spent"})]})})}):m.jsx("p",{className:"muted",children:"No data yet."})]}),m.jsxs("section",{className:"card col-12",children:[m.jsx("h3",{className:"chart-title",children:"This Month vs Last Month"}),m.jsxs("div",{className:"comparison-container",children:[m.jsxs("div",{className:"comparison-columns",children:[m.jsxs("div",{className:"comparison-column",children:[m.jsx("h4",{className:"comparison-column-title",children:"This Month"}),m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Total Spending"}),m.jsxs("div",{className:"comparison-value",children:["$",f.toFixed(2)]})]}),m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Transactions"}),m.jsx("div",{className:"comparison-value",children:T})]}),K>0&&m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Avg Daily Spend"}),m.jsxs("div",{className:"comparison-value",children:["$",K.toFixed(2)]})]})]}),m.jsxs("div",{className:"comparison-column",children:[m.jsx("h4",{className:"comparison-column-title",children:"Last Month"}),m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Total Spending"}),m.jsxs("div",{className:"comparison-value",children:["$",b.toFixed(2)]})]}),m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Transactions"}),m.jsx("div",{className:"comparison-value",children:N})]}),U>0&&m.jsxs("div",{className:"comparison-metric",children:[m.jsx("div",{className:"comparison-label",children:"Avg Daily Spend"}),m.jsxs("div",{className:"comparison-value",children:["$",U.toFixed(2)]})]})]})]}),m.jsx("p",{className:"comparison-summary",children:z()})]})]}),le.length>0&&m.jsxs("section",{className:"card col-12",children:[m.jsx("h3",{className:"chart-title",children:"Key Insights"}),m.jsx("div",{className:"insights-chips",children:le.map((L,R)=>{const $=L.icon;return m.jsxs("div",{className:`insight-chip insight-chip-${L.type}`,children:[m.jsx($,{className:"insight-chip-icon"}),m.jsx("span",{className:"insight-chip-text",children:L.text})]},R)})})]}),m.jsxs("section",{className:"card col-12",children:[m.jsx("h3",{className:"chart-title",children:"Subscriptions"}),re.length===0?m.jsx("p",{className:"muted",style:{padding:"20px 0",textAlign:"center"},children:"No recurring payments detected yet."}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginTop:"16px"},children:re.map((L,R)=>{const $=new Date(L.lastCharge),G=new Date($);L.frequency==="weekly"?G.setDate(G.getDate()+7):L.frequency==="monthly"&&G.setMonth(G.getMonth()+1);const B=se=>se.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ae=G<=new Date(new Date().setDate(new Date().getDate()+7));return m.jsxs("div",{style:{padding:"20px",backgroundColor:"var(--card)",border:"1px solid var(--border)",borderRadius:"12px",display:"flex",flexDirection:"column",gap:"12px",transition:"all 0.2s ease"},onMouseEnter:se=>{se.currentTarget.style.borderColor="var(--primary)",se.currentTarget.style.boxShadow="0 2px 8px rgba(244, 162, 97, 0.15)"},onMouseLeave:se=>{se.currentTarget.style.borderColor="var(--border)",se.currentTarget.style.boxShadow="none"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"4px"},children:[m.jsx("h4",{style:{margin:0,fontSize:"16px",fontWeight:600,color:"var(--text)",flex:1},children:L.merchant}),m.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",backgroundColor:"rgba(244, 162, 97, 0.15)",borderRadius:"999px",fontSize:"11px",fontWeight:600,color:"var(--primary)",textTransform:"capitalize"},children:[m.jsx(Tq,{size:12}),L.frequency]})]}),m.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:"2px"},children:"Average Amount"}),m.jsxs("div",{style:{fontSize:"18px",fontWeight:700,color:"var(--text)"},children:["$",L.averageAmount.toFixed(2)]})]})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"12px",color:"var(--muted)",marginBottom:"4px"},children:"Next Expected Charge"}),m.jsxs("div",{style:{fontSize:"14px",fontWeight:500,color:ae?"var(--primary)":"var(--text)"},children:[B(G),ae&&m.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",padding:"2px 6px",backgroundColor:"rgba(244, 162, 97, 0.2)",borderRadius:"4px",color:"var(--primary)"},children:"Soon"})]})]})]},R)})})]})]})})}const dfe=()=>{const t=au(),[e,n]=S.useState(0),[r,i]=S.useState({monthlyIncome:"",monthlySavings:"",topCategories:[],wantsRecommendation:""}),s={Food:Oq,Bills:Eq,Travel:Cq,Shopping:Iq,Entertainment:wq,Transport:Rq,Healthcare:Aq,Education:mq},a=[{id:"monthlyIncome",question:"What's your monthly income?",type:"number",placeholder:"e.g., 3000",required:!0,icon:zg},{id:"monthlySavings",question:"How much would you like to save monthly?",type:"number",placeholder:"e.g., 500",required:!0,icon:zg},{id:"topCategories",question:"Which categories do you spend the most on?",type:"checkbox",options:["Food","Bills","Travel","Shopping","Entertainment","Transport","Healthcare","Education"],required:!1},{id:"wantsRecommendation",question:"Do you want Cashvelo to recommend a budget plan?",type:"radio",options:["Yes","No"],required:!0}],o=a.length,l=b=>{const{name:y,value:x,type:w,checked:_}=b.target;if(w==="checkbox"){const E=x;i(k=>({...k,topCategories:_?[...k.topCategories,E]:k.topCategories.filter(O=>O!==E)}))}else i(E=>({...E,[y]:x}))},c=()=>{const b=a[e];if(b.required){if(b.type==="checkbox"){if(r.topCategories.length===0&&e===2){n(y=>Math.min(y+1,o-1));return}}else if(!r[b.id])return}n(y=>Math.min(y+1,o-1))},d=()=>{n(b=>Math.max(b-1,0))},h=()=>{localStorage.setItem("userAnswers",JSON.stringify(r)),t("/dashboard")},f=()=>{localStorage.setItem("userAnswers",JSON.stringify(r)),t("/dashboard")},p=a[e],g=(e+1)/o*100,v=e===o-1;return m.jsxs("div",{className:"questionnaire-page",children:[m.jsx("div",{className:"bg-blob blob-one"}),m.jsx("div",{className:"bg-blob blob-two"}),m.jsx("div",{className:"questionnaire-container",children:m.jsxs("div",{className:"questionnaire-card",children:[m.jsxs("div",{className:"progress-container",children:[m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${g}%`}})}),m.jsxs("span",{className:"progress-text",children:["Step ",e+1," of ",o]})]}),m.jsxs("div",{className:"question-content",children:[p.icon&&m.jsx("div",{className:"question-icon-wrapper",children:m.jsx(p.icon,{className:"question-icon"})}),m.jsx("h2",{className:"question-title",children:p.question}),m.jsxs("div",{className:"question-input-wrapper",children:[p.type==="number"&&m.jsxs("div",{className:"input-with-icon",children:[m.jsx(zg,{className:"input-icon"}),m.jsx("input",{type:"number",name:p.id,value:r[p.id],onChange:l,placeholder:p.placeholder,className:"question-input",min:"0",step:"0.01"})]}),p.type==="checkbox"&&m.jsx("div",{className:"checkbox-group",children:p.options.map(b=>{const y=s[b];return m.jsxs("label",{className:"checkbox-label",children:[m.jsx("input",{type:"checkbox",value:b,checked:r.topCategories.includes(b),onChange:l,className:"checkbox-input"}),m.jsxs("div",{className:"checkbox-content",children:[y&&m.jsx(y,{className:"category-icon"}),m.jsx("span",{className:"checkbox-text",children:b})]}),r.topCategories.includes(b)&&m.jsx(oE,{className:"checkbox-check"})]},b)})}),p.type==="radio"&&m.jsx("div",{className:"radio-group",children:p.options.map(b=>m.jsxs("label",{className:"radio-label",children:[m.jsx("input",{type:"radio",name:p.id,value:b,checked:r[p.id]===b,onChange:l,className:"radio-input"}),m.jsxs("div",{className:"radio-content",children:[m.jsx("span",{className:"radio-text",children:b}),r[p.id]===b&&m.jsx(oE,{className:"radio-check"})]})]},b))})]})]}),m.jsxs("div",{className:"questionnaire-actions",children:[m.jsxs("div",{className:"action-buttons",children:[e>0&&m.jsxs("button",{type:"button",onClick:d,className:"btn-back",children:[m.jsx(uq,{className:"btn-icon"}),"Back"]}),v?m.jsxs("button",{type:"button",onClick:h,className:"btn-submit",disabled:p.required&&!r[p.id],children:["Complete Setup",m.jsx(oE,{className:"btn-icon"})]}):m.jsxs("button",{type:"button",onClick:c,className:"btn-next",disabled:p.required&&p.type!=="checkbox"&&!r[p.id],children:["Next",m.jsx(dq,{className:"btn-icon"})]})]}),m.jsx("button",{type:"button",onClick:f,className:"skip-link",children:"Skip for now"})]})]})})]})};function Zm({user:t,children:e}){return t?e:m.jsx(Fg,{to:"/login",replace:!0})}function eg({user:t,children:e}){return t?m.jsx(Fg,{to:"/dashboard",replace:!0}):e}const hfe=()=>{try{const t=JSON.parse(localStorage.getItem("user")||"null"),e=!!localStorage.getItem("authToken");if(t&&e)return t}catch(t){console.error("Error reading user from localStorage:",t)}};function ffe(){const[t,e]=S.useState(hfe);S.useEffect(()=>{const r=()=>{const o=JSON.parse(localStorage.getItem("user")||"null"),l=!!localStorage.getItem("authToken");return o&&l?(e(o),!0):!1};t||r();const i=()=>{r()};window.addEventListener("authStateChanged",i);const s=o=>{(o.key==="user"||o.key==="authToken")&&r()};window.addEventListener("storage",s);const a=j7(Ug,o=>{var l;if(o)e({id:o.uid,email:o.email,username:o.displayName||((l=o.email)==null?void 0:l.split("@")[0])});else{const c=JSON.parse(localStorage.getItem("user")||"null"),d=localStorage.getItem("authToken");e(c&&d?c:null)}});return()=>{a(),window.removeEventListener("authStateChanged",i),window.removeEventListener("storage",s)}},[]);async function n(){await L7(Ug),localStorage.clear(),sessionStorage.clear(),window.location.href="/"}return t?m.jsxs("div",{className:"container",children:[m.jsxs("nav",{className:"nav",children:[m.jsxs("div",{className:"left",children:[m.jsx("img",{src:"/cat-envelope.jpg",className:"logo-img",alt:"Cashvelo"}),m.jsx(Ko,{to:"/dashboard",end:!0,children:"Dashboard"}),m.jsx(Ko,{to:"/budget",children:"Budget"}),m.jsx(Ko,{to:"/expenses",children:"Spending"}),m.jsx(Ko,{to:"/insights",children:"Insights"})]}),m.jsxs("div",{className:"right",children:[m.jsx(Hg,{}),m.jsx("button",{onClick:n,className:"btn ghost logout",children:"Logout"})]})]}),m.jsxs(JO,{children:[m.jsx(Ur,{path:"/",element:m.jsx(Fg,{to:"/dashboard",replace:!0})}),m.jsx(Ur,{path:"/questionnaire",element:m.jsx(Zm,{user:t,children:m.jsx(dfe,{})})}),m.jsx(Ur,{path:"/dashboard",element:m.jsx(Zm,{user:t,children:m.jsx(rY,{})})}),m.jsx(Ur,{path:"/budget",element:m.jsx(Zm,{user:t,children:m.jsx(KX,{})})}),m.jsx(Ur,{path:"/expenses",element:m.jsx(Zm,{user:t,children:m.jsx(GX,{})})}),m.jsx(Ur,{path:"/insights",element:m.jsx(Zm,{user:t,children:m.jsx(ufe,{})})}),m.jsx(Ur,{path:"*",element:m.jsx(Fg,{to:"/dashboard",replace:!0})})]}),m.jsx(Fq,{})]}):m.jsxs(JO,{children:[m.jsx(Ur,{path:"/",element:m.jsx(eg,{user:t,children:m.jsx(Bq,{})})}),m.jsx(Ur,{path:"/login",element:m.jsx(eg,{user:t,children:m.jsx(Uq,{})})}),m.jsx(Ur,{path:"/signup",element:m.jsx(eg,{user:t,children:m.jsx(Hq,{})})}),m.jsx(Ur,{path:"/forgot-password",element:m.jsx(eg,{user:t,children:m.jsx(Vq,{})})}),m.jsx(Ur,{path:"/reset-password/:token",element:m.jsx(eg,{user:t,children:m.jsx(Gq,{})})}),m.jsx(Ur,{path:"*",element:m.jsx(Fg,{to:"/",replace:!0})})]})}oF(document.getElementById("root")).render(m.jsx(Jo.StrictMode,{children:m.jsx(iG,{children:m.jsx(ffe,{})})}));
